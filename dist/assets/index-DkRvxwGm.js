import{r as _,a as Km,b as Jm,R as Fm}from"./vendor-BRFpaEnO.js";import{c as Wm}from"./supabase-CxitxJ8v.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function a(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(n){if(n.ep)return;n.ep=!0;const r=a(n);fetch(n.href,r)}})();var Fd={exports:{}},mr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Im=Symbol.for("react.transitional.element"),Pm=Symbol.for("react.fragment");function Wd(e,t,a){var s=null;if(a!==void 0&&(s=""+a),t.key!==void 0&&(s=""+t.key),"key"in t){a={};for(var n in t)n!=="key"&&(a[n]=t[n])}else a=t;return t=a.ref,{$$typeof:Im,type:e,key:s,ref:t!==void 0?t:null,props:a}}mr.Fragment=Pm;mr.jsx=Wd;mr.jsxs=Wd;Fd.exports=mr;var l=Fd.exports,Id={exports:{}},fr={},Pd={exports:{}},eu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(O,X){var w=O.length;O.push(X);e:for(;0<w;){var C=w-1>>>1,u=O[C];if(0<n(u,X))O[C]=X,O[w]=u,w=C;else break e}}function a(O){return O.length===0?null:O[0]}function s(O){if(O.length===0)return null;var X=O[0],w=O.pop();if(w!==X){O[0]=w;e:for(var C=0,u=O.length,S=u>>>1;C<S;){var N=2*(C+1)-1,j=O[N],p=N+1,v=O[p];if(0>n(j,w))p<u&&0>n(v,j)?(O[C]=v,O[p]=w,C=p):(O[C]=j,O[N]=w,C=N);else if(p<u&&0>n(v,w))O[C]=v,O[p]=w,C=p;else break e}}return X}function n(O,X){var w=O.sortIndex-X.sortIndex;return w!==0?w:O.id-X.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;e.unstable_now=function(){return r.now()}}else{var i=Date,o=i.now();e.unstable_now=function(){return i.now()-o}}var c=[],x=[],h=1,b=null,m=3,f=!1,E=!1,D=!1,q=!1,g=typeof setTimeout=="function"?setTimeout:null,d=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;function k(O){for(var X=a(x);X!==null;){if(X.callback===null)s(x);else if(X.startTime<=O)s(x),X.sortIndex=X.expirationTime,t(c,X);else break;X=a(x)}}function z(O){if(D=!1,k(O),!E)if(a(c)!==null)E=!0,U||(U=!0,Q());else{var X=a(x);X!==null&&I(z,X.startTime-O)}}var U=!1,B=-1,H=5,Z=-1;function Y(){return q?!0:!(e.unstable_now()-Z<H)}function P(){if(q=!1,U){var O=e.unstable_now();Z=O;var X=!0;try{e:{E=!1,D&&(D=!1,d(B),B=-1),f=!0;var w=m;try{t:{for(k(O),b=a(c);b!==null&&!(b.expirationTime>O&&Y());){var C=b.callback;if(typeof C=="function"){b.callback=null,m=b.priorityLevel;var u=C(b.expirationTime<=O);if(O=e.unstable_now(),typeof u=="function"){b.callback=u,k(O),X=!0;break t}b===a(c)&&s(c),k(O)}else s(c);b=a(c)}if(b!==null)X=!0;else{var S=a(x);S!==null&&I(z,S.startTime-O),X=!1}}break e}finally{b=null,m=w,f=!1}X=void 0}}finally{X?Q():U=!1}}}var Q;if(typeof y=="function")Q=function(){y(P)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,G=V.port2;V.port1.onmessage=P,Q=function(){G.postMessage(null)}}else Q=function(){g(P,0)};function I(O,X){B=g(function(){O(e.unstable_now())},X)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_next=function(O){switch(m){case 1:case 2:case 3:var X=3;break;default:X=m}var w=m;m=X;try{return O()}finally{m=w}},e.unstable_requestPaint=function(){q=!0},e.unstable_runWithPriority=function(O,X){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var w=m;m=O;try{return X()}finally{m=w}},e.unstable_scheduleCallback=function(O,X,w){var C=e.unstable_now();switch(typeof w=="object"&&w!==null?(w=w.delay,w=typeof w=="number"&&0<w?C+w:C):w=C,O){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return u=w+u,O={id:h++,callback:X,priorityLevel:O,startTime:w,expirationTime:u,sortIndex:-1},w>C?(O.sortIndex=w,t(x,O),a(c)===null&&O===a(x)&&(D?(d(B),B=-1):D=!0,I(z,w-C))):(O.sortIndex=u,t(c,O),E||f||(E=!0,U||(U=!0,Q()))),O},e.unstable_shouldYield=Y,e.unstable_wrapCallback=function(O){var X=m;return function(){var w=m;m=X;try{return O.apply(this,arguments)}finally{m=w}}}})(eu);Pd.exports=eu;var ef=Pd.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var He=ef,tu=_,tf=Km;function R(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function au(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Bl(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function su(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Nc(e){if(Bl(e)!==e)throw Error(R(188))}function af(e){var t=e.alternate;if(!t){if(t=Bl(e),t===null)throw Error(R(188));return t!==e?null:e}for(var a=e,s=t;;){var n=a.return;if(n===null)break;var r=n.alternate;if(r===null){if(s=n.return,s!==null){a=s;continue}break}if(n.child===r.child){for(r=n.child;r;){if(r===a)return Nc(n),e;if(r===s)return Nc(n),t;r=r.sibling}throw Error(R(188))}if(a.return!==s.return)a=n,s=r;else{for(var i=!1,o=n.child;o;){if(o===a){i=!0,a=n,s=r;break}if(o===s){i=!0,s=n,a=r;break}o=o.sibling}if(!i){for(o=r.child;o;){if(o===a){i=!0,a=r,s=n;break}if(o===s){i=!0,s=r,a=n;break}o=o.sibling}if(!i)throw Error(R(189))}}if(a.alternate!==s)throw Error(R(190))}if(a.tag!==3)throw Error(R(188));return a.stateNode.current===a?e:t}function lu(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=lu(e),t!==null)return t;e=e.sibling}return null}var Se=Object.assign,sf=Symbol.for("react.element"),sn=Symbol.for("react.transitional.element"),sl=Symbol.for("react.portal"),os=Symbol.for("react.fragment"),nu=Symbol.for("react.strict_mode"),yi=Symbol.for("react.profiler"),lf=Symbol.for("react.provider"),ru=Symbol.for("react.consumer"),Xt=Symbol.for("react.context"),wo=Symbol.for("react.forward_ref"),pi=Symbol.for("react.suspense"),vi=Symbol.for("react.suspense_list"),ko=Symbol.for("react.memo"),ra=Symbol.for("react.lazy"),Ni=Symbol.for("react.activity"),nf=Symbol.for("react.memo_cache_sentinel"),jc=Symbol.iterator;function Ks(e){return e===null||typeof e!="object"?null:(e=jc&&e[jc]||e["@@iterator"],typeof e=="function"?e:null)}var rf=Symbol.for("react.client.reference");function ji(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===rf?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case os:return"Fragment";case yi:return"Profiler";case nu:return"StrictMode";case pi:return"Suspense";case vi:return"SuspenseList";case Ni:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case sl:return"Portal";case Xt:return(e.displayName||"Context")+".Provider";case ru:return(e._context.displayName||"Context")+".Consumer";case wo:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ko:return t=e.displayName||null,t!==null?t:ji(e.type)||"Memo";case ra:t=e._payload,e=e._init;try{return ji(e(t))}catch{}}return null}var ll=Array.isArray,ne=tu.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,be=tf.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$a={pending:!1,data:null,method:null,action:null},wi=[],cs=-1;function Lt(e){return{current:e}}function Qe(e){0>cs||(e.current=wi[cs],wi[cs]=null,cs--)}function De(e,t){cs++,wi[cs]=e.current,e.current=t}var Ot=Lt(null),jl=Lt(null),ba=Lt(null),qn=Lt(null);function zn(e,t){switch(De(ba,t),De(jl,e),De(Ot,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Ed(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Ed(t),e=wm(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Qe(Ot),De(Ot,e)}function As(){Qe(Ot),Qe(jl),Qe(ba)}function ki(e){e.memoizedState!==null&&De(qn,e);var t=Ot.current,a=wm(t,e.type);t!==a&&(De(jl,e),De(Ot,a))}function Rn(e){jl.current===e&&(Qe(Ot),Qe(jl)),qn.current===e&&(Qe(qn),Ml._currentValue=$a)}var Si=Object.prototype.hasOwnProperty,So=He.unstable_scheduleCallback,Rr=He.unstable_cancelCallback,of=He.unstable_shouldYield,cf=He.unstable_requestPaint,Bt=He.unstable_now,df=He.unstable_getCurrentPriorityLevel,iu=He.unstable_ImmediatePriority,ou=He.unstable_UserBlockingPriority,On=He.unstable_NormalPriority,uf=He.unstable_LowPriority,cu=He.unstable_IdlePriority,mf=He.log,ff=He.unstable_setDisableYieldValue,Ul=null,ut=null;function fa(e){if(typeof mf=="function"&&ff(e),ut&&typeof ut.setStrictMode=="function")try{ut.setStrictMode(Ul,e)}catch{}}var mt=Math.clz32?Math.clz32:hf,gf=Math.log,xf=Math.LN2;function hf(e){return e>>>=0,e===0?32:31-(gf(e)/xf|0)|0}var ln=256,nn=4194304;function Oa(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function gr(e,t,a){var s=e.pendingLanes;if(s===0)return 0;var n=0,r=e.suspendedLanes,i=e.pingedLanes;e=e.warmLanes;var o=s&134217727;return o!==0?(s=o&~r,s!==0?n=Oa(s):(i&=o,i!==0?n=Oa(i):a||(a=o&~e,a!==0&&(n=Oa(a))))):(o=s&~r,o!==0?n=Oa(o):i!==0?n=Oa(i):a||(a=s&~e,a!==0&&(n=Oa(a)))),n===0?0:t!==0&&t!==n&&!(t&r)&&(r=n&-n,a=t&-t,r>=a||r===32&&(a&4194048)!==0)?t:n}function Ll(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function bf(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function du(){var e=ln;return ln<<=1,!(ln&4194048)&&(ln=256),e}function uu(){var e=nn;return nn<<=1,!(nn&62914560)&&(nn=4194304),e}function Or(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function $l(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function yf(e,t,a,s,n,r){var i=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var o=e.entanglements,c=e.expirationTimes,x=e.hiddenUpdates;for(a=i&~a;0<a;){var h=31-mt(a),b=1<<h;o[h]=0,c[h]=-1;var m=x[h];if(m!==null)for(x[h]=null,h=0;h<m.length;h++){var f=m[h];f!==null&&(f.lane&=-536870913)}a&=~b}s!==0&&mu(e,s,0),r!==0&&n===0&&e.tag!==0&&(e.suspendedLanes|=r&~(i&~t))}function mu(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-mt(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|a&4194090}function fu(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var s=31-mt(a),n=1<<s;n&t|e[s]&t&&(e[s]|=t),a&=~n}}function _o(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Eo(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function gu(){var e=be.p;return e!==0?e:(e=window.event,e===void 0?32:qm(e.type))}function pf(e,t){var a=be.p;try{return be.p=e,t()}finally{be.p=a}}var Ta=Math.random().toString(36).slice(2),Je="__reactFiber$"+Ta,nt="__reactProps$"+Ta,Hs="__reactContainer$"+Ta,_i="__reactEvents$"+Ta,vf="__reactListeners$"+Ta,Nf="__reactHandles$"+Ta,wc="__reactResources$"+Ta,Hl="__reactMarker$"+Ta;function Do(e){delete e[Je],delete e[nt],delete e[_i],delete e[vf],delete e[Nf]}function ds(e){var t=e[Je];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Hs]||a[Je]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=Ad(e);e!==null;){if(a=e[Je])return a;e=Ad(e)}return t}e=a,a=e.parentNode}return null}function Gs(e){if(e=e[Je]||e[Hs]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function nl(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(R(33))}function js(e){var t=e[wc];return t||(t=e[wc]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ye(e){e[Hl]=!0}var xu=new Set,hu={};function Wa(e,t){Cs(e,t),Cs(e+"Capture",t)}function Cs(e,t){for(hu[e]=t,e=0;e<t.length;e++)xu.add(t[e])}var jf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),kc={},Sc={};function wf(e){return Si.call(Sc,e)?!0:Si.call(kc,e)?!1:jf.test(e)?Sc[e]=!0:(kc[e]=!0,!1)}function pn(e,t,a){if(wf(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function rn(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function Gt(e,t,a,s){if(s===null)e.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+s)}}var Br,_c;function ns(e){if(Br===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);Br=t&&t[1]||"",_c=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Br+e+_c}var Ur=!1;function Lr(e,t){if(!e||Ur)return"";Ur=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var b=function(){throw Error()};if(Object.defineProperty(b.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(b,[])}catch(f){var m=f}Reflect.construct(e,[],b)}else{try{b.call()}catch(f){m=f}e.call(b.prototype)}}else{try{throw Error()}catch(f){m=f}(b=e())&&typeof b.catch=="function"&&b.catch(function(){})}}catch(f){if(f&&m&&typeof f.stack=="string")return[f.stack,m.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var n=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");n&&n.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=s.DetermineComponentFrameRoot(),i=r[0],o=r[1];if(i&&o){var c=i.split(`
`),x=o.split(`
`);for(n=s=0;s<c.length&&!c[s].includes("DetermineComponentFrameRoot");)s++;for(;n<x.length&&!x[n].includes("DetermineComponentFrameRoot");)n++;if(s===c.length||n===x.length)for(s=c.length-1,n=x.length-1;1<=s&&0<=n&&c[s]!==x[n];)n--;for(;1<=s&&0<=n;s--,n--)if(c[s]!==x[n]){if(s!==1||n!==1)do if(s--,n--,0>n||c[s]!==x[n]){var h=`
`+c[s].replace(" at new "," at ");return e.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",e.displayName)),h}while(1<=s&&0<=n);break}}}finally{Ur=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ns(a):""}function kf(e){switch(e.tag){case 26:case 27:case 5:return ns(e.type);case 16:return ns("Lazy");case 13:return ns("Suspense");case 19:return ns("SuspenseList");case 0:case 15:return Lr(e.type,!1);case 11:return Lr(e.type.render,!1);case 1:return Lr(e.type,!0);case 31:return ns("Activity");default:return""}}function Ec(e){try{var t="";do t+=kf(e),e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function pt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function bu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Sf(e){var t=bu(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var n=a.get,r=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(i){s=""+i,r.call(this,i)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return s},setValue:function(i){s=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Bn(e){e._valueTracker||(e._valueTracker=Sf(e))}function yu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),s="";return e&&(s=bu(e)?e.checked?"true":"false":e.value),e=s,e!==a?(t.setValue(e),!0):!1}function Un(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var _f=/[\n"\\]/g;function jt(e){return e.replace(_f,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Ei(e,t,a,s,n,r,i,o){e.name="",i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"?e.type=i:e.removeAttribute("type"),t!=null?i==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+pt(t)):e.value!==""+pt(t)&&(e.value=""+pt(t)):i!=="submit"&&i!=="reset"||e.removeAttribute("value"),t!=null?Di(e,i,pt(t)):a!=null?Di(e,i,pt(a)):s!=null&&e.removeAttribute("value"),n==null&&r!=null&&(e.defaultChecked=!!r),n!=null&&(e.checked=n&&typeof n!="function"&&typeof n!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.name=""+pt(o):e.removeAttribute("name")}function pu(e,t,a,s,n,r,i,o){if(r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.type=r),t!=null||a!=null){if(!(r!=="submit"&&r!=="reset"||t!=null))return;a=a!=null?""+pt(a):"",t=t!=null?""+pt(t):a,o||t===e.value||(e.value=t),e.defaultValue=t}s=s??n,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=o?e.checked:!!s,e.defaultChecked=!!s,i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.name=i)}function Di(e,t,a){t==="number"&&Un(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function ws(e,t,a,s){if(e=e.options,t){t={};for(var n=0;n<a.length;n++)t["$"+a[n]]=!0;for(a=0;a<e.length;a++)n=t.hasOwnProperty("$"+e[a].value),e[a].selected!==n&&(e[a].selected=n),n&&s&&(e[a].defaultSelected=!0)}else{for(a=""+pt(a),t=null,n=0;n<e.length;n++){if(e[n].value===a){e[n].selected=!0,s&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function vu(e,t,a){if(t!=null&&(t=""+pt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+pt(a):""}function Nu(e,t,a,s){if(t==null){if(s!=null){if(a!=null)throw Error(R(92));if(ll(s)){if(1<s.length)throw Error(R(93));s=s[0]}a=s}a==null&&(a=""),t=a}a=pt(t),e.defaultValue=a,s=e.textContent,s===a&&s!==""&&s!==null&&(e.value=s)}function Ms(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var Ef=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Dc(e,t,a){var s=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,a):typeof a!="number"||a===0||Ef.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function ju(e,t,a){if(t!=null&&typeof t!="object")throw Error(R(62));if(e=e.style,a!=null){for(var s in a)!a.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var n in t)s=t[n],t.hasOwnProperty(n)&&a[n]!==s&&Dc(e,n,s)}else for(var r in t)t.hasOwnProperty(r)&&Dc(e,r,t[r])}function To(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Df=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Tf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function vn(e){return Tf.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Ti=null;function Ao(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var us=null,ks=null;function Tc(e){var t=Gs(e);if(t&&(e=t.stateNode)){var a=e[nt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Ei(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+jt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var s=a[t];if(s!==e&&s.form===e.form){var n=s[nt]||null;if(!n)throw Error(R(90));Ei(s,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name)}}for(t=0;t<a.length;t++)s=a[t],s.form===e.form&&yu(s)}break e;case"textarea":vu(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&ws(e,!!a.multiple,t,!1)}}}var $r=!1;function wu(e,t,a){if($r)return e(t,a);$r=!0;try{var s=e(t);return s}finally{if($r=!1,(us!==null||ks!==null)&&(kr(),us&&(t=us,e=ks,ks=us=null,Tc(t),e)))for(t=0;t<e.length;t++)Tc(e[t])}}function wl(e,t){var a=e.stateNode;if(a===null)return null;var s=a[nt]||null;if(s===null)return null;a=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(R(231,t,typeof a));return a}var Pt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ai=!1;if(Pt)try{var Js={};Object.defineProperty(Js,"passive",{get:function(){Ai=!0}}),window.addEventListener("test",Js,Js),window.removeEventListener("test",Js,Js)}catch{Ai=!1}var ga=null,Co=null,Nn=null;function ku(){if(Nn)return Nn;var e,t=Co,a=t.length,s,n="value"in ga?ga.value:ga.textContent,r=n.length;for(e=0;e<a&&t[e]===n[e];e++);var i=a-e;for(s=1;s<=i&&t[a-s]===n[r-s];s++);return Nn=n.slice(e,1<s?1-s:void 0)}function jn(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function on(){return!0}function Ac(){return!1}function rt(e){function t(a,s,n,r,i){this._reactName=a,this._targetInst=n,this.type=s,this.nativeEvent=r,this.target=i,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(a=e[o],this[o]=a?a(r):r[o]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?on:Ac,this.isPropagationStopped=Ac,this}return Se(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var Ia={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xr=rt(Ia),Gl=Se({},Ia,{view:0,detail:0}),Af=rt(Gl),Hr,Gr,Fs,hr=Se({},Gl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Fs&&(Fs&&e.type==="mousemove"?(Hr=e.screenX-Fs.screenX,Gr=e.screenY-Fs.screenY):Gr=Hr=0,Fs=e),Hr)},movementY:function(e){return"movementY"in e?e.movementY:Gr}}),Cc=rt(hr),Cf=Se({},hr,{dataTransfer:0}),Mf=rt(Cf),qf=Se({},Gl,{relatedTarget:0}),Yr=rt(qf),zf=Se({},Ia,{animationName:0,elapsedTime:0,pseudoElement:0}),Rf=rt(zf),Of=Se({},Ia,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Bf=rt(Of),Uf=Se({},Ia,{data:0}),Mc=rt(Uf),Lf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$f={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gf(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Hf[e])?!!t[e]:!1}function Mo(){return Gf}var Yf=Se({},Gl,{key:function(e){if(e.key){var t=Lf[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=jn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?$f[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mo,charCode:function(e){return e.type==="keypress"?jn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?jn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Vf=rt(Yf),Qf=Se({},hr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qc=rt(Qf),Xf=Se({},Gl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mo}),Zf=rt(Xf),Kf=Se({},Ia,{propertyName:0,elapsedTime:0,pseudoElement:0}),Jf=rt(Kf),Ff=Se({},hr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Wf=rt(Ff),If=Se({},Ia,{newState:0,oldState:0}),Pf=rt(If),eg=[9,13,27,32],qo=Pt&&"CompositionEvent"in window,il=null;Pt&&"documentMode"in document&&(il=document.documentMode);var tg=Pt&&"TextEvent"in window&&!il,Su=Pt&&(!qo||il&&8<il&&11>=il),zc=" ",Rc=!1;function _u(e,t){switch(e){case"keyup":return eg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Eu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ms=!1;function ag(e,t){switch(e){case"compositionend":return Eu(t);case"keypress":return t.which!==32?null:(Rc=!0,zc);case"textInput":return e=t.data,e===zc&&Rc?null:e;default:return null}}function sg(e,t){if(ms)return e==="compositionend"||!qo&&_u(e,t)?(e=ku(),Nn=Co=ga=null,ms=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Su&&t.locale!=="ko"?null:t.data;default:return null}}var lg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Oc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!lg[e.type]:t==="textarea"}function Du(e,t,a,s){us?ks?ks.push(s):ks=[s]:us=s,t=ar(t,"onChange"),0<t.length&&(a=new xr("onChange","change",null,a,s),e.push({event:a,listeners:t}))}var ol=null,kl=null;function ng(e){vm(e,0)}function br(e){var t=nl(e);if(yu(t))return e}function Bc(e,t){if(e==="change")return t}var Tu=!1;if(Pt){var Vr;if(Pt){var Qr="oninput"in document;if(!Qr){var Uc=document.createElement("div");Uc.setAttribute("oninput","return;"),Qr=typeof Uc.oninput=="function"}Vr=Qr}else Vr=!1;Tu=Vr&&(!document.documentMode||9<document.documentMode)}function Lc(){ol&&(ol.detachEvent("onpropertychange",Au),kl=ol=null)}function Au(e){if(e.propertyName==="value"&&br(kl)){var t=[];Du(t,kl,e,Ao(e)),wu(ng,t)}}function rg(e,t,a){e==="focusin"?(Lc(),ol=t,kl=a,ol.attachEvent("onpropertychange",Au)):e==="focusout"&&Lc()}function ig(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return br(kl)}function og(e,t){if(e==="click")return br(t)}function cg(e,t){if(e==="input"||e==="change")return br(t)}function dg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var xt=typeof Object.is=="function"?Object.is:dg;function Sl(e,t){if(xt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),s=Object.keys(t);if(a.length!==s.length)return!1;for(s=0;s<a.length;s++){var n=a[s];if(!Si.call(t,n)||!xt(e[n],t[n]))return!1}return!0}function $c(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Hc(e,t){var a=$c(e);e=0;for(var s;a;){if(a.nodeType===3){if(s=e+a.textContent.length,e<=t&&s>=t)return{node:a,offset:t-e};e=s}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=$c(a)}}function Cu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Cu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Mu(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Un(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Un(e.document)}return t}function zo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var ug=Pt&&"documentMode"in document&&11>=document.documentMode,fs=null,Ci=null,cl=null,Mi=!1;function Gc(e,t,a){var s=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Mi||fs==null||fs!==Un(s)||(s=fs,"selectionStart"in s&&zo(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),cl&&Sl(cl,s)||(cl=s,s=ar(Ci,"onSelect"),0<s.length&&(t=new xr("onSelect","select",null,t,a),e.push({event:t,listeners:s}),t.target=fs)))}function za(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var gs={animationend:za("Animation","AnimationEnd"),animationiteration:za("Animation","AnimationIteration"),animationstart:za("Animation","AnimationStart"),transitionrun:za("Transition","TransitionRun"),transitionstart:za("Transition","TransitionStart"),transitioncancel:za("Transition","TransitionCancel"),transitionend:za("Transition","TransitionEnd")},Xr={},qu={};Pt&&(qu=document.createElement("div").style,"AnimationEvent"in window||(delete gs.animationend.animation,delete gs.animationiteration.animation,delete gs.animationstart.animation),"TransitionEvent"in window||delete gs.transitionend.transition);function Pa(e){if(Xr[e])return Xr[e];if(!gs[e])return e;var t=gs[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in qu)return Xr[e]=t[a];return e}var zu=Pa("animationend"),Ru=Pa("animationiteration"),Ou=Pa("animationstart"),mg=Pa("transitionrun"),fg=Pa("transitionstart"),gg=Pa("transitioncancel"),Bu=Pa("transitionend"),Uu=new Map,qi="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qi.push("scrollEnd");function Ct(e,t){Uu.set(e,t),Wa(t,[e])}var Yc=new WeakMap;function wt(e,t){if(typeof e=="object"&&e!==null){var a=Yc.get(e);return a!==void 0?a:(t={value:e,source:t,stack:Ec(t)},Yc.set(e,t),t)}return{value:e,source:t,stack:Ec(t)}}var yt=[],xs=0,Ro=0;function yr(){for(var e=xs,t=Ro=xs=0;t<e;){var a=yt[t];yt[t++]=null;var s=yt[t];yt[t++]=null;var n=yt[t];yt[t++]=null;var r=yt[t];if(yt[t++]=null,s!==null&&n!==null){var i=s.pending;i===null?n.next=n:(n.next=i.next,i.next=n),s.pending=n}r!==0&&Lu(a,n,r)}}function pr(e,t,a,s){yt[xs++]=e,yt[xs++]=t,yt[xs++]=a,yt[xs++]=s,Ro|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function Oo(e,t,a,s){return pr(e,t,a,s),Ln(e)}function Ys(e,t){return pr(e,null,null,t),Ln(e)}function Lu(e,t,a){e.lanes|=a;var s=e.alternate;s!==null&&(s.lanes|=a);for(var n=!1,r=e.return;r!==null;)r.childLanes|=a,s=r.alternate,s!==null&&(s.childLanes|=a),r.tag===22&&(e=r.stateNode,e===null||e._visibility&1||(n=!0)),e=r,r=r.return;return e.tag===3?(r=e.stateNode,n&&t!==null&&(n=31-mt(a),e=r.hiddenUpdates,s=e[n],s===null?e[n]=[t]:s.push(t),t.lane=a|536870912),r):null}function Ln(e){if(50<pl)throw pl=0,eo=null,Error(R(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var hs={};function xg(e,t,a,s){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dt(e,t,a,s){return new xg(e,t,a,s)}function Bo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Wt(e,t){var a=e.alternate;return a===null?(a=dt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function $u(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function wn(e,t,a,s,n,r){var i=0;if(s=e,typeof e=="function")Bo(e)&&(i=1);else if(typeof e=="string")i=bx(e,a,Ot.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Ni:return e=dt(31,a,t,n),e.elementType=Ni,e.lanes=r,e;case os:return Ha(a.children,n,r,t);case nu:i=8,n|=24;break;case yi:return e=dt(12,a,t,n|2),e.elementType=yi,e.lanes=r,e;case pi:return e=dt(13,a,t,n),e.elementType=pi,e.lanes=r,e;case vi:return e=dt(19,a,t,n),e.elementType=vi,e.lanes=r,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case lf:case Xt:i=10;break e;case ru:i=9;break e;case wo:i=11;break e;case ko:i=14;break e;case ra:i=16,s=null;break e}i=29,a=Error(R(130,e===null?"null":typeof e,"")),s=null}return t=dt(i,a,t,n),t.elementType=e,t.type=s,t.lanes=r,t}function Ha(e,t,a,s){return e=dt(7,e,s,t),e.lanes=a,e}function Zr(e,t,a){return e=dt(6,e,null,t),e.lanes=a,e}function Kr(e,t,a){return t=dt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var bs=[],ys=0,$n=null,Hn=0,vt=[],Nt=0,Ga=null,Zt=1,Kt="";function Ba(e,t){bs[ys++]=Hn,bs[ys++]=$n,$n=e,Hn=t}function Hu(e,t,a){vt[Nt++]=Zt,vt[Nt++]=Kt,vt[Nt++]=Ga,Ga=e;var s=Zt;e=Kt;var n=32-mt(s)-1;s&=~(1<<n),a+=1;var r=32-mt(t)+n;if(30<r){var i=n-n%5;r=(s&(1<<i)-1).toString(32),s>>=i,n-=i,Zt=1<<32-mt(t)+n|a<<n|s,Kt=r+e}else Zt=1<<r|a<<n|s,Kt=e}function Uo(e){e.return!==null&&(Ba(e,1),Hu(e,1,0))}function Lo(e){for(;e===$n;)$n=bs[--ys],bs[ys]=null,Hn=bs[--ys],bs[ys]=null;for(;e===Ga;)Ga=vt[--Nt],vt[Nt]=null,Kt=vt[--Nt],vt[Nt]=null,Zt=vt[--Nt],vt[Nt]=null}var Ie=null,Ae=null,he=!1,Ya=null,zt=!1,zi=Error(R(519));function Za(e){var t=Error(R(418,""));throw _l(wt(t,e)),zi}function Vc(e){var t=e.stateNode,a=e.type,s=e.memoizedProps;switch(t[Je]=e,t[nt]=s,a){case"dialog":fe("cancel",t),fe("close",t);break;case"iframe":case"object":case"embed":fe("load",t);break;case"video":case"audio":for(a=0;a<Tl.length;a++)fe(Tl[a],t);break;case"source":fe("error",t);break;case"img":case"image":case"link":fe("error",t),fe("load",t);break;case"details":fe("toggle",t);break;case"input":fe("invalid",t),pu(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0),Bn(t);break;case"select":fe("invalid",t);break;case"textarea":fe("invalid",t),Nu(t,s.value,s.defaultValue,s.children),Bn(t)}a=s.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||s.suppressHydrationWarning===!0||jm(t.textContent,a)?(s.popover!=null&&(fe("beforetoggle",t),fe("toggle",t)),s.onScroll!=null&&fe("scroll",t),s.onScrollEnd!=null&&fe("scrollend",t),s.onClick!=null&&(t.onclick=Er),t=!0):t=!1,t||Za(e)}function Qc(e){for(Ie=e.return;Ie;)switch(Ie.tag){case 5:case 13:zt=!1;return;case 27:case 3:zt=!0;return;default:Ie=Ie.return}}function Ws(e){if(e!==Ie)return!1;if(!he)return Qc(e),he=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||ro(e.type,e.memoizedProps)),a=!a),a&&Ae&&Za(e),Qc(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(R(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(t===0){Ae=At(e.nextSibling);break e}t--}else a!=="$"&&a!=="$!"&&a!=="$?"||t++;e=e.nextSibling}Ae=null}}else t===27?(t=Ae,Aa(e.type)?(e=co,co=null,Ae=e):Ae=t):Ae=Ie?At(e.stateNode.nextSibling):null;return!0}function Yl(){Ae=Ie=null,he=!1}function Xc(){var e=Ya;return e!==null&&(tt===null?tt=e:tt.push.apply(tt,e),Ya=null),e}function _l(e){Ya===null?Ya=[e]:Ya.push(e)}var Ri=Lt(null),es=null,Jt=null;function ca(e,t,a){De(Ri,t._currentValue),t._currentValue=a}function It(e){e._currentValue=Ri.current,Qe(Ri)}function Oi(e,t,a){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===a)break;e=e.return}}function Bi(e,t,a,s){var n=e.child;for(n!==null&&(n.return=e);n!==null;){var r=n.dependencies;if(r!==null){var i=n.child;r=r.firstContext;e:for(;r!==null;){var o=r;r=n;for(var c=0;c<t.length;c++)if(o.context===t[c]){r.lanes|=a,o=r.alternate,o!==null&&(o.lanes|=a),Oi(r.return,a,e),s||(i=null);break e}r=o.next}}else if(n.tag===18){if(i=n.return,i===null)throw Error(R(341));i.lanes|=a,r=i.alternate,r!==null&&(r.lanes|=a),Oi(i,a,e),i=null}else i=n.child;if(i!==null)i.return=n;else for(i=n;i!==null;){if(i===e){i=null;break}if(n=i.sibling,n!==null){n.return=i.return,i=n;break}i=i.return}n=i}}function Vl(e,t,a,s){e=null;for(var n=t,r=!1;n!==null;){if(!r){if(n.flags&524288)r=!0;else if(n.flags&262144)break}if(n.tag===10){var i=n.alternate;if(i===null)throw Error(R(387));if(i=i.memoizedProps,i!==null){var o=n.type;xt(n.pendingProps.value,i.value)||(e!==null?e.push(o):e=[o])}}else if(n===qn.current){if(i=n.alternate,i===null)throw Error(R(387));i.memoizedState.memoizedState!==n.memoizedState.memoizedState&&(e!==null?e.push(Ml):e=[Ml])}n=n.return}e!==null&&Bi(t,e,a,s),t.flags|=262144}function Gn(e){for(e=e.firstContext;e!==null;){if(!xt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ka(e){es=e,Jt=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Fe(e){return Gu(es,e)}function cn(e,t){return es===null&&Ka(e),Gu(e,t)}function Gu(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},Jt===null){if(e===null)throw Error(R(308));Jt=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Jt=Jt.next=t;return a}var hg=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},bg=He.unstable_scheduleCallback,yg=He.unstable_NormalPriority,Ue={$$typeof:Xt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $o(){return{controller:new hg,data:new Map,refCount:0}}function Ql(e){e.refCount--,e.refCount===0&&bg(yg,function(){e.controller.abort()})}var dl=null,Ui=0,qs=0,Ss=null;function pg(e,t){if(dl===null){var a=dl=[];Ui=0,qs=cc(),Ss={status:"pending",value:void 0,then:function(s){a.push(s)}}}return Ui++,t.then(Zc,Zc),t}function Zc(){if(--Ui===0&&dl!==null){Ss!==null&&(Ss.status="fulfilled");var e=dl;dl=null,qs=0,Ss=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function vg(e,t){var a=[],s={status:"pending",value:null,reason:null,then:function(n){a.push(n)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var n=0;n<a.length;n++)(0,a[n])(t)},function(n){for(s.status="rejected",s.reason=n,n=0;n<a.length;n++)(0,a[n])(void 0)}),s}var Kc=ne.S;ne.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&pg(e,t),Kc!==null&&Kc(e,t)};var Va=Lt(null);function Ho(){var e=Va.current;return e!==null?e:we.pooledCache}function kn(e,t){t===null?De(Va,Va.current):De(Va,t.pool)}function Yu(){var e=Ho();return e===null?null:{parent:Ue._currentValue,pool:e}}var Xl=Error(R(460)),Vu=Error(R(474)),vr=Error(R(542)),Li={then:function(){}};function Jc(e){return e=e.status,e==="fulfilled"||e==="rejected"}function dn(){}function Qu(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(dn,dn),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Wc(e),e;default:if(typeof t.status=="string")t.then(dn,dn);else{if(e=we,e!==null&&100<e.shellSuspendCounter)throw Error(R(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var n=t;n.status="fulfilled",n.value=s}},function(s){if(t.status==="pending"){var n=t;n.status="rejected",n.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Wc(e),e}throw ul=t,Xl}}var ul=null;function Fc(){if(ul===null)throw Error(R(459));var e=ul;return ul=null,e}function Wc(e){if(e===Xl||e===vr)throw Error(R(483))}var ia=!1;function Go(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $i(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ya(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function pa(e,t,a){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,pe&2){var n=s.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),s.pending=t,t=Ln(e),Lu(e,null,a),t}return pr(e,s,t,a),Ln(e)}function ml(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,fu(e,a)}}function Jr(e,t){var a=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,a===s)){var n=null,r=null;if(a=a.firstBaseUpdate,a!==null){do{var i={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};r===null?n=r=i:r=r.next=i,a=a.next}while(a!==null);r===null?n=r=t:r=r.next=t}else n=r=t;a={baseState:s.baseState,firstBaseUpdate:n,lastBaseUpdate:r,shared:s.shared,callbacks:s.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var Hi=!1;function fl(){if(Hi){var e=Ss;if(e!==null)throw e}}function gl(e,t,a,s){Hi=!1;var n=e.updateQueue;ia=!1;var r=n.firstBaseUpdate,i=n.lastBaseUpdate,o=n.shared.pending;if(o!==null){n.shared.pending=null;var c=o,x=c.next;c.next=null,i===null?r=x:i.next=x,i=c;var h=e.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==i&&(o===null?h.firstBaseUpdate=x:o.next=x,h.lastBaseUpdate=c))}if(r!==null){var b=n.baseState;i=0,h=x=c=null,o=r;do{var m=o.lane&-536870913,f=m!==o.lane;if(f?(xe&m)===m:(s&m)===m){m!==0&&m===qs&&(Hi=!0),h!==null&&(h=h.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var E=e,D=o;m=t;var q=a;switch(D.tag){case 1:if(E=D.payload,typeof E=="function"){b=E.call(q,b,m);break e}b=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=D.payload,m=typeof E=="function"?E.call(q,b,m):E,m==null)break e;b=Se({},b,m);break e;case 2:ia=!0}}m=o.callback,m!==null&&(e.flags|=64,f&&(e.flags|=8192),f=n.callbacks,f===null?n.callbacks=[m]:f.push(m))}else f={lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(x=h=f,c=b):h=h.next=f,i|=m;if(o=o.next,o===null){if(o=n.shared.pending,o===null)break;f=o,o=f.next,f.next=null,n.lastBaseUpdate=f,n.shared.pending=null}}while(!0);h===null&&(c=b),n.baseState=c,n.firstBaseUpdate=x,n.lastBaseUpdate=h,r===null&&(n.shared.lanes=0),Da|=i,e.lanes=i,e.memoizedState=b}}function Xu(e,t){if(typeof e!="function")throw Error(R(191,e));e.call(t)}function Zu(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Xu(a[e],t)}var zs=Lt(null),Yn=Lt(0);function Ic(e,t){e=aa,De(Yn,e),De(zs,t),aa=e|t.baseLanes}function Gi(){De(Yn,aa),De(zs,zs.current)}function Yo(){aa=Yn.current,Qe(zs),Qe(Yn)}var _a=0,me=null,Ne=null,Oe=null,Vn=!1,_s=!1,Ja=!1,Qn=0,El=0,Es=null,Ng=0;function qe(){throw Error(R(321))}function Vo(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!xt(e[a],t[a]))return!1;return!0}function Qo(e,t,a,s,n,r){return _a=r,me=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ne.H=e===null||e.memoizedState===null?k0:S0,Ja=!1,r=a(s,n),Ja=!1,_s&&(r=Ju(t,a,s,n)),Ku(e),r}function Ku(e){ne.H=Xn;var t=Ne!==null&&Ne.next!==null;if(_a=0,Oe=Ne=me=null,Vn=!1,El=0,Es=null,t)throw Error(R(300));e===null||Ve||(e=e.dependencies,e!==null&&Gn(e)&&(Ve=!0))}function Ju(e,t,a,s){me=e;var n=0;do{if(_s&&(Es=null),El=0,_s=!1,25<=n)throw Error(R(301));if(n+=1,Oe=Ne=null,e.updateQueue!=null){var r=e.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,r.memoCache!=null&&(r.memoCache.index=0)}ne.H=Dg,r=t(a,s)}while(_s);return r}function jg(){var e=ne.H,t=e.useState()[0];return t=typeof t.then=="function"?Zl(t):t,e=e.useState()[0],(Ne!==null?Ne.memoizedState:null)!==e&&(me.flags|=1024),t}function Xo(){var e=Qn!==0;return Qn=0,e}function Zo(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function Ko(e){if(Vn){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Vn=!1}_a=0,Oe=Ne=me=null,_s=!1,El=Qn=0,Es=null}function Pe(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Oe===null?me.memoizedState=Oe=e:Oe=Oe.next=e,Oe}function Be(){if(Ne===null){var e=me.alternate;e=e!==null?e.memoizedState:null}else e=Ne.next;var t=Oe===null?me.memoizedState:Oe.next;if(t!==null)Oe=t,Ne=e;else{if(e===null)throw me.alternate===null?Error(R(467)):Error(R(310));Ne=e,e={memoizedState:Ne.memoizedState,baseState:Ne.baseState,baseQueue:Ne.baseQueue,queue:Ne.queue,next:null},Oe===null?me.memoizedState=Oe=e:Oe=Oe.next=e}return Oe}function Jo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zl(e){var t=El;return El+=1,Es===null&&(Es=[]),e=Qu(Es,e,t),t=me,(Oe===null?t.memoizedState:Oe.next)===null&&(t=t.alternate,ne.H=t===null||t.memoizedState===null?k0:S0),e}function Nr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Zl(e);if(e.$$typeof===Xt)return Fe(e)}throw Error(R(438,String(e)))}function Fo(e){var t=null,a=me.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var s=me.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(n){return n.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=Jo(),me.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),s=0;s<e;s++)a[s]=nf;return t.index++,a}function ea(e,t){return typeof t=="function"?t(e):t}function Sn(e){var t=Be();return Wo(t,Ne,e)}function Wo(e,t,a){var s=e.queue;if(s===null)throw Error(R(311));s.lastRenderedReducer=a;var n=e.baseQueue,r=s.pending;if(r!==null){if(n!==null){var i=n.next;n.next=r.next,r.next=i}t.baseQueue=n=r,s.pending=null}if(r=e.baseState,n===null)e.memoizedState=r;else{t=n.next;var o=i=null,c=null,x=t,h=!1;do{var b=x.lane&-536870913;if(b!==x.lane?(xe&b)===b:(_a&b)===b){var m=x.revertLane;if(m===0)c!==null&&(c=c.next={lane:0,revertLane:0,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null}),b===qs&&(h=!0);else if((_a&m)===m){x=x.next,m===qs&&(h=!0);continue}else b={lane:0,revertLane:x.revertLane,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null},c===null?(o=c=b,i=r):c=c.next=b,me.lanes|=m,Da|=m;b=x.action,Ja&&a(r,b),r=x.hasEagerState?x.eagerState:a(r,b)}else m={lane:b,revertLane:x.revertLane,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null},c===null?(o=c=m,i=r):c=c.next=m,me.lanes|=b,Da|=b;x=x.next}while(x!==null&&x!==t);if(c===null?i=r:c.next=o,!xt(r,e.memoizedState)&&(Ve=!0,h&&(a=Ss,a!==null)))throw a;e.memoizedState=r,e.baseState=i,e.baseQueue=c,s.lastRenderedState=r}return n===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function Fr(e){var t=Be(),a=t.queue;if(a===null)throw Error(R(311));a.lastRenderedReducer=e;var s=a.dispatch,n=a.pending,r=t.memoizedState;if(n!==null){a.pending=null;var i=n=n.next;do r=e(r,i.action),i=i.next;while(i!==n);xt(r,t.memoizedState)||(Ve=!0),t.memoizedState=r,t.baseQueue===null&&(t.baseState=r),a.lastRenderedState=r}return[r,s]}function Fu(e,t,a){var s=me,n=Be(),r=he;if(r){if(a===void 0)throw Error(R(407));a=a()}else a=t();var i=!xt((Ne||n).memoizedState,a);i&&(n.memoizedState=a,Ve=!0),n=n.queue;var o=Pu.bind(null,s,n,e);if(Kl(2048,8,o,[e]),n.getSnapshot!==t||i||Oe!==null&&Oe.memoizedState.tag&1){if(s.flags|=2048,Rs(9,jr(),Iu.bind(null,s,n,a,t),null),we===null)throw Error(R(349));r||_a&124||Wu(s,t,a)}return a}function Wu(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=me.updateQueue,t===null?(t=Jo(),me.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Iu(e,t,a,s){t.value=a,t.getSnapshot=s,e0(t)&&t0(e)}function Pu(e,t,a){return a(function(){e0(t)&&t0(e)})}function e0(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!xt(e,a)}catch{return!0}}function t0(e){var t=Ys(e,2);t!==null&&gt(t,e,2)}function Yi(e){var t=Pe();if(typeof e=="function"){var a=e;if(e=a(),Ja){fa(!0);try{a()}finally{fa(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ea,lastRenderedState:e},t}function a0(e,t,a,s){return e.baseState=a,Wo(e,Ne,typeof s=="function"?s:ea)}function wg(e,t,a,s,n){if(wr(e))throw Error(R(485));if(e=t.action,e!==null){var r={payload:n,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(i){r.listeners.push(i)}};ne.T!==null?a(!0):r.isTransition=!1,s(r),a=t.pending,a===null?(r.next=t.pending=r,s0(t,r)):(r.next=a.next,t.pending=a.next=r)}}function s0(e,t){var a=t.action,s=t.payload,n=e.state;if(t.isTransition){var r=ne.T,i={};ne.T=i;try{var o=a(n,s),c=ne.S;c!==null&&c(i,o),Pc(e,t,o)}catch(x){Vi(e,t,x)}finally{ne.T=r}}else try{r=a(n,s),Pc(e,t,r)}catch(x){Vi(e,t,x)}}function Pc(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(s){ed(e,t,s)},function(s){return Vi(e,t,s)}):ed(e,t,a)}function ed(e,t,a){t.status="fulfilled",t.value=a,l0(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,s0(e,a)))}function Vi(e,t,a){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=a,l0(t),t=t.next;while(t!==s)}e.action=null}function l0(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function n0(e,t){return t}function td(e,t){if(he){var a=we.formState;if(a!==null){e:{var s=me;if(he){if(Ae){t:{for(var n=Ae,r=zt;n.nodeType!==8;){if(!r){n=null;break t}if(n=At(n.nextSibling),n===null){n=null;break t}}r=n.data,n=r==="F!"||r==="F"?n:null}if(n){Ae=At(n.nextSibling),s=n.data==="F!";break e}}Za(s)}s=!1}s&&(t=a[0])}}return a=Pe(),a.memoizedState=a.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n0,lastRenderedState:t},a.queue=s,a=N0.bind(null,me,s),s.dispatch=a,s=Yi(!1),r=tc.bind(null,me,!1,s.queue),s=Pe(),n={state:t,dispatch:null,action:e,pending:null},s.queue=n,a=wg.bind(null,me,n,r,a),n.dispatch=a,s.memoizedState=e,[t,a,!1]}function ad(e){var t=Be();return r0(t,Ne,e)}function r0(e,t,a){if(t=Wo(e,t,n0)[0],e=Sn(ea)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=Zl(t)}catch(i){throw i===Xl?vr:i}else s=t;t=Be();var n=t.queue,r=n.dispatch;return a!==t.memoizedState&&(me.flags|=2048,Rs(9,jr(),kg.bind(null,n,a),null)),[s,r,e]}function kg(e,t){e.action=t}function sd(e){var t=Be(),a=Ne;if(a!==null)return r0(t,a,e);Be(),t=t.memoizedState,a=Be();var s=a.queue.dispatch;return a.memoizedState=e,[t,s,!1]}function Rs(e,t,a,s){return e={tag:e,create:a,deps:s,inst:t,next:null},t=me.updateQueue,t===null&&(t=Jo(),me.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(s=a.next,a.next=e,e.next=s,t.lastEffect=e),e}function jr(){return{destroy:void 0,resource:void 0}}function i0(){return Be().memoizedState}function _n(e,t,a,s){var n=Pe();s=s===void 0?null:s,me.flags|=e,n.memoizedState=Rs(1|t,jr(),a,s)}function Kl(e,t,a,s){var n=Be();s=s===void 0?null:s;var r=n.memoizedState.inst;Ne!==null&&s!==null&&Vo(s,Ne.memoizedState.deps)?n.memoizedState=Rs(t,r,a,s):(me.flags|=e,n.memoizedState=Rs(1|t,r,a,s))}function ld(e,t){_n(8390656,8,e,t)}function o0(e,t){Kl(2048,8,e,t)}function c0(e,t){return Kl(4,2,e,t)}function d0(e,t){return Kl(4,4,e,t)}function u0(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function m0(e,t,a){a=a!=null?a.concat([e]):null,Kl(4,4,u0.bind(null,t,e),a)}function Io(){}function f0(e,t){var a=Be();t=t===void 0?null:t;var s=a.memoizedState;return t!==null&&Vo(t,s[1])?s[0]:(a.memoizedState=[e,t],e)}function g0(e,t){var a=Be();t=t===void 0?null:t;var s=a.memoizedState;if(t!==null&&Vo(t,s[1]))return s[0];if(s=e(),Ja){fa(!0);try{e()}finally{fa(!1)}}return a.memoizedState=[s,t],s}function Po(e,t,a){return a===void 0||_a&1073741824?e.memoizedState=t:(e.memoizedState=a,e=lm(),me.lanes|=e,Da|=e,a)}function x0(e,t,a,s){return xt(a,t)?a:zs.current!==null?(e=Po(e,a,s),xt(e,t)||(Ve=!0),e):_a&42?(e=lm(),me.lanes|=e,Da|=e,t):(Ve=!0,e.memoizedState=a)}function h0(e,t,a,s,n){var r=be.p;be.p=r!==0&&8>r?r:8;var i=ne.T,o={};ne.T=o,tc(e,!1,t,a);try{var c=n(),x=ne.S;if(x!==null&&x(o,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var h=vg(c,s);xl(e,t,h,ft(e))}else xl(e,t,s,ft(e))}catch(b){xl(e,t,{then:function(){},status:"rejected",reason:b},ft())}finally{be.p=r,ne.T=i}}function Sg(){}function Qi(e,t,a,s){if(e.tag!==5)throw Error(R(476));var n=b0(e).queue;h0(e,n,t,$a,a===null?Sg:function(){return y0(e),a(s)})}function b0(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:$a,baseState:$a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ea,lastRenderedState:$a},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ea,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function y0(e){var t=b0(e).next.queue;xl(e,t,{},ft())}function ec(){return Fe(Ml)}function p0(){return Be().memoizedState}function v0(){return Be().memoizedState}function _g(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=ft();e=ya(a);var s=pa(t,e,a);s!==null&&(gt(s,t,a),ml(s,t,a)),t={cache:$o()},e.payload=t;return}t=t.return}}function Eg(e,t,a){var s=ft();a={lane:s,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},wr(e)?j0(t,a):(a=Oo(e,t,a,s),a!==null&&(gt(a,e,s),w0(a,t,s)))}function N0(e,t,a){var s=ft();xl(e,t,a,s)}function xl(e,t,a,s){var n={lane:s,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(wr(e))j0(t,n);else{var r=e.alternate;if(e.lanes===0&&(r===null||r.lanes===0)&&(r=t.lastRenderedReducer,r!==null))try{var i=t.lastRenderedState,o=r(i,a);if(n.hasEagerState=!0,n.eagerState=o,xt(o,i))return pr(e,t,n,0),we===null&&yr(),!1}catch{}finally{}if(a=Oo(e,t,n,s),a!==null)return gt(a,e,s),w0(a,t,s),!0}return!1}function tc(e,t,a,s){if(s={lane:2,revertLane:cc(),action:s,hasEagerState:!1,eagerState:null,next:null},wr(e)){if(t)throw Error(R(479))}else t=Oo(e,a,s,2),t!==null&&gt(t,e,2)}function wr(e){var t=e.alternate;return e===me||t!==null&&t===me}function j0(e,t){_s=Vn=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function w0(e,t,a){if(a&4194048){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,fu(e,a)}}var Xn={readContext:Fe,use:Nr,useCallback:qe,useContext:qe,useEffect:qe,useImperativeHandle:qe,useLayoutEffect:qe,useInsertionEffect:qe,useMemo:qe,useReducer:qe,useRef:qe,useState:qe,useDebugValue:qe,useDeferredValue:qe,useTransition:qe,useSyncExternalStore:qe,useId:qe,useHostTransitionStatus:qe,useFormState:qe,useActionState:qe,useOptimistic:qe,useMemoCache:qe,useCacheRefresh:qe},k0={readContext:Fe,use:Nr,useCallback:function(e,t){return Pe().memoizedState=[e,t===void 0?null:t],e},useContext:Fe,useEffect:ld,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,_n(4194308,4,u0.bind(null,t,e),a)},useLayoutEffect:function(e,t){return _n(4194308,4,e,t)},useInsertionEffect:function(e,t){_n(4,2,e,t)},useMemo:function(e,t){var a=Pe();t=t===void 0?null:t;var s=e();if(Ja){fa(!0);try{e()}finally{fa(!1)}}return a.memoizedState=[s,t],s},useReducer:function(e,t,a){var s=Pe();if(a!==void 0){var n=a(t);if(Ja){fa(!0);try{a(t)}finally{fa(!1)}}}else n=t;return s.memoizedState=s.baseState=n,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},s.queue=e,e=e.dispatch=Eg.bind(null,me,e),[s.memoizedState,e]},useRef:function(e){var t=Pe();return e={current:e},t.memoizedState=e},useState:function(e){e=Yi(e);var t=e.queue,a=N0.bind(null,me,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:Io,useDeferredValue:function(e,t){var a=Pe();return Po(a,e,t)},useTransition:function(){var e=Yi(!1);return e=h0.bind(null,me,e.queue,!0,!1),Pe().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var s=me,n=Pe();if(he){if(a===void 0)throw Error(R(407));a=a()}else{if(a=t(),we===null)throw Error(R(349));xe&124||Wu(s,t,a)}n.memoizedState=a;var r={value:a,getSnapshot:t};return n.queue=r,ld(Pu.bind(null,s,r,e),[e]),s.flags|=2048,Rs(9,jr(),Iu.bind(null,s,r,a,t),null),a},useId:function(){var e=Pe(),t=we.identifierPrefix;if(he){var a=Kt,s=Zt;a=(s&~(1<<32-mt(s)-1)).toString(32)+a,t=""+t+"R"+a,a=Qn++,0<a&&(t+="H"+a.toString(32)),t+=""}else a=Ng++,t=""+t+"r"+a.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:ec,useFormState:td,useActionState:td,useOptimistic:function(e){var t=Pe();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=tc.bind(null,me,!0,a),a.dispatch=t,[e,t]},useMemoCache:Fo,useCacheRefresh:function(){return Pe().memoizedState=_g.bind(null,me)}},S0={readContext:Fe,use:Nr,useCallback:f0,useContext:Fe,useEffect:o0,useImperativeHandle:m0,useInsertionEffect:c0,useLayoutEffect:d0,useMemo:g0,useReducer:Sn,useRef:i0,useState:function(){return Sn(ea)},useDebugValue:Io,useDeferredValue:function(e,t){var a=Be();return x0(a,Ne.memoizedState,e,t)},useTransition:function(){var e=Sn(ea)[0],t=Be().memoizedState;return[typeof e=="boolean"?e:Zl(e),t]},useSyncExternalStore:Fu,useId:p0,useHostTransitionStatus:ec,useFormState:ad,useActionState:ad,useOptimistic:function(e,t){var a=Be();return a0(a,Ne,e,t)},useMemoCache:Fo,useCacheRefresh:v0},Dg={readContext:Fe,use:Nr,useCallback:f0,useContext:Fe,useEffect:o0,useImperativeHandle:m0,useInsertionEffect:c0,useLayoutEffect:d0,useMemo:g0,useReducer:Fr,useRef:i0,useState:function(){return Fr(ea)},useDebugValue:Io,useDeferredValue:function(e,t){var a=Be();return Ne===null?Po(a,e,t):x0(a,Ne.memoizedState,e,t)},useTransition:function(){var e=Fr(ea)[0],t=Be().memoizedState;return[typeof e=="boolean"?e:Zl(e),t]},useSyncExternalStore:Fu,useId:p0,useHostTransitionStatus:ec,useFormState:sd,useActionState:sd,useOptimistic:function(e,t){var a=Be();return Ne!==null?a0(a,Ne,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Fo,useCacheRefresh:v0},Ds=null,Dl=0;function un(e){var t=Dl;return Dl+=1,Ds===null&&(Ds=[]),Qu(Ds,e,t)}function Is(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function mn(e,t){throw t.$$typeof===sf?Error(R(525)):(e=Object.prototype.toString.call(t),Error(R(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function nd(e){var t=e._init;return t(e._payload)}function _0(e){function t(g,d){if(e){var y=g.deletions;y===null?(g.deletions=[d],g.flags|=16):y.push(d)}}function a(g,d){if(!e)return null;for(;d!==null;)t(g,d),d=d.sibling;return null}function s(g){for(var d=new Map;g!==null;)g.key!==null?d.set(g.key,g):d.set(g.index,g),g=g.sibling;return d}function n(g,d){return g=Wt(g,d),g.index=0,g.sibling=null,g}function r(g,d,y){return g.index=y,e?(y=g.alternate,y!==null?(y=y.index,y<d?(g.flags|=67108866,d):y):(g.flags|=67108866,d)):(g.flags|=1048576,d)}function i(g){return e&&g.alternate===null&&(g.flags|=67108866),g}function o(g,d,y,k){return d===null||d.tag!==6?(d=Zr(y,g.mode,k),d.return=g,d):(d=n(d,y),d.return=g,d)}function c(g,d,y,k){var z=y.type;return z===os?h(g,d,y.props.children,k,y.key):d!==null&&(d.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===ra&&nd(z)===d.type)?(d=n(d,y.props),Is(d,y),d.return=g,d):(d=wn(y.type,y.key,y.props,null,g.mode,k),Is(d,y),d.return=g,d)}function x(g,d,y,k){return d===null||d.tag!==4||d.stateNode.containerInfo!==y.containerInfo||d.stateNode.implementation!==y.implementation?(d=Kr(y,g.mode,k),d.return=g,d):(d=n(d,y.children||[]),d.return=g,d)}function h(g,d,y,k,z){return d===null||d.tag!==7?(d=Ha(y,g.mode,k,z),d.return=g,d):(d=n(d,y),d.return=g,d)}function b(g,d,y){if(typeof d=="string"&&d!==""||typeof d=="number"||typeof d=="bigint")return d=Zr(""+d,g.mode,y),d.return=g,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case sn:return y=wn(d.type,d.key,d.props,null,g.mode,y),Is(y,d),y.return=g,y;case sl:return d=Kr(d,g.mode,y),d.return=g,d;case ra:var k=d._init;return d=k(d._payload),b(g,d,y)}if(ll(d)||Ks(d))return d=Ha(d,g.mode,y,null),d.return=g,d;if(typeof d.then=="function")return b(g,un(d),y);if(d.$$typeof===Xt)return b(g,cn(g,d),y);mn(g,d)}return null}function m(g,d,y,k){var z=d!==null?d.key:null;if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return z!==null?null:o(g,d,""+y,k);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case sn:return y.key===z?c(g,d,y,k):null;case sl:return y.key===z?x(g,d,y,k):null;case ra:return z=y._init,y=z(y._payload),m(g,d,y,k)}if(ll(y)||Ks(y))return z!==null?null:h(g,d,y,k,null);if(typeof y.then=="function")return m(g,d,un(y),k);if(y.$$typeof===Xt)return m(g,d,cn(g,y),k);mn(g,y)}return null}function f(g,d,y,k,z){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return g=g.get(y)||null,o(d,g,""+k,z);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case sn:return g=g.get(k.key===null?y:k.key)||null,c(d,g,k,z);case sl:return g=g.get(k.key===null?y:k.key)||null,x(d,g,k,z);case ra:var U=k._init;return k=U(k._payload),f(g,d,y,k,z)}if(ll(k)||Ks(k))return g=g.get(y)||null,h(d,g,k,z,null);if(typeof k.then=="function")return f(g,d,y,un(k),z);if(k.$$typeof===Xt)return f(g,d,y,cn(d,k),z);mn(d,k)}return null}function E(g,d,y,k){for(var z=null,U=null,B=d,H=d=0,Z=null;B!==null&&H<y.length;H++){B.index>H?(Z=B,B=null):Z=B.sibling;var Y=m(g,B,y[H],k);if(Y===null){B===null&&(B=Z);break}e&&B&&Y.alternate===null&&t(g,B),d=r(Y,d,H),U===null?z=Y:U.sibling=Y,U=Y,B=Z}if(H===y.length)return a(g,B),he&&Ba(g,H),z;if(B===null){for(;H<y.length;H++)B=b(g,y[H],k),B!==null&&(d=r(B,d,H),U===null?z=B:U.sibling=B,U=B);return he&&Ba(g,H),z}for(B=s(B);H<y.length;H++)Z=f(B,g,H,y[H],k),Z!==null&&(e&&Z.alternate!==null&&B.delete(Z.key===null?H:Z.key),d=r(Z,d,H),U===null?z=Z:U.sibling=Z,U=Z);return e&&B.forEach(function(P){return t(g,P)}),he&&Ba(g,H),z}function D(g,d,y,k){if(y==null)throw Error(R(151));for(var z=null,U=null,B=d,H=d=0,Z=null,Y=y.next();B!==null&&!Y.done;H++,Y=y.next()){B.index>H?(Z=B,B=null):Z=B.sibling;var P=m(g,B,Y.value,k);if(P===null){B===null&&(B=Z);break}e&&B&&P.alternate===null&&t(g,B),d=r(P,d,H),U===null?z=P:U.sibling=P,U=P,B=Z}if(Y.done)return a(g,B),he&&Ba(g,H),z;if(B===null){for(;!Y.done;H++,Y=y.next())Y=b(g,Y.value,k),Y!==null&&(d=r(Y,d,H),U===null?z=Y:U.sibling=Y,U=Y);return he&&Ba(g,H),z}for(B=s(B);!Y.done;H++,Y=y.next())Y=f(B,g,H,Y.value,k),Y!==null&&(e&&Y.alternate!==null&&B.delete(Y.key===null?H:Y.key),d=r(Y,d,H),U===null?z=Y:U.sibling=Y,U=Y);return e&&B.forEach(function(Q){return t(g,Q)}),he&&Ba(g,H),z}function q(g,d,y,k){if(typeof y=="object"&&y!==null&&y.type===os&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case sn:e:{for(var z=y.key;d!==null;){if(d.key===z){if(z=y.type,z===os){if(d.tag===7){a(g,d.sibling),k=n(d,y.props.children),k.return=g,g=k;break e}}else if(d.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===ra&&nd(z)===d.type){a(g,d.sibling),k=n(d,y.props),Is(k,y),k.return=g,g=k;break e}a(g,d);break}else t(g,d);d=d.sibling}y.type===os?(k=Ha(y.props.children,g.mode,k,y.key),k.return=g,g=k):(k=wn(y.type,y.key,y.props,null,g.mode,k),Is(k,y),k.return=g,g=k)}return i(g);case sl:e:{for(z=y.key;d!==null;){if(d.key===z)if(d.tag===4&&d.stateNode.containerInfo===y.containerInfo&&d.stateNode.implementation===y.implementation){a(g,d.sibling),k=n(d,y.children||[]),k.return=g,g=k;break e}else{a(g,d);break}else t(g,d);d=d.sibling}k=Kr(y,g.mode,k),k.return=g,g=k}return i(g);case ra:return z=y._init,y=z(y._payload),q(g,d,y,k)}if(ll(y))return E(g,d,y,k);if(Ks(y)){if(z=Ks(y),typeof z!="function")throw Error(R(150));return y=z.call(y),D(g,d,y,k)}if(typeof y.then=="function")return q(g,d,un(y),k);if(y.$$typeof===Xt)return q(g,d,cn(g,y),k);mn(g,y)}return typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint"?(y=""+y,d!==null&&d.tag===6?(a(g,d.sibling),k=n(d,y),k.return=g,g=k):(a(g,d),k=Zr(y,g.mode,k),k.return=g,g=k),i(g)):a(g,d)}return function(g,d,y,k){try{Dl=0;var z=q(g,d,y,k);return Ds=null,z}catch(B){if(B===Xl||B===vr)throw B;var U=dt(29,B,null,g.mode);return U.lanes=k,U.return=g,U}finally{}}}var Os=_0(!0),E0=_0(!1),St=Lt(null),Ut=null;function da(e){var t=e.alternate;De(Le,Le.current&1),De(St,e),Ut===null&&(t===null||zs.current!==null||t.memoizedState!==null)&&(Ut=e)}function D0(e){if(e.tag===22){if(De(Le,Le.current),De(St,e),Ut===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Ut=e)}}else ua()}function ua(){De(Le,Le.current),De(St,St.current)}function Ft(e){Qe(St),Ut===e&&(Ut=null),Qe(Le)}var Le=Lt(0);function Zn(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||oo(a)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Wr(e,t,a,s){t=e.memoizedState,a=a(s,t),a=a==null?t:Se({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Xi={enqueueSetState:function(e,t,a){e=e._reactInternals;var s=ft(),n=ya(s);n.payload=t,a!=null&&(n.callback=a),t=pa(e,n,s),t!==null&&(gt(t,e,s),ml(t,e,s))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var s=ft(),n=ya(s);n.tag=1,n.payload=t,a!=null&&(n.callback=a),t=pa(e,n,s),t!==null&&(gt(t,e,s),ml(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=ft(),s=ya(a);s.tag=2,t!=null&&(s.callback=t),t=pa(e,s,a),t!==null&&(gt(t,e,a),ml(t,e,a))}};function rd(e,t,a,s,n,r,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,r,i):t.prototype&&t.prototype.isPureReactComponent?!Sl(a,s)||!Sl(n,r):!0}function id(e,t,a,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,s),t.state!==e&&Xi.enqueueReplaceState(t,t.state,null)}function Fa(e,t){var a=t;if("ref"in t){a={};for(var s in t)s!=="ref"&&(a[s]=t[s])}if(e=e.defaultProps){a===t&&(a=Se({},a));for(var n in e)a[n]===void 0&&(a[n]=e[n])}return a}var Kn=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function T0(e){Kn(e)}function A0(e){console.error(e)}function C0(e){Kn(e)}function Jn(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function od(e,t,a){try{var s=e.onCaughtError;s(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(n){setTimeout(function(){throw n})}}function Zi(e,t,a){return a=ya(a),a.tag=3,a.payload={element:null},a.callback=function(){Jn(e,t)},a}function M0(e){return e=ya(e),e.tag=3,e}function q0(e,t,a,s){var n=a.type.getDerivedStateFromError;if(typeof n=="function"){var r=s.value;e.payload=function(){return n(r)},e.callback=function(){od(t,a,s)}}var i=a.stateNode;i!==null&&typeof i.componentDidCatch=="function"&&(e.callback=function(){od(t,a,s),typeof n!="function"&&(va===null?va=new Set([this]):va.add(this));var o=s.stack;this.componentDidCatch(s.value,{componentStack:o!==null?o:""})})}function Tg(e,t,a,s,n){if(a.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=a.alternate,t!==null&&Vl(t,a,n,!0),a=St.current,a!==null){switch(a.tag){case 13:return Ut===null?to():a.alternate===null&&Ce===0&&(Ce=3),a.flags&=-257,a.flags|=65536,a.lanes=n,s===Li?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([s]):t.add(s),oi(e,s,n)),!1;case 22:return a.flags|=65536,s===Li?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([s]):a.add(s)),oi(e,s,n)),!1}throw Error(R(435,a.tag))}return oi(e,s,n),to(),!1}if(he)return t=St.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=n,s!==zi&&(e=Error(R(422),{cause:s}),_l(wt(e,a)))):(s!==zi&&(t=Error(R(423),{cause:s}),_l(wt(t,a))),e=e.current.alternate,e.flags|=65536,n&=-n,e.lanes|=n,s=wt(s,a),n=Zi(e.stateNode,s,n),Jr(e,n),Ce!==4&&(Ce=2)),!1;var r=Error(R(520),{cause:s});if(r=wt(r,a),yl===null?yl=[r]:yl.push(r),Ce!==4&&(Ce=2),t===null)return!0;s=wt(s,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=n&-n,a.lanes|=e,e=Zi(a.stateNode,s,e),Jr(a,e),!1;case 1:if(t=a.type,r=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||r!==null&&typeof r.componentDidCatch=="function"&&(va===null||!va.has(r))))return a.flags|=65536,n&=-n,a.lanes|=n,n=M0(n),q0(n,e,a,s),Jr(a,n),!1}a=a.return}while(a!==null);return!1}var z0=Error(R(461)),Ve=!1;function Xe(e,t,a,s){t.child=e===null?E0(t,null,a,s):Os(t,e.child,a,s)}function cd(e,t,a,s,n){a=a.render;var r=t.ref;if("ref"in s){var i={};for(var o in s)o!=="ref"&&(i[o]=s[o])}else i=s;return Ka(t),s=Qo(e,t,a,i,r,n),o=Xo(),e!==null&&!Ve?(Zo(e,t,n),ta(e,t,n)):(he&&o&&Uo(t),t.flags|=1,Xe(e,t,s,n),t.child)}function dd(e,t,a,s,n){if(e===null){var r=a.type;return typeof r=="function"&&!Bo(r)&&r.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=r,R0(e,t,r,s,n)):(e=wn(a.type,null,s,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(r=e.child,!ac(e,n)){var i=r.memoizedProps;if(a=a.compare,a=a!==null?a:Sl,a(i,s)&&e.ref===t.ref)return ta(e,t,n)}return t.flags|=1,e=Wt(r,s),e.ref=t.ref,e.return=t,t.child=e}function R0(e,t,a,s,n){if(e!==null){var r=e.memoizedProps;if(Sl(r,s)&&e.ref===t.ref)if(Ve=!1,t.pendingProps=s=r,ac(e,n))e.flags&131072&&(Ve=!0);else return t.lanes=e.lanes,ta(e,t,n)}return Ki(e,t,a,s,n)}function O0(e,t,a){var s=t.pendingProps,n=s.children,r=e!==null?e.memoizedState:null;if(s.mode==="hidden"){if(t.flags&128){if(s=r!==null?r.baseLanes|a:a,e!==null){for(n=t.child=e.child,r=0;n!==null;)r=r|n.lanes|n.childLanes,n=n.sibling;t.childLanes=r&~s}else t.childLanes=0,t.child=null;return ud(e,t,s,a)}if(a&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&kn(t,r!==null?r.cachePool:null),r!==null?Ic(t,r):Gi(),D0(t);else return t.lanes=t.childLanes=536870912,ud(e,t,r!==null?r.baseLanes|a:a,a)}else r!==null?(kn(t,r.cachePool),Ic(t,r),ua(),t.memoizedState=null):(e!==null&&kn(t,null),Gi(),ua());return Xe(e,t,n,a),t.child}function ud(e,t,a,s){var n=Ho();return n=n===null?null:{parent:Ue._currentValue,pool:n},t.memoizedState={baseLanes:a,cachePool:n},e!==null&&kn(t,null),Gi(),D0(t),e!==null&&Vl(e,t,s,!0),null}function En(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(R(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function Ki(e,t,a,s,n){return Ka(t),a=Qo(e,t,a,s,void 0,n),s=Xo(),e!==null&&!Ve?(Zo(e,t,n),ta(e,t,n)):(he&&s&&Uo(t),t.flags|=1,Xe(e,t,a,n),t.child)}function md(e,t,a,s,n,r){return Ka(t),t.updateQueue=null,a=Ju(t,s,a,n),Ku(e),s=Xo(),e!==null&&!Ve?(Zo(e,t,r),ta(e,t,r)):(he&&s&&Uo(t),t.flags|=1,Xe(e,t,a,r),t.child)}function fd(e,t,a,s,n){if(Ka(t),t.stateNode===null){var r=hs,i=a.contextType;typeof i=="object"&&i!==null&&(r=Fe(i)),r=new a(s,r),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Xi,t.stateNode=r,r._reactInternals=t,r=t.stateNode,r.props=s,r.state=t.memoizedState,r.refs={},Go(t),i=a.contextType,r.context=typeof i=="object"&&i!==null?Fe(i):hs,r.state=t.memoizedState,i=a.getDerivedStateFromProps,typeof i=="function"&&(Wr(t,a,i,s),r.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(i=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),i!==r.state&&Xi.enqueueReplaceState(r,r.state,null),gl(t,s,r,n),fl(),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){r=t.stateNode;var o=t.memoizedProps,c=Fa(a,o);r.props=c;var x=r.context,h=a.contextType;i=hs,typeof h=="object"&&h!==null&&(i=Fe(h));var b=a.getDerivedStateFromProps;h=typeof b=="function"||typeof r.getSnapshotBeforeUpdate=="function",o=t.pendingProps!==o,h||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(o||x!==i)&&id(t,r,s,i),ia=!1;var m=t.memoizedState;r.state=m,gl(t,s,r,n),fl(),x=t.memoizedState,o||m!==x||ia?(typeof b=="function"&&(Wr(t,a,b,s),x=t.memoizedState),(c=ia||rd(t,a,c,s,m,x,i))?(h||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount()),typeof r.componentDidMount=="function"&&(t.flags|=4194308)):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=x),r.props=s,r.state=x,r.context=i,s=c):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{r=t.stateNode,$i(e,t),i=t.memoizedProps,h=Fa(a,i),r.props=h,b=t.pendingProps,m=r.context,x=a.contextType,c=hs,typeof x=="object"&&x!==null&&(c=Fe(x)),o=a.getDerivedStateFromProps,(x=typeof o=="function"||typeof r.getSnapshotBeforeUpdate=="function")||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(i!==b||m!==c)&&id(t,r,s,c),ia=!1,m=t.memoizedState,r.state=m,gl(t,s,r,n),fl();var f=t.memoizedState;i!==b||m!==f||ia||e!==null&&e.dependencies!==null&&Gn(e.dependencies)?(typeof o=="function"&&(Wr(t,a,o,s),f=t.memoizedState),(h=ia||rd(t,a,h,s,m,f,c)||e!==null&&e.dependencies!==null&&Gn(e.dependencies))?(x||typeof r.UNSAFE_componentWillUpdate!="function"&&typeof r.componentWillUpdate!="function"||(typeof r.componentWillUpdate=="function"&&r.componentWillUpdate(s,f,c),typeof r.UNSAFE_componentWillUpdate=="function"&&r.UNSAFE_componentWillUpdate(s,f,c)),typeof r.componentDidUpdate=="function"&&(t.flags|=4),typeof r.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof r.componentDidUpdate!="function"||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=f),r.props=s,r.state=f,r.context=c,s=h):(typeof r.componentDidUpdate!="function"||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),s=!1)}return r=s,En(e,t),s=(t.flags&128)!==0,r||s?(r=t.stateNode,a=s&&typeof a.getDerivedStateFromError!="function"?null:r.render(),t.flags|=1,e!==null&&s?(t.child=Os(t,e.child,null,n),t.child=Os(t,null,a,n)):Xe(e,t,a,n),t.memoizedState=r.state,e=t.child):e=ta(e,t,n),e}function gd(e,t,a,s){return Yl(),t.flags|=256,Xe(e,t,a,s),t.child}var Ir={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Pr(e){return{baseLanes:e,cachePool:Yu()}}function ei(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=kt),e}function B0(e,t,a){var s=t.pendingProps,n=!1,r=(t.flags&128)!==0,i;if((i=r)||(i=e!==null&&e.memoizedState===null?!1:(Le.current&2)!==0),i&&(n=!0,t.flags&=-129),i=(t.flags&32)!==0,t.flags&=-33,e===null){if(he){if(n?da(t):ua(),he){var o=Ae,c;if(c=o){e:{for(c=o,o=zt;c.nodeType!==8;){if(!o){o=null;break e}if(c=At(c.nextSibling),c===null){o=null;break e}}o=c}o!==null?(t.memoizedState={dehydrated:o,treeContext:Ga!==null?{id:Zt,overflow:Kt}:null,retryLane:536870912,hydrationErrors:null},c=dt(18,null,null,0),c.stateNode=o,c.return=t,t.child=c,Ie=t,Ae=null,c=!0):c=!1}c||Za(t)}if(o=t.memoizedState,o!==null&&(o=o.dehydrated,o!==null))return oo(o)?t.lanes=32:t.lanes=536870912,null;Ft(t)}return o=s.children,s=s.fallback,n?(ua(),n=t.mode,o=Fn({mode:"hidden",children:o},n),s=Ha(s,n,a,null),o.return=t,s.return=t,o.sibling=s,t.child=o,n=t.child,n.memoizedState=Pr(a),n.childLanes=ei(e,i,a),t.memoizedState=Ir,s):(da(t),Ji(t,o))}if(c=e.memoizedState,c!==null&&(o=c.dehydrated,o!==null)){if(r)t.flags&256?(da(t),t.flags&=-257,t=ti(e,t,a)):t.memoizedState!==null?(ua(),t.child=e.child,t.flags|=128,t=null):(ua(),n=s.fallback,o=t.mode,s=Fn({mode:"visible",children:s.children},o),n=Ha(n,o,a,null),n.flags|=2,s.return=t,n.return=t,s.sibling=n,t.child=s,Os(t,e.child,null,a),s=t.child,s.memoizedState=Pr(a),s.childLanes=ei(e,i,a),t.memoizedState=Ir,t=n);else if(da(t),oo(o)){if(i=o.nextSibling&&o.nextSibling.dataset,i)var x=i.dgst;i=x,s=Error(R(419)),s.stack="",s.digest=i,_l({value:s,source:null,stack:null}),t=ti(e,t,a)}else if(Ve||Vl(e,t,a,!1),i=(a&e.childLanes)!==0,Ve||i){if(i=we,i!==null&&(s=a&-a,s=s&42?1:_o(s),s=s&(i.suspendedLanes|a)?0:s,s!==0&&s!==c.retryLane))throw c.retryLane=s,Ys(e,s),gt(i,e,s),z0;o.data==="$?"||to(),t=ti(e,t,a)}else o.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,Ae=At(o.nextSibling),Ie=t,he=!0,Ya=null,zt=!1,e!==null&&(vt[Nt++]=Zt,vt[Nt++]=Kt,vt[Nt++]=Ga,Zt=e.id,Kt=e.overflow,Ga=t),t=Ji(t,s.children),t.flags|=4096);return t}return n?(ua(),n=s.fallback,o=t.mode,c=e.child,x=c.sibling,s=Wt(c,{mode:"hidden",children:s.children}),s.subtreeFlags=c.subtreeFlags&65011712,x!==null?n=Wt(x,n):(n=Ha(n,o,a,null),n.flags|=2),n.return=t,s.return=t,s.sibling=n,t.child=s,s=n,n=t.child,o=e.child.memoizedState,o===null?o=Pr(a):(c=o.cachePool,c!==null?(x=Ue._currentValue,c=c.parent!==x?{parent:x,pool:x}:c):c=Yu(),o={baseLanes:o.baseLanes|a,cachePool:c}),n.memoizedState=o,n.childLanes=ei(e,i,a),t.memoizedState=Ir,s):(da(t),a=e.child,e=a.sibling,a=Wt(a,{mode:"visible",children:s.children}),a.return=t,a.sibling=null,e!==null&&(i=t.deletions,i===null?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=a,t.memoizedState=null,a)}function Ji(e,t){return t=Fn({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Fn(e,t){return e=dt(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function ti(e,t,a){return Os(t,e.child,null,a),e=Ji(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function xd(e,t,a){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Oi(e.return,t,a)}function ai(e,t,a,s,n){var r=e.memoizedState;r===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:a,tailMode:n}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=s,r.tail=a,r.tailMode=n)}function U0(e,t,a){var s=t.pendingProps,n=s.revealOrder,r=s.tail;if(Xe(e,t,s.children,a),s=Le.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&xd(e,a,t);else if(e.tag===19)xd(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}switch(De(Le,s),n){case"forwards":for(a=t.child,n=null;a!==null;)e=a.alternate,e!==null&&Zn(e)===null&&(n=a),a=a.sibling;a=n,a===null?(n=t.child,t.child=null):(n=a.sibling,a.sibling=null),ai(t,!1,n,a,r);break;case"backwards":for(a=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&Zn(e)===null){t.child=n;break}e=n.sibling,n.sibling=a,a=n,n=e}ai(t,!0,a,null,r);break;case"together":ai(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ta(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Da|=t.lanes,!(a&t.childLanes))if(e!==null){if(Vl(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(R(153));if(t.child!==null){for(e=t.child,a=Wt(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=Wt(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function ac(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Gn(e)))}function Ag(e,t,a){switch(t.tag){case 3:zn(t,t.stateNode.containerInfo),ca(t,Ue,e.memoizedState.cache),Yl();break;case 27:case 5:ki(t);break;case 4:zn(t,t.stateNode.containerInfo);break;case 10:ca(t,t.type,t.memoizedProps.value);break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(da(t),t.flags|=128,null):a&t.child.childLanes?B0(e,t,a):(da(t),e=ta(e,t,a),e!==null?e.sibling:null);da(t);break;case 19:var n=(e.flags&128)!==0;if(s=(a&t.childLanes)!==0,s||(Vl(e,t,a,!1),s=(a&t.childLanes)!==0),n){if(s)return U0(e,t,a);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),De(Le,Le.current),s)break;return null;case 22:case 23:return t.lanes=0,O0(e,t,a);case 24:ca(t,Ue,e.memoizedState.cache)}return ta(e,t,a)}function L0(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ve=!0;else{if(!ac(e,a)&&!(t.flags&128))return Ve=!1,Ag(e,t,a);Ve=!!(e.flags&131072)}else Ve=!1,he&&t.flags&1048576&&Hu(t,Hn,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var s=t.elementType,n=s._init;if(s=n(s._payload),t.type=s,typeof s=="function")Bo(s)?(e=Fa(s,e),t.tag=1,t=fd(null,t,s,e,a)):(t.tag=0,t=Ki(null,t,s,e,a));else{if(s!=null){if(n=s.$$typeof,n===wo){t.tag=11,t=cd(null,t,s,e,a);break e}else if(n===ko){t.tag=14,t=dd(null,t,s,e,a);break e}}throw t=ji(s)||s,Error(R(306,t,""))}}return t;case 0:return Ki(e,t,t.type,t.pendingProps,a);case 1:return s=t.type,n=Fa(s,t.pendingProps),fd(e,t,s,n,a);case 3:e:{if(zn(t,t.stateNode.containerInfo),e===null)throw Error(R(387));s=t.pendingProps;var r=t.memoizedState;n=r.element,$i(e,t),gl(t,s,null,a);var i=t.memoizedState;if(s=i.cache,ca(t,Ue,s),s!==r.cache&&Bi(t,[Ue],a,!0),fl(),s=i.element,r.isDehydrated)if(r={element:s,isDehydrated:!1,cache:i.cache},t.updateQueue.baseState=r,t.memoizedState=r,t.flags&256){t=gd(e,t,s,a);break e}else if(s!==n){n=wt(Error(R(424)),t),_l(n),t=gd(e,t,s,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ae=At(e.firstChild),Ie=t,he=!0,Ya=null,zt=!0,a=E0(t,null,s,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Yl(),s===n){t=ta(e,t,a);break e}Xe(e,t,s,a)}t=t.child}return t;case 26:return En(e,t),e===null?(a=Md(t.type,null,t.pendingProps,null))?t.memoizedState=a:he||(a=t.type,e=t.pendingProps,s=sr(ba.current).createElement(a),s[Je]=t,s[nt]=e,Ke(s,a,e),Ye(s),t.stateNode=s):t.memoizedState=Md(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ki(t),e===null&&he&&(s=t.stateNode=Sm(t.type,t.pendingProps,ba.current),Ie=t,zt=!0,n=Ae,Aa(t.type)?(co=n,Ae=At(s.firstChild)):Ae=n),Xe(e,t,t.pendingProps.children,a),En(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&he&&((n=s=Ae)&&(s=lx(s,t.type,t.pendingProps,zt),s!==null?(t.stateNode=s,Ie=t,Ae=At(s.firstChild),zt=!1,n=!0):n=!1),n||Za(t)),ki(t),n=t.type,r=t.pendingProps,i=e!==null?e.memoizedProps:null,s=r.children,ro(n,r)?s=null:i!==null&&ro(n,i)&&(t.flags|=32),t.memoizedState!==null&&(n=Qo(e,t,jg,null,null,a),Ml._currentValue=n),En(e,t),Xe(e,t,s,a),t.child;case 6:return e===null&&he&&((e=a=Ae)&&(a=nx(a,t.pendingProps,zt),a!==null?(t.stateNode=a,Ie=t,Ae=null,e=!0):e=!1),e||Za(t)),null;case 13:return B0(e,t,a);case 4:return zn(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Os(t,null,s,a):Xe(e,t,s,a),t.child;case 11:return cd(e,t,t.type,t.pendingProps,a);case 7:return Xe(e,t,t.pendingProps,a),t.child;case 8:return Xe(e,t,t.pendingProps.children,a),t.child;case 12:return Xe(e,t,t.pendingProps.children,a),t.child;case 10:return s=t.pendingProps,ca(t,t.type,s.value),Xe(e,t,s.children,a),t.child;case 9:return n=t.type._context,s=t.pendingProps.children,Ka(t),n=Fe(n),s=s(n),t.flags|=1,Xe(e,t,s,a),t.child;case 14:return dd(e,t,t.type,t.pendingProps,a);case 15:return R0(e,t,t.type,t.pendingProps,a);case 19:return U0(e,t,a);case 31:return s=t.pendingProps,a=t.mode,s={mode:s.mode,children:s.children},e===null?(a=Fn(s,a),a.ref=t.ref,t.child=a,a.return=t,t=a):(a=Wt(e.child,s),a.ref=t.ref,t.child=a,a.return=t,t=a),t;case 22:return O0(e,t,a);case 24:return Ka(t),s=Fe(Ue),e===null?(n=Ho(),n===null&&(n=we,r=$o(),n.pooledCache=r,r.refCount++,r!==null&&(n.pooledCacheLanes|=a),n=r),t.memoizedState={parent:s,cache:n},Go(t),ca(t,Ue,n)):(e.lanes&a&&($i(e,t),gl(t,null,null,a),fl()),n=e.memoizedState,r=t.memoizedState,n.parent!==s?(n={parent:s,cache:s},t.memoizedState=n,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=n),ca(t,Ue,s)):(s=r.cache,ca(t,Ue,s),s!==n.cache&&Bi(t,[Ue],a,!0))),Xe(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(R(156,t.tag))}function Yt(e){e.flags|=4}function hd(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!Dm(t)){if(t=St.current,t!==null&&((xe&4194048)===xe?Ut!==null:(xe&62914560)!==xe&&!(xe&536870912)||t!==Ut))throw ul=Li,Vu;e.flags|=8192}}function fn(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?uu():536870912,e.lanes|=t,Bs|=t)}function Ps(e,t){if(!he)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Te(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,s=0;if(t)for(var n=e.child;n!==null;)a|=n.lanes|n.childLanes,s|=n.subtreeFlags&65011712,s|=n.flags&65011712,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)a|=n.lanes|n.childLanes,s|=n.subtreeFlags,s|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=s,e.childLanes=a,t}function Cg(e,t,a){var s=t.pendingProps;switch(Lo(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Te(t),null;case 1:return Te(t),null;case 3:return a=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),It(Ue),As(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ws(t)?Yt(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Xc())),Te(t),null;case 26:return a=t.memoizedState,e===null?(Yt(t),a!==null?(Te(t),hd(t,a)):(Te(t),t.flags&=-16777217)):a?a!==e.memoizedState?(Yt(t),Te(t),hd(t,a)):(Te(t),t.flags&=-16777217):(e.memoizedProps!==s&&Yt(t),Te(t),t.flags&=-16777217),null;case 27:Rn(t),a=ba.current;var n=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==s&&Yt(t);else{if(!s){if(t.stateNode===null)throw Error(R(166));return Te(t),null}e=Ot.current,Ws(t)?Vc(t):(e=Sm(n,s,a),t.stateNode=e,Yt(t))}return Te(t),null;case 5:if(Rn(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&Yt(t);else{if(!s){if(t.stateNode===null)throw Error(R(166));return Te(t),null}if(e=Ot.current,Ws(t))Vc(t);else{switch(n=sr(ba.current),e){case 1:e=n.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=n.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=n.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=n.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=n.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof s.is=="string"?n.createElement("select",{is:s.is}):n.createElement("select"),s.multiple?e.multiple=!0:s.size&&(e.size=s.size);break;default:e=typeof s.is=="string"?n.createElement(a,{is:s.is}):n.createElement(a)}}e[Je]=t,e[nt]=s;e:for(n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.tag!==27&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}t.stateNode=e;e:switch(Ke(e,a,s),a){case"button":case"input":case"select":case"textarea":e=!!s.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Yt(t)}}return Te(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&Yt(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(R(166));if(e=ba.current,Ws(t)){if(e=t.stateNode,a=t.memoizedProps,s=null,n=Ie,n!==null)switch(n.tag){case 27:case 5:s=n.memoizedProps}e[Je]=t,e=!!(e.nodeValue===a||s!==null&&s.suppressHydrationWarning===!0||jm(e.nodeValue,a)),e||Za(t)}else e=sr(e).createTextNode(s),e[Je]=t,t.stateNode=e}return Te(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(n=Ws(t),s!==null&&s.dehydrated!==null){if(e===null){if(!n)throw Error(R(318));if(n=t.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(R(317));n[Je]=t}else Yl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Te(t),n=!1}else n=Xc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),n=!0;if(!n)return t.flags&256?(Ft(t),t):(Ft(t),null)}if(Ft(t),t.flags&128)return t.lanes=a,t;if(a=s!==null,e=e!==null&&e.memoizedState!==null,a){s=t.child,n=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(n=s.alternate.memoizedState.cachePool.pool);var r=null;s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==n&&(s.flags|=2048)}return a!==e&&a&&(t.child.flags|=8192),fn(t,t.updateQueue),Te(t),null;case 4:return As(),e===null&&dc(t.stateNode.containerInfo),Te(t),null;case 10:return It(t.type),Te(t),null;case 19:if(Qe(Le),n=t.memoizedState,n===null)return Te(t),null;if(s=(t.flags&128)!==0,r=n.rendering,r===null)if(s)Ps(n,!1);else{if(Ce!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(r=Zn(e),r!==null){for(t.flags|=128,Ps(n,!1),e=r.updateQueue,t.updateQueue=e,fn(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)$u(a,e),a=a.sibling;return De(Le,Le.current&1|2),t.child}e=e.sibling}n.tail!==null&&Bt()>In&&(t.flags|=128,s=!0,Ps(n,!1),t.lanes=4194304)}else{if(!s)if(e=Zn(r),e!==null){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,fn(t,e),Ps(n,!0),n.tail===null&&n.tailMode==="hidden"&&!r.alternate&&!he)return Te(t),null}else 2*Bt()-n.renderingStartTime>In&&a!==536870912&&(t.flags|=128,s=!0,Ps(n,!1),t.lanes=4194304);n.isBackwards?(r.sibling=t.child,t.child=r):(e=n.last,e!==null?e.sibling=r:t.child=r,n.last=r)}return n.tail!==null?(t=n.tail,n.rendering=t,n.tail=t.sibling,n.renderingStartTime=Bt(),t.sibling=null,e=Le.current,De(Le,s?e&1|2:e&1),t):(Te(t),null);case 22:case 23:return Ft(t),Yo(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?a&536870912&&!(t.flags&128)&&(Te(t),t.subtreeFlags&6&&(t.flags|=8192)):Te(t),a=t.updateQueue,a!==null&&fn(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==a&&(t.flags|=2048),e!==null&&Qe(Va),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),It(Ue),Te(t),null;case 25:return null;case 30:return null}throw Error(R(156,t.tag))}function Mg(e,t){switch(Lo(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return It(Ue),As(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Rn(t),null;case 13:if(Ft(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(R(340));Yl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Qe(Le),null;case 4:return As(),null;case 10:return It(t.type),null;case 22:case 23:return Ft(t),Yo(),e!==null&&Qe(Va),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return It(Ue),null;case 25:return null;default:return null}}function $0(e,t){switch(Lo(t),t.tag){case 3:It(Ue),As();break;case 26:case 27:case 5:Rn(t);break;case 4:As();break;case 13:Ft(t);break;case 19:Qe(Le);break;case 10:It(t.type);break;case 22:case 23:Ft(t),Yo(),e!==null&&Qe(Va);break;case 24:It(Ue)}}function Jl(e,t){try{var a=t.updateQueue,s=a!==null?a.lastEffect:null;if(s!==null){var n=s.next;a=n;do{if((a.tag&e)===e){s=void 0;var r=a.create,i=a.inst;s=r(),i.destroy=s}a=a.next}while(a!==n)}}catch(o){je(t,t.return,o)}}function Ea(e,t,a){try{var s=t.updateQueue,n=s!==null?s.lastEffect:null;if(n!==null){var r=n.next;s=r;do{if((s.tag&e)===e){var i=s.inst,o=i.destroy;if(o!==void 0){i.destroy=void 0,n=t;var c=a,x=o;try{x()}catch(h){je(n,c,h)}}}s=s.next}while(s!==r)}}catch(h){je(t,t.return,h)}}function H0(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Zu(t,a)}catch(s){je(e,e.return,s)}}}function G0(e,t,a){a.props=Fa(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(s){je(e,t,s)}}function hl(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof a=="function"?e.refCleanup=a(s):a.current=s}}catch(n){je(e,t,n)}}function Rt(e,t){var a=e.ref,s=e.refCleanup;if(a!==null)if(typeof s=="function")try{s()}catch(n){je(e,t,n)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(n){je(e,t,n)}else a.current=null}function Y0(e){var t=e.type,a=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&s.focus();break e;case"img":a.src?s.src=a.src:a.srcSet&&(s.srcset=a.srcSet)}}catch(n){je(e,e.return,n)}}function si(e,t,a){try{var s=e.stateNode;Pg(s,e.type,a,t),s[nt]=t}catch(n){je(e,e.return,n)}}function V0(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Aa(e.type)||e.tag===4}function li(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||V0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Aa(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Fi(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=Er));else if(s!==4&&(s===27&&Aa(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(Fi(e,t,a),e=e.sibling;e!==null;)Fi(e,t,a),e=e.sibling}function Wn(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(s!==4&&(s===27&&Aa(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Wn(e,t,a),e=e.sibling;e!==null;)Wn(e,t,a),e=e.sibling}function Q0(e){var t=e.stateNode,a=e.memoizedProps;try{for(var s=e.type,n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ke(t,s,a),t[Je]=e,t[nt]=a}catch(r){je(e,e.return,r)}}var Qt=!1,ze=!1,ni=!1,bd=typeof WeakSet=="function"?WeakSet:Set,Ge=null;function qg(e,t){if(e=e.containerInfo,lo=ir,e=Mu(e),zo(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var s=a.getSelection&&a.getSelection();if(s&&s.rangeCount!==0){a=s.anchorNode;var n=s.anchorOffset,r=s.focusNode;s=s.focusOffset;try{a.nodeType,r.nodeType}catch{a=null;break e}var i=0,o=-1,c=-1,x=0,h=0,b=e,m=null;t:for(;;){for(var f;b!==a||n!==0&&b.nodeType!==3||(o=i+n),b!==r||s!==0&&b.nodeType!==3||(c=i+s),b.nodeType===3&&(i+=b.nodeValue.length),(f=b.firstChild)!==null;)m=b,b=f;for(;;){if(b===e)break t;if(m===a&&++x===n&&(o=i),m===r&&++h===s&&(c=i),(f=b.nextSibling)!==null)break;b=m,m=b.parentNode}b=f}a=o===-1||c===-1?null:{start:o,end:c}}else a=null}a=a||{start:0,end:0}}else a=null;for(no={focusedElem:e,selectionRange:a},ir=!1,Ge=t;Ge!==null;)if(t=Ge,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,Ge=e;else for(;Ge!==null;){switch(t=Ge,r=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&r!==null){e=void 0,a=t,n=r.memoizedProps,r=r.memoizedState,s=a.stateNode;try{var E=Fa(a.type,n,a.elementType===a.type);e=s.getSnapshotBeforeUpdate(E,r),s.__reactInternalSnapshotBeforeUpdate=e}catch(D){je(a,a.return,D)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)io(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":io(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(R(163))}if(e=t.sibling,e!==null){e.return=t.return,Ge=e;break}Ge=t.return}}function X0(e,t,a){var s=a.flags;switch(a.tag){case 0:case 11:case 15:la(e,a),s&4&&Jl(5,a);break;case 1:if(la(e,a),s&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(i){je(a,a.return,i)}else{var n=Fa(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(n,t,e.__reactInternalSnapshotBeforeUpdate)}catch(i){je(a,a.return,i)}}s&64&&H0(a),s&512&&hl(a,a.return);break;case 3:if(la(e,a),s&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Zu(e,t)}catch(i){je(a,a.return,i)}}break;case 27:t===null&&s&4&&Q0(a);case 26:case 5:la(e,a),t===null&&s&4&&Y0(a),s&512&&hl(a,a.return);break;case 12:la(e,a);break;case 13:la(e,a),s&4&&J0(e,a),s&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Gg.bind(null,a),rx(e,a))));break;case 22:if(s=a.memoizedState!==null||Qt,!s){t=t!==null&&t.memoizedState!==null||ze,n=Qt;var r=ze;Qt=s,(ze=t)&&!r?na(e,a,(a.subtreeFlags&8772)!==0):la(e,a),Qt=n,ze=r}break;case 30:break;default:la(e,a)}}function Z0(e){var t=e.alternate;t!==null&&(e.alternate=null,Z0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Do(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ee=null,et=!1;function Vt(e,t,a){for(a=a.child;a!==null;)K0(e,t,a),a=a.sibling}function K0(e,t,a){if(ut&&typeof ut.onCommitFiberUnmount=="function")try{ut.onCommitFiberUnmount(Ul,a)}catch{}switch(a.tag){case 26:ze||Rt(a,t),Vt(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ze||Rt(a,t);var s=Ee,n=et;Aa(a.type)&&(Ee=a.stateNode,et=!1),Vt(e,t,a),vl(a.stateNode),Ee=s,et=n;break;case 5:ze||Rt(a,t);case 6:if(s=Ee,n=et,Ee=null,Vt(e,t,a),Ee=s,et=n,Ee!==null)if(et)try{(Ee.nodeType===9?Ee.body:Ee.nodeName==="HTML"?Ee.ownerDocument.body:Ee).removeChild(a.stateNode)}catch(r){je(a,t,r)}else try{Ee.removeChild(a.stateNode)}catch(r){je(a,t,r)}break;case 18:Ee!==null&&(et?(e=Ee,Td(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Rl(e)):Td(Ee,a.stateNode));break;case 4:s=Ee,n=et,Ee=a.stateNode.containerInfo,et=!0,Vt(e,t,a),Ee=s,et=n;break;case 0:case 11:case 14:case 15:ze||Ea(2,a,t),ze||Ea(4,a,t),Vt(e,t,a);break;case 1:ze||(Rt(a,t),s=a.stateNode,typeof s.componentWillUnmount=="function"&&G0(a,t,s)),Vt(e,t,a);break;case 21:Vt(e,t,a);break;case 22:ze=(s=ze)||a.memoizedState!==null,Vt(e,t,a),ze=s;break;default:Vt(e,t,a)}}function J0(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Rl(e)}catch(a){je(t,t.return,a)}}function zg(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new bd),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new bd),t;default:throw Error(R(435,e.tag))}}function ri(e,t){var a=zg(e);t.forEach(function(s){var n=Yg.bind(null,e,s);a.has(s)||(a.add(s),s.then(n,n))})}function it(e,t){var a=t.deletions;if(a!==null)for(var s=0;s<a.length;s++){var n=a[s],r=e,i=t,o=i;e:for(;o!==null;){switch(o.tag){case 27:if(Aa(o.type)){Ee=o.stateNode,et=!1;break e}break;case 5:Ee=o.stateNode,et=!1;break e;case 3:case 4:Ee=o.stateNode.containerInfo,et=!0;break e}o=o.return}if(Ee===null)throw Error(R(160));K0(r,i,n),Ee=null,et=!1,r=n.alternate,r!==null&&(r.return=null),n.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)F0(t,e),t=t.sibling}var Tt=null;function F0(e,t){var a=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:it(t,e),ot(e),s&4&&(Ea(3,e,e.return),Jl(3,e),Ea(5,e,e.return));break;case 1:it(t,e),ot(e),s&512&&(ze||a===null||Rt(a,a.return)),s&64&&Qt&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?s:a.concat(s))));break;case 26:var n=Tt;if(it(t,e),ot(e),s&512&&(ze||a===null||Rt(a,a.return)),s&4){var r=a!==null?a.memoizedState:null;if(s=e.memoizedState,a===null)if(s===null)if(e.stateNode===null){e:{s=e.type,a=e.memoizedProps,n=n.ownerDocument||n;t:switch(s){case"title":r=n.getElementsByTagName("title")[0],(!r||r[Hl]||r[Je]||r.namespaceURI==="http://www.w3.org/2000/svg"||r.hasAttribute("itemprop"))&&(r=n.createElement(s),n.head.insertBefore(r,n.querySelector("head > title"))),Ke(r,s,a),r[Je]=e,Ye(r),s=r;break e;case"link":var i=zd("link","href",n).get(s+(a.href||""));if(i){for(var o=0;o<i.length;o++)if(r=i[o],r.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&r.getAttribute("rel")===(a.rel==null?null:a.rel)&&r.getAttribute("title")===(a.title==null?null:a.title)&&r.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){i.splice(o,1);break t}}r=n.createElement(s),Ke(r,s,a),n.head.appendChild(r);break;case"meta":if(i=zd("meta","content",n).get(s+(a.content||""))){for(o=0;o<i.length;o++)if(r=i[o],r.getAttribute("content")===(a.content==null?null:""+a.content)&&r.getAttribute("name")===(a.name==null?null:a.name)&&r.getAttribute("property")===(a.property==null?null:a.property)&&r.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&r.getAttribute("charset")===(a.charSet==null?null:a.charSet)){i.splice(o,1);break t}}r=n.createElement(s),Ke(r,s,a),n.head.appendChild(r);break;default:throw Error(R(468,s))}r[Je]=e,Ye(r),s=r}e.stateNode=s}else Rd(n,e.type,e.stateNode);else e.stateNode=qd(n,s,e.memoizedProps);else r!==s?(r===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):r.count--,s===null?Rd(n,e.type,e.stateNode):qd(n,s,e.memoizedProps)):s===null&&e.stateNode!==null&&si(e,e.memoizedProps,a.memoizedProps)}break;case 27:it(t,e),ot(e),s&512&&(ze||a===null||Rt(a,a.return)),a!==null&&s&4&&si(e,e.memoizedProps,a.memoizedProps);break;case 5:if(it(t,e),ot(e),s&512&&(ze||a===null||Rt(a,a.return)),e.flags&32){n=e.stateNode;try{Ms(n,"")}catch(f){je(e,e.return,f)}}s&4&&e.stateNode!=null&&(n=e.memoizedProps,si(e,n,a!==null?a.memoizedProps:n)),s&1024&&(ni=!0);break;case 6:if(it(t,e),ot(e),s&4){if(e.stateNode===null)throw Error(R(162));s=e.memoizedProps,a=e.stateNode;try{a.nodeValue=s}catch(f){je(e,e.return,f)}}break;case 3:if(An=null,n=Tt,Tt=lr(t.containerInfo),it(t,e),Tt=n,ot(e),s&4&&a!==null&&a.memoizedState.isDehydrated)try{Rl(t.containerInfo)}catch(f){je(e,e.return,f)}ni&&(ni=!1,W0(e));break;case 4:s=Tt,Tt=lr(e.stateNode.containerInfo),it(t,e),ot(e),Tt=s;break;case 12:it(t,e),ot(e);break;case 13:it(t,e),ot(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(ic=Bt()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,ri(e,s)));break;case 22:n=e.memoizedState!==null;var c=a!==null&&a.memoizedState!==null,x=Qt,h=ze;if(Qt=x||n,ze=h||c,it(t,e),ze=h,Qt=x,ot(e),s&8192)e:for(t=e.stateNode,t._visibility=n?t._visibility&-2:t._visibility|1,n&&(a===null||c||Qt||ze||Ua(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){c=a=t;try{if(r=c.stateNode,n)i=r.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none";else{o=c.stateNode;var b=c.memoizedProps.style,m=b!=null&&b.hasOwnProperty("display")?b.display:null;o.style.display=m==null||typeof m=="boolean"?"":(""+m).trim()}}catch(f){je(c,c.return,f)}}}else if(t.tag===6){if(a===null){c=t;try{c.stateNode.nodeValue=n?"":c.memoizedProps}catch(f){je(c,c.return,f)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(a=s.retryQueue,a!==null&&(s.retryQueue=null,ri(e,a))));break;case 19:it(t,e),ot(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,ri(e,s)));break;case 30:break;case 21:break;default:it(t,e),ot(e)}}function ot(e){var t=e.flags;if(t&2){try{for(var a,s=e.return;s!==null;){if(V0(s)){a=s;break}s=s.return}if(a==null)throw Error(R(160));switch(a.tag){case 27:var n=a.stateNode,r=li(e);Wn(e,r,n);break;case 5:var i=a.stateNode;a.flags&32&&(Ms(i,""),a.flags&=-33);var o=li(e);Wn(e,o,i);break;case 3:case 4:var c=a.stateNode.containerInfo,x=li(e);Fi(e,x,c);break;default:throw Error(R(161))}}catch(h){je(e,e.return,h)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function W0(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;W0(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function la(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)X0(e,t.alternate,t),t=t.sibling}function Ua(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ea(4,t,t.return),Ua(t);break;case 1:Rt(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&G0(t,t.return,a),Ua(t);break;case 27:vl(t.stateNode);case 26:case 5:Rt(t,t.return),Ua(t);break;case 22:t.memoizedState===null&&Ua(t);break;case 30:Ua(t);break;default:Ua(t)}e=e.sibling}}function na(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,n=e,r=t,i=r.flags;switch(r.tag){case 0:case 11:case 15:na(n,r,a),Jl(4,r);break;case 1:if(na(n,r,a),s=r,n=s.stateNode,typeof n.componentDidMount=="function")try{n.componentDidMount()}catch(x){je(s,s.return,x)}if(s=r,n=s.updateQueue,n!==null){var o=s.stateNode;try{var c=n.shared.hiddenCallbacks;if(c!==null)for(n.shared.hiddenCallbacks=null,n=0;n<c.length;n++)Xu(c[n],o)}catch(x){je(s,s.return,x)}}a&&i&64&&H0(r),hl(r,r.return);break;case 27:Q0(r);case 26:case 5:na(n,r,a),a&&s===null&&i&4&&Y0(r),hl(r,r.return);break;case 12:na(n,r,a);break;case 13:na(n,r,a),a&&i&4&&J0(n,r);break;case 22:r.memoizedState===null&&na(n,r,a),hl(r,r.return);break;case 30:break;default:na(n,r,a)}t=t.sibling}}function sc(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Ql(a))}function lc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ql(e))}function qt(e,t,a,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)I0(e,t,a,s),t=t.sibling}function I0(e,t,a,s){var n=t.flags;switch(t.tag){case 0:case 11:case 15:qt(e,t,a,s),n&2048&&Jl(9,t);break;case 1:qt(e,t,a,s);break;case 3:qt(e,t,a,s),n&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ql(e)));break;case 12:if(n&2048){qt(e,t,a,s),e=t.stateNode;try{var r=t.memoizedProps,i=r.id,o=r.onPostCommit;typeof o=="function"&&o(i,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(c){je(t,t.return,c)}}else qt(e,t,a,s);break;case 13:qt(e,t,a,s);break;case 23:break;case 22:r=t.stateNode,i=t.alternate,t.memoizedState!==null?r._visibility&2?qt(e,t,a,s):bl(e,t):r._visibility&2?qt(e,t,a,s):(r._visibility|=2,rs(e,t,a,s,(t.subtreeFlags&10256)!==0)),n&2048&&sc(i,t);break;case 24:qt(e,t,a,s),n&2048&&lc(t.alternate,t);break;default:qt(e,t,a,s)}}function rs(e,t,a,s,n){for(n=n&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var r=e,i=t,o=a,c=s,x=i.flags;switch(i.tag){case 0:case 11:case 15:rs(r,i,o,c,n),Jl(8,i);break;case 23:break;case 22:var h=i.stateNode;i.memoizedState!==null?h._visibility&2?rs(r,i,o,c,n):bl(r,i):(h._visibility|=2,rs(r,i,o,c,n)),n&&x&2048&&sc(i.alternate,i);break;case 24:rs(r,i,o,c,n),n&&x&2048&&lc(i.alternate,i);break;default:rs(r,i,o,c,n)}t=t.sibling}}function bl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,s=t,n=s.flags;switch(s.tag){case 22:bl(a,s),n&2048&&sc(s.alternate,s);break;case 24:bl(a,s),n&2048&&lc(s.alternate,s);break;default:bl(a,s)}t=t.sibling}}var rl=8192;function as(e){if(e.subtreeFlags&rl)for(e=e.child;e!==null;)P0(e),e=e.sibling}function P0(e){switch(e.tag){case 26:as(e),e.flags&rl&&e.memoizedState!==null&&px(Tt,e.memoizedState,e.memoizedProps);break;case 5:as(e);break;case 3:case 4:var t=Tt;Tt=lr(e.stateNode.containerInfo),as(e),Tt=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=rl,rl=16777216,as(e),rl=t):as(e));break;default:as(e)}}function em(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function el(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];Ge=s,am(s,e)}em(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)tm(e),e=e.sibling}function tm(e){switch(e.tag){case 0:case 11:case 15:el(e),e.flags&2048&&Ea(9,e,e.return);break;case 3:el(e);break;case 12:el(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Dn(e)):el(e);break;default:el(e)}}function Dn(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];Ge=s,am(s,e)}em(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ea(8,t,t.return),Dn(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Dn(t));break;default:Dn(t)}e=e.sibling}}function am(e,t){for(;Ge!==null;){var a=Ge;switch(a.tag){case 0:case 11:case 15:Ea(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var s=a.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Ql(a.memoizedState.cache)}if(s=a.child,s!==null)s.return=a,Ge=s;else e:for(a=e;Ge!==null;){s=Ge;var n=s.sibling,r=s.return;if(Z0(s),s===a){Ge=null;break e}if(n!==null){n.return=r,Ge=n;break e}Ge=r}}}var Rg={getCacheForType:function(e){var t=Fe(Ue),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a}},Og=typeof WeakMap=="function"?WeakMap:Map,pe=0,we=null,ge=null,xe=0,ye=0,ct=null,xa=!1,Vs=!1,nc=!1,aa=0,Ce=0,Da=0,Qa=0,rc=0,kt=0,Bs=0,yl=null,tt=null,Wi=!1,ic=0,In=1/0,Pn=null,va=null,Ze=0,Na=null,Us=null,Ts=0,Ii=0,Pi=null,sm=null,pl=0,eo=null;function ft(){if(pe&2&&xe!==0)return xe&-xe;if(ne.T!==null){var e=qs;return e!==0?e:cc()}return gu()}function lm(){kt===0&&(kt=!(xe&536870912)||he?du():536870912);var e=St.current;return e!==null&&(e.flags|=32),kt}function gt(e,t,a){(e===we&&(ye===2||ye===9)||e.cancelPendingCommit!==null)&&(Ls(e,0),ha(e,xe,kt,!1)),$l(e,a),(!(pe&2)||e!==we)&&(e===we&&(!(pe&2)&&(Qa|=a),Ce===4&&ha(e,xe,kt,!1)),$t(e))}function nm(e,t,a){if(pe&6)throw Error(R(327));var s=!a&&(t&124)===0&&(t&e.expiredLanes)===0||Ll(e,t),n=s?Lg(e,t):ii(e,t,!0),r=s;do{if(n===0){Vs&&!s&&ha(e,t,0,!1);break}else{if(a=e.current.alternate,r&&!Bg(a)){n=ii(e,t,!1),r=!1;continue}if(n===2){if(r=t,e.errorRecoveryDisabledLanes&r)var i=0;else i=e.pendingLanes&-536870913,i=i!==0?i:i&536870912?536870912:0;if(i!==0){t=i;e:{var o=e;n=yl;var c=o.current.memoizedState.isDehydrated;if(c&&(Ls(o,i).flags|=256),i=ii(o,i,!1),i!==2){if(nc&&!c){o.errorRecoveryDisabledLanes|=r,Qa|=r,n=4;break e}r=tt,tt=n,r!==null&&(tt===null?tt=r:tt.push.apply(tt,r))}n=i}if(r=!1,n!==2)continue}}if(n===1){Ls(e,0),ha(e,t,0,!0);break}e:{switch(s=e,r=n,r){case 0:case 1:throw Error(R(345));case 4:if((t&4194048)!==t)break;case 6:ha(s,t,kt,!xa);break e;case 2:tt=null;break;case 3:case 5:break;default:throw Error(R(329))}if((t&62914560)===t&&(n=ic+300-Bt(),10<n)){if(ha(s,t,kt,!xa),gr(s,0,!0)!==0)break e;s.timeoutHandle=km(yd.bind(null,s,a,tt,Pn,Wi,t,kt,Qa,Bs,xa,r,2,-0,0),n);break e}yd(s,a,tt,Pn,Wi,t,kt,Qa,Bs,xa,r,0,-0,0)}}break}while(!0);$t(e)}function yd(e,t,a,s,n,r,i,o,c,x,h,b,m,f){if(e.timeoutHandle=-1,b=t.subtreeFlags,(b&8192||(b&16785408)===16785408)&&(Cl={stylesheets:null,count:0,unsuspend:yx},P0(t),b=vx(),b!==null)){e.cancelPendingCommit=b(vd.bind(null,e,t,r,a,s,n,i,o,c,h,1,m,f)),ha(e,r,i,!x);return}vd(e,t,r,a,s,n,i,o,c)}function Bg(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var s=0;s<a.length;s++){var n=a[s],r=n.getSnapshot;n=n.value;try{if(!xt(r(),n))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ha(e,t,a,s){t&=~rc,t&=~Qa,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var n=t;0<n;){var r=31-mt(n),i=1<<r;s[r]=-1,n&=~i}a!==0&&mu(e,a,t)}function kr(){return pe&6?!0:(Fl(0),!1)}function oc(){if(ge!==null){if(ye===0)var e=ge.return;else e=ge,Jt=es=null,Ko(e),Ds=null,Dl=0,e=ge;for(;e!==null;)$0(e.alternate,e),e=e.return;ge=null}}function Ls(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,tx(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),oc(),we=e,ge=a=Wt(e.current,null),xe=t,ye=0,ct=null,xa=!1,Vs=Ll(e,t),nc=!1,Bs=kt=rc=Qa=Da=Ce=0,tt=yl=null,Wi=!1,t&8&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var n=31-mt(s),r=1<<n;t|=e[n],s&=~r}return aa=t,yr(),a}function rm(e,t){me=null,ne.H=Xn,t===Xl||t===vr?(t=Fc(),ye=3):t===Vu?(t=Fc(),ye=4):ye=t===z0?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,ct=t,ge===null&&(Ce=1,Jn(e,wt(t,e.current)))}function im(){var e=ne.H;return ne.H=Xn,e===null?Xn:e}function om(){var e=ne.A;return ne.A=Rg,e}function to(){Ce=4,xa||(xe&4194048)!==xe&&St.current!==null||(Vs=!0),!(Da&134217727)&&!(Qa&134217727)||we===null||ha(we,xe,kt,!1)}function ii(e,t,a){var s=pe;pe|=2;var n=im(),r=om();(we!==e||xe!==t)&&(Pn=null,Ls(e,t)),t=!1;var i=Ce;e:do try{if(ye!==0&&ge!==null){var o=ge,c=ct;switch(ye){case 8:oc(),i=6;break e;case 3:case 2:case 9:case 6:St.current===null&&(t=!0);var x=ye;if(ye=0,ct=null,ps(e,o,c,x),a&&Vs){i=0;break e}break;default:x=ye,ye=0,ct=null,ps(e,o,c,x)}}Ug(),i=Ce;break}catch(h){rm(e,h)}while(!0);return t&&e.shellSuspendCounter++,Jt=es=null,pe=s,ne.H=n,ne.A=r,ge===null&&(we=null,xe=0,yr()),i}function Ug(){for(;ge!==null;)cm(ge)}function Lg(e,t){var a=pe;pe|=2;var s=im(),n=om();we!==e||xe!==t?(Pn=null,In=Bt()+500,Ls(e,t)):Vs=Ll(e,t);e:do try{if(ye!==0&&ge!==null){t=ge;var r=ct;t:switch(ye){case 1:ye=0,ct=null,ps(e,t,r,1);break;case 2:case 9:if(Jc(r)){ye=0,ct=null,pd(t);break}t=function(){ye!==2&&ye!==9||we!==e||(ye=7),$t(e)},r.then(t,t);break e;case 3:ye=7;break e;case 4:ye=5;break e;case 7:Jc(r)?(ye=0,ct=null,pd(t)):(ye=0,ct=null,ps(e,t,r,7));break;case 5:var i=null;switch(ge.tag){case 26:i=ge.memoizedState;case 5:case 27:var o=ge;if(!i||Dm(i)){ye=0,ct=null;var c=o.sibling;if(c!==null)ge=c;else{var x=o.return;x!==null?(ge=x,Sr(x)):ge=null}break t}}ye=0,ct=null,ps(e,t,r,5);break;case 6:ye=0,ct=null,ps(e,t,r,6);break;case 8:oc(),Ce=6;break e;default:throw Error(R(462))}}$g();break}catch(h){rm(e,h)}while(!0);return Jt=es=null,ne.H=s,ne.A=n,pe=a,ge!==null?0:(we=null,xe=0,yr(),Ce)}function $g(){for(;ge!==null&&!of();)cm(ge)}function cm(e){var t=L0(e.alternate,e,aa);e.memoizedProps=e.pendingProps,t===null?Sr(e):ge=t}function pd(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=md(a,t,t.pendingProps,t.type,void 0,xe);break;case 11:t=md(a,t,t.pendingProps,t.type.render,t.ref,xe);break;case 5:Ko(t);default:$0(a,t),t=ge=$u(t,aa),t=L0(a,t,aa)}e.memoizedProps=e.pendingProps,t===null?Sr(e):ge=t}function ps(e,t,a,s){Jt=es=null,Ko(t),Ds=null,Dl=0;var n=t.return;try{if(Tg(e,n,t,a,xe)){Ce=1,Jn(e,wt(a,e.current)),ge=null;return}}catch(r){if(n!==null)throw ge=n,r;Ce=1,Jn(e,wt(a,e.current)),ge=null;return}t.flags&32768?(he||s===1?e=!0:Vs||xe&536870912?e=!1:(xa=e=!0,(s===2||s===9||s===3||s===6)&&(s=St.current,s!==null&&s.tag===13&&(s.flags|=16384))),dm(t,e)):Sr(t)}function Sr(e){var t=e;do{if(t.flags&32768){dm(t,xa);return}e=t.return;var a=Cg(t.alternate,t,aa);if(a!==null){ge=a;return}if(t=t.sibling,t!==null){ge=t;return}ge=t=e}while(t!==null);Ce===0&&(Ce=5)}function dm(e,t){do{var a=Mg(e.alternate,e);if(a!==null){a.flags&=32767,ge=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){ge=e;return}ge=e=a}while(e!==null);Ce=6,ge=null}function vd(e,t,a,s,n,r,i,o,c){e.cancelPendingCommit=null;do _r();while(Ze!==0);if(pe&6)throw Error(R(327));if(t!==null){if(t===e.current)throw Error(R(177));if(r=t.lanes|t.childLanes,r|=Ro,yf(e,a,r,i,o,c),e===we&&(ge=we=null,xe=0),Us=t,Na=e,Ts=a,Ii=r,Pi=n,sm=s,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,Vg(On,function(){return xm(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,t.subtreeFlags&13878||s){s=ne.T,ne.T=null,n=be.p,be.p=2,i=pe,pe|=4;try{qg(e,t,a)}finally{pe=i,be.p=n,ne.T=s}}Ze=1,um(),mm(),fm()}}function um(){if(Ze===1){Ze=0;var e=Na,t=Us,a=(t.flags&13878)!==0;if(t.subtreeFlags&13878||a){a=ne.T,ne.T=null;var s=be.p;be.p=2;var n=pe;pe|=4;try{F0(t,e);var r=no,i=Mu(e.containerInfo),o=r.focusedElem,c=r.selectionRange;if(i!==o&&o&&o.ownerDocument&&Cu(o.ownerDocument.documentElement,o)){if(c!==null&&zo(o)){var x=c.start,h=c.end;if(h===void 0&&(h=x),"selectionStart"in o)o.selectionStart=x,o.selectionEnd=Math.min(h,o.value.length);else{var b=o.ownerDocument||document,m=b&&b.defaultView||window;if(m.getSelection){var f=m.getSelection(),E=o.textContent.length,D=Math.min(c.start,E),q=c.end===void 0?D:Math.min(c.end,E);!f.extend&&D>q&&(i=q,q=D,D=i);var g=Hc(o,D),d=Hc(o,q);if(g&&d&&(f.rangeCount!==1||f.anchorNode!==g.node||f.anchorOffset!==g.offset||f.focusNode!==d.node||f.focusOffset!==d.offset)){var y=b.createRange();y.setStart(g.node,g.offset),f.removeAllRanges(),D>q?(f.addRange(y),f.extend(d.node,d.offset)):(y.setEnd(d.node,d.offset),f.addRange(y))}}}}for(b=[],f=o;f=f.parentNode;)f.nodeType===1&&b.push({element:f,left:f.scrollLeft,top:f.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<b.length;o++){var k=b[o];k.element.scrollLeft=k.left,k.element.scrollTop=k.top}}ir=!!lo,no=lo=null}finally{pe=n,be.p=s,ne.T=a}}e.current=t,Ze=2}}function mm(){if(Ze===2){Ze=0;var e=Na,t=Us,a=(t.flags&8772)!==0;if(t.subtreeFlags&8772||a){a=ne.T,ne.T=null;var s=be.p;be.p=2;var n=pe;pe|=4;try{X0(e,t.alternate,t)}finally{pe=n,be.p=s,ne.T=a}}Ze=3}}function fm(){if(Ze===4||Ze===3){Ze=0,cf();var e=Na,t=Us,a=Ts,s=sm;t.subtreeFlags&10256||t.flags&10256?Ze=5:(Ze=0,Us=Na=null,gm(e,e.pendingLanes));var n=e.pendingLanes;if(n===0&&(va=null),Eo(a),t=t.stateNode,ut&&typeof ut.onCommitFiberRoot=="function")try{ut.onCommitFiberRoot(Ul,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=ne.T,n=be.p,be.p=2,ne.T=null;try{for(var r=e.onRecoverableError,i=0;i<s.length;i++){var o=s[i];r(o.value,{componentStack:o.stack})}}finally{ne.T=t,be.p=n}}Ts&3&&_r(),$t(e),n=e.pendingLanes,a&4194090&&n&42?e===eo?pl++:(pl=0,eo=e):pl=0,Fl(0)}}function gm(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Ql(t)))}function _r(e){return um(),mm(),fm(),xm()}function xm(){if(Ze!==5)return!1;var e=Na,t=Ii;Ii=0;var a=Eo(Ts),s=ne.T,n=be.p;try{be.p=32>a?32:a,ne.T=null,a=Pi,Pi=null;var r=Na,i=Ts;if(Ze=0,Us=Na=null,Ts=0,pe&6)throw Error(R(331));var o=pe;if(pe|=4,tm(r.current),I0(r,r.current,i,a),pe=o,Fl(0,!1),ut&&typeof ut.onPostCommitFiberRoot=="function")try{ut.onPostCommitFiberRoot(Ul,r)}catch{}return!0}finally{be.p=n,ne.T=s,gm(e,t)}}function Nd(e,t,a){t=wt(a,t),t=Zi(e.stateNode,t,2),e=pa(e,t,2),e!==null&&($l(e,2),$t(e))}function je(e,t,a){if(e.tag===3)Nd(e,e,a);else for(;t!==null;){if(t.tag===3){Nd(t,e,a);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(va===null||!va.has(s))){e=wt(a,e),a=M0(2),s=pa(t,a,2),s!==null&&(q0(a,s,t,e),$l(s,2),$t(s));break}}t=t.return}}function oi(e,t,a){var s=e.pingCache;if(s===null){s=e.pingCache=new Og;var n=new Set;s.set(t,n)}else n=s.get(t),n===void 0&&(n=new Set,s.set(t,n));n.has(a)||(nc=!0,n.add(a),e=Hg.bind(null,e,t,a),t.then(e,e))}function Hg(e,t,a){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,we===e&&(xe&a)===a&&(Ce===4||Ce===3&&(xe&62914560)===xe&&300>Bt()-ic?!(pe&2)&&Ls(e,0):rc|=a,Bs===xe&&(Bs=0)),$t(e)}function hm(e,t){t===0&&(t=uu()),e=Ys(e,t),e!==null&&($l(e,t),$t(e))}function Gg(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),hm(e,a)}function Yg(e,t){var a=0;switch(e.tag){case 13:var s=e.stateNode,n=e.memoizedState;n!==null&&(a=n.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(R(314))}s!==null&&s.delete(t),hm(e,a)}function Vg(e,t){return So(e,t)}var er=null,is=null,ao=!1,tr=!1,ci=!1,Xa=0;function $t(e){e!==is&&e.next===null&&(is===null?er=is=e:is=is.next=e),tr=!0,ao||(ao=!0,Xg())}function Fl(e,t){if(!ci&&tr){ci=!0;do for(var a=!1,s=er;s!==null;){if(e!==0){var n=s.pendingLanes;if(n===0)var r=0;else{var i=s.suspendedLanes,o=s.pingedLanes;r=(1<<31-mt(42|e)+1)-1,r&=n&~(i&~o),r=r&201326741?r&201326741|1:r?r|2:0}r!==0&&(a=!0,jd(s,r))}else r=xe,r=gr(s,s===we?r:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),!(r&3)||Ll(s,r)||(a=!0,jd(s,r));s=s.next}while(a);ci=!1}}function Qg(){bm()}function bm(){tr=ao=!1;var e=0;Xa!==0&&(ex()&&(e=Xa),Xa=0);for(var t=Bt(),a=null,s=er;s!==null;){var n=s.next,r=ym(s,t);r===0?(s.next=null,a===null?er=n:a.next=n,n===null&&(is=a)):(a=s,(e!==0||r&3)&&(tr=!0)),s=n}Fl(e)}function ym(e,t){for(var a=e.suspendedLanes,s=e.pingedLanes,n=e.expirationTimes,r=e.pendingLanes&-62914561;0<r;){var i=31-mt(r),o=1<<i,c=n[i];c===-1?(!(o&a)||o&s)&&(n[i]=bf(o,t)):c<=t&&(e.expiredLanes|=o),r&=~o}if(t=we,a=xe,a=gr(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,a===0||e===t&&(ye===2||ye===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&Rr(s),e.callbackNode=null,e.callbackPriority=0;if(!(a&3)||Ll(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(s!==null&&Rr(s),Eo(a)){case 2:case 8:a=ou;break;case 32:a=On;break;case 268435456:a=cu;break;default:a=On}return s=pm.bind(null,e),a=So(a,s),e.callbackPriority=t,e.callbackNode=a,t}return s!==null&&s!==null&&Rr(s),e.callbackPriority=2,e.callbackNode=null,2}function pm(e,t){if(Ze!==0&&Ze!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(_r()&&e.callbackNode!==a)return null;var s=xe;return s=gr(e,e===we?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(nm(e,s,t),ym(e,Bt()),e.callbackNode!=null&&e.callbackNode===a?pm.bind(null,e):null)}function jd(e,t){if(_r())return null;nm(e,t,!0)}function Xg(){ax(function(){pe&6?So(iu,Qg):bm()})}function cc(){return Xa===0&&(Xa=du()),Xa}function wd(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:vn(""+e)}function kd(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function Zg(e,t,a,s,n){if(t==="submit"&&a&&a.stateNode===n){var r=wd((n[nt]||null).action),i=s.submitter;i&&(t=(t=i[nt]||null)?wd(t.formAction):i.getAttribute("formAction"),t!==null&&(r=t,i=null));var o=new xr("action","action",null,s,n);e.push({event:o,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Xa!==0){var c=i?kd(n,i):new FormData(n);Qi(a,{pending:!0,data:c,method:n.method,action:r},null,c)}}else typeof r=="function"&&(o.preventDefault(),c=i?kd(n,i):new FormData(n),Qi(a,{pending:!0,data:c,method:n.method,action:r},r,c))},currentTarget:n}]})}}for(var di=0;di<qi.length;di++){var ui=qi[di],Kg=ui.toLowerCase(),Jg=ui[0].toUpperCase()+ui.slice(1);Ct(Kg,"on"+Jg)}Ct(zu,"onAnimationEnd");Ct(Ru,"onAnimationIteration");Ct(Ou,"onAnimationStart");Ct("dblclick","onDoubleClick");Ct("focusin","onFocus");Ct("focusout","onBlur");Ct(mg,"onTransitionRun");Ct(fg,"onTransitionStart");Ct(gg,"onTransitionCancel");Ct(Bu,"onTransitionEnd");Cs("onMouseEnter",["mouseout","mouseover"]);Cs("onMouseLeave",["mouseout","mouseover"]);Cs("onPointerEnter",["pointerout","pointerover"]);Cs("onPointerLeave",["pointerout","pointerover"]);Wa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Wa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Wa("onBeforeInput",["compositionend","keypress","textInput","paste"]);Wa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Wa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Wa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fg=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Tl));function vm(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var s=e[a],n=s.event;s=s.listeners;e:{var r=void 0;if(t)for(var i=s.length-1;0<=i;i--){var o=s[i],c=o.instance,x=o.currentTarget;if(o=o.listener,c!==r&&n.isPropagationStopped())break e;r=o,n.currentTarget=x;try{r(n)}catch(h){Kn(h)}n.currentTarget=null,r=c}else for(i=0;i<s.length;i++){if(o=s[i],c=o.instance,x=o.currentTarget,o=o.listener,c!==r&&n.isPropagationStopped())break e;r=o,n.currentTarget=x;try{r(n)}catch(h){Kn(h)}n.currentTarget=null,r=c}}}}function fe(e,t){var a=t[_i];a===void 0&&(a=t[_i]=new Set);var s=e+"__bubble";a.has(s)||(Nm(t,e,2,!1),a.add(s))}function mi(e,t,a){var s=0;t&&(s|=4),Nm(a,e,s,t)}var gn="_reactListening"+Math.random().toString(36).slice(2);function dc(e){if(!e[gn]){e[gn]=!0,xu.forEach(function(a){a!=="selectionchange"&&(Fg.has(a)||mi(a,!1,e),mi(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[gn]||(t[gn]=!0,mi("selectionchange",!1,t))}}function Nm(e,t,a,s){switch(qm(t)){case 2:var n=wx;break;case 8:n=kx;break;default:n=gc}a=n.bind(null,t,a,e),n=void 0,!Ai||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),s?n!==void 0?e.addEventListener(t,a,{capture:!0,passive:n}):e.addEventListener(t,a,!0):n!==void 0?e.addEventListener(t,a,{passive:n}):e.addEventListener(t,a,!1)}function fi(e,t,a,s,n){var r=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var i=s.tag;if(i===3||i===4){var o=s.stateNode.containerInfo;if(o===n)break;if(i===4)for(i=s.return;i!==null;){var c=i.tag;if((c===3||c===4)&&i.stateNode.containerInfo===n)return;i=i.return}for(;o!==null;){if(i=ds(o),i===null)return;if(c=i.tag,c===5||c===6||c===26||c===27){s=r=i;continue e}o=o.parentNode}}s=s.return}wu(function(){var x=r,h=Ao(a),b=[];e:{var m=Uu.get(e);if(m!==void 0){var f=xr,E=e;switch(e){case"keypress":if(jn(a)===0)break e;case"keydown":case"keyup":f=Vf;break;case"focusin":E="focus",f=Yr;break;case"focusout":E="blur",f=Yr;break;case"beforeblur":case"afterblur":f=Yr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=Cc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=Mf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=Zf;break;case zu:case Ru:case Ou:f=Rf;break;case Bu:f=Jf;break;case"scroll":case"scrollend":f=Af;break;case"wheel":f=Wf;break;case"copy":case"cut":case"paste":f=Bf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=qc;break;case"toggle":case"beforetoggle":f=Pf}var D=(t&4)!==0,q=!D&&(e==="scroll"||e==="scrollend"),g=D?m!==null?m+"Capture":null:m;D=[];for(var d=x,y;d!==null;){var k=d;if(y=k.stateNode,k=k.tag,k!==5&&k!==26&&k!==27||y===null||g===null||(k=wl(d,g),k!=null&&D.push(Al(d,k,y))),q)break;d=d.return}0<D.length&&(m=new f(m,E,null,a,h),b.push({event:m,listeners:D}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",m&&a!==Ti&&(E=a.relatedTarget||a.fromElement)&&(ds(E)||E[Hs]))break e;if((f||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,f?(E=a.relatedTarget||a.toElement,f=x,E=E?ds(E):null,E!==null&&(q=Bl(E),D=E.tag,E!==q||D!==5&&D!==27&&D!==6)&&(E=null)):(f=null,E=x),f!==E)){if(D=Cc,k="onMouseLeave",g="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(D=qc,k="onPointerLeave",g="onPointerEnter",d="pointer"),q=f==null?m:nl(f),y=E==null?m:nl(E),m=new D(k,d+"leave",f,a,h),m.target=q,m.relatedTarget=y,k=null,ds(h)===x&&(D=new D(g,d+"enter",E,a,h),D.target=y,D.relatedTarget=q,k=D),q=k,f&&E)t:{for(D=f,g=E,d=0,y=D;y;y=ss(y))d++;for(y=0,k=g;k;k=ss(k))y++;for(;0<d-y;)D=ss(D),d--;for(;0<y-d;)g=ss(g),y--;for(;d--;){if(D===g||g!==null&&D===g.alternate)break t;D=ss(D),g=ss(g)}D=null}else D=null;f!==null&&Sd(b,m,f,D,!1),E!==null&&q!==null&&Sd(b,q,E,D,!0)}}e:{if(m=x?nl(x):window,f=m.nodeName&&m.nodeName.toLowerCase(),f==="select"||f==="input"&&m.type==="file")var z=Bc;else if(Oc(m))if(Tu)z=cg;else{z=ig;var U=rg}else f=m.nodeName,!f||f.toLowerCase()!=="input"||m.type!=="checkbox"&&m.type!=="radio"?x&&To(x.elementType)&&(z=Bc):z=og;if(z&&(z=z(e,x))){Du(b,z,a,h);break e}U&&U(e,m,x),e==="focusout"&&x&&m.type==="number"&&x.memoizedProps.value!=null&&Di(m,"number",m.value)}switch(U=x?nl(x):window,e){case"focusin":(Oc(U)||U.contentEditable==="true")&&(fs=U,Ci=x,cl=null);break;case"focusout":cl=Ci=fs=null;break;case"mousedown":Mi=!0;break;case"contextmenu":case"mouseup":case"dragend":Mi=!1,Gc(b,a,h);break;case"selectionchange":if(ug)break;case"keydown":case"keyup":Gc(b,a,h)}var B;if(qo)e:{switch(e){case"compositionstart":var H="onCompositionStart";break e;case"compositionend":H="onCompositionEnd";break e;case"compositionupdate":H="onCompositionUpdate";break e}H=void 0}else ms?_u(e,a)&&(H="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(H="onCompositionStart");H&&(Su&&a.locale!=="ko"&&(ms||H!=="onCompositionStart"?H==="onCompositionEnd"&&ms&&(B=ku()):(ga=h,Co="value"in ga?ga.value:ga.textContent,ms=!0)),U=ar(x,H),0<U.length&&(H=new Mc(H,e,null,a,h),b.push({event:H,listeners:U}),B?H.data=B:(B=Eu(a),B!==null&&(H.data=B)))),(B=tg?ag(e,a):sg(e,a))&&(H=ar(x,"onBeforeInput"),0<H.length&&(U=new Mc("onBeforeInput","beforeinput",null,a,h),b.push({event:U,listeners:H}),U.data=B)),Zg(b,e,x,a,h)}vm(b,t)})}function Al(e,t,a){return{instance:e,listener:t,currentTarget:a}}function ar(e,t){for(var a=t+"Capture",s=[];e!==null;){var n=e,r=n.stateNode;if(n=n.tag,n!==5&&n!==26&&n!==27||r===null||(n=wl(e,a),n!=null&&s.unshift(Al(e,n,r)),n=wl(e,t),n!=null&&s.push(Al(e,n,r))),e.tag===3)return s;e=e.return}return[]}function ss(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Sd(e,t,a,s,n){for(var r=t._reactName,i=[];a!==null&&a!==s;){var o=a,c=o.alternate,x=o.stateNode;if(o=o.tag,c!==null&&c===s)break;o!==5&&o!==26&&o!==27||x===null||(c=x,n?(x=wl(a,r),x!=null&&i.unshift(Al(a,x,c))):n||(x=wl(a,r),x!=null&&i.push(Al(a,x,c)))),a=a.return}i.length!==0&&e.push({event:t,listeners:i})}var Wg=/\r\n?/g,Ig=/\u0000|\uFFFD/g;function _d(e){return(typeof e=="string"?e:""+e).replace(Wg,`
`).replace(Ig,"")}function jm(e,t){return t=_d(t),_d(e)===t}function Er(){}function ve(e,t,a,s,n,r){switch(a){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||Ms(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&Ms(e,""+s);break;case"className":rn(e,"class",s);break;case"tabIndex":rn(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":rn(e,a,s);break;case"style":ju(e,s,r);break;case"data":if(t!=="object"){rn(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=vn(""+s),e.setAttribute(a,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof r=="function"&&(a==="formAction"?(t!=="input"&&ve(e,t,"name",n.name,n,null),ve(e,t,"formEncType",n.formEncType,n,null),ve(e,t,"formMethod",n.formMethod,n,null),ve(e,t,"formTarget",n.formTarget,n,null)):(ve(e,t,"encType",n.encType,n,null),ve(e,t,"method",n.method,n,null),ve(e,t,"target",n.target,n,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=vn(""+s),e.setAttribute(a,s);break;case"onClick":s!=null&&(e.onclick=Er);break;case"onScroll":s!=null&&fe("scroll",e);break;case"onScrollEnd":s!=null&&fe("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(R(61));if(a=s.__html,a!=null){if(n.children!=null)throw Error(R(60));e.innerHTML=a}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}a=vn(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""+s):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":s===!0?e.setAttribute(a,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,s):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(a,s):e.removeAttribute(a);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(a):e.setAttribute(a,s);break;case"popover":fe("beforetoggle",e),fe("toggle",e),pn(e,"popover",s);break;case"xlinkActuate":Gt(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":Gt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":Gt(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":Gt(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":Gt(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":Gt(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":Gt(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":Gt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":Gt(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":pn(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Df.get(a)||a,pn(e,a,s))}}function so(e,t,a,s,n,r){switch(a){case"style":ju(e,s,r);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(R(61));if(a=s.__html,a!=null){if(n.children!=null)throw Error(R(60));e.innerHTML=a}}break;case"children":typeof s=="string"?Ms(e,s):(typeof s=="number"||typeof s=="bigint")&&Ms(e,""+s);break;case"onScroll":s!=null&&fe("scroll",e);break;case"onScrollEnd":s!=null&&fe("scrollend",e);break;case"onClick":s!=null&&(e.onclick=Er);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!hu.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(n=a.endsWith("Capture"),t=a.slice(2,n?a.length-7:void 0),r=e[nt]||null,r=r!=null?r[a]:null,typeof r=="function"&&e.removeEventListener(t,r,n),typeof s=="function")){typeof r!="function"&&r!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,s,n);break e}a in e?e[a]=s:s===!0?e.setAttribute(a,""):pn(e,a,s)}}}function Ke(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":fe("error",e),fe("load",e);var s=!1,n=!1,r;for(r in a)if(a.hasOwnProperty(r)){var i=a[r];if(i!=null)switch(r){case"src":s=!0;break;case"srcSet":n=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(R(137,t));default:ve(e,t,r,i,a,null)}}n&&ve(e,t,"srcSet",a.srcSet,a,null),s&&ve(e,t,"src",a.src,a,null);return;case"input":fe("invalid",e);var o=r=i=n=null,c=null,x=null;for(s in a)if(a.hasOwnProperty(s)){var h=a[s];if(h!=null)switch(s){case"name":n=h;break;case"type":i=h;break;case"checked":c=h;break;case"defaultChecked":x=h;break;case"value":r=h;break;case"defaultValue":o=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(R(137,t));break;default:ve(e,t,s,h,a,null)}}pu(e,r,o,c,x,i,n,!1),Bn(e);return;case"select":fe("invalid",e),s=i=r=null;for(n in a)if(a.hasOwnProperty(n)&&(o=a[n],o!=null))switch(n){case"value":r=o;break;case"defaultValue":i=o;break;case"multiple":s=o;default:ve(e,t,n,o,a,null)}t=r,a=i,e.multiple=!!s,t!=null?ws(e,!!s,t,!1):a!=null&&ws(e,!!s,a,!0);return;case"textarea":fe("invalid",e),r=n=s=null;for(i in a)if(a.hasOwnProperty(i)&&(o=a[i],o!=null))switch(i){case"value":s=o;break;case"defaultValue":n=o;break;case"children":r=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(R(91));break;default:ve(e,t,i,o,a,null)}Nu(e,s,n,r),Bn(e);return;case"option":for(c in a)if(a.hasOwnProperty(c)&&(s=a[c],s!=null))switch(c){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:ve(e,t,c,s,a,null)}return;case"dialog":fe("beforetoggle",e),fe("toggle",e),fe("cancel",e),fe("close",e);break;case"iframe":case"object":fe("load",e);break;case"video":case"audio":for(s=0;s<Tl.length;s++)fe(Tl[s],e);break;case"image":fe("error",e),fe("load",e);break;case"details":fe("toggle",e);break;case"embed":case"source":case"link":fe("error",e),fe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(x in a)if(a.hasOwnProperty(x)&&(s=a[x],s!=null))switch(x){case"children":case"dangerouslySetInnerHTML":throw Error(R(137,t));default:ve(e,t,x,s,a,null)}return;default:if(To(t)){for(h in a)a.hasOwnProperty(h)&&(s=a[h],s!==void 0&&so(e,t,h,s,a,void 0));return}}for(o in a)a.hasOwnProperty(o)&&(s=a[o],s!=null&&ve(e,t,o,s,a,null))}function Pg(e,t,a,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var n=null,r=null,i=null,o=null,c=null,x=null,h=null;for(f in a){var b=a[f];if(a.hasOwnProperty(f)&&b!=null)switch(f){case"checked":break;case"value":break;case"defaultValue":c=b;default:s.hasOwnProperty(f)||ve(e,t,f,null,s,b)}}for(var m in s){var f=s[m];if(b=a[m],s.hasOwnProperty(m)&&(f!=null||b!=null))switch(m){case"type":r=f;break;case"name":n=f;break;case"checked":x=f;break;case"defaultChecked":h=f;break;case"value":i=f;break;case"defaultValue":o=f;break;case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(R(137,t));break;default:f!==b&&ve(e,t,m,f,s,b)}}Ei(e,i,o,c,x,h,r,n);return;case"select":f=i=o=m=null;for(r in a)if(c=a[r],a.hasOwnProperty(r)&&c!=null)switch(r){case"value":break;case"multiple":f=c;default:s.hasOwnProperty(r)||ve(e,t,r,null,s,c)}for(n in s)if(r=s[n],c=a[n],s.hasOwnProperty(n)&&(r!=null||c!=null))switch(n){case"value":m=r;break;case"defaultValue":o=r;break;case"multiple":i=r;default:r!==c&&ve(e,t,n,r,s,c)}t=o,a=i,s=f,m!=null?ws(e,!!a,m,!1):!!s!=!!a&&(t!=null?ws(e,!!a,t,!0):ws(e,!!a,a?[]:"",!1));return;case"textarea":f=m=null;for(o in a)if(n=a[o],a.hasOwnProperty(o)&&n!=null&&!s.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:ve(e,t,o,null,s,n)}for(i in s)if(n=s[i],r=a[i],s.hasOwnProperty(i)&&(n!=null||r!=null))switch(i){case"value":m=n;break;case"defaultValue":f=n;break;case"children":break;case"dangerouslySetInnerHTML":if(n!=null)throw Error(R(91));break;default:n!==r&&ve(e,t,i,n,s,r)}vu(e,m,f);return;case"option":for(var E in a)if(m=a[E],a.hasOwnProperty(E)&&m!=null&&!s.hasOwnProperty(E))switch(E){case"selected":e.selected=!1;break;default:ve(e,t,E,null,s,m)}for(c in s)if(m=s[c],f=a[c],s.hasOwnProperty(c)&&m!==f&&(m!=null||f!=null))switch(c){case"selected":e.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:ve(e,t,c,m,s,f)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var D in a)m=a[D],a.hasOwnProperty(D)&&m!=null&&!s.hasOwnProperty(D)&&ve(e,t,D,null,s,m);for(x in s)if(m=s[x],f=a[x],s.hasOwnProperty(x)&&m!==f&&(m!=null||f!=null))switch(x){case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(R(137,t));break;default:ve(e,t,x,m,s,f)}return;default:if(To(t)){for(var q in a)m=a[q],a.hasOwnProperty(q)&&m!==void 0&&!s.hasOwnProperty(q)&&so(e,t,q,void 0,s,m);for(h in s)m=s[h],f=a[h],!s.hasOwnProperty(h)||m===f||m===void 0&&f===void 0||so(e,t,h,m,s,f);return}}for(var g in a)m=a[g],a.hasOwnProperty(g)&&m!=null&&!s.hasOwnProperty(g)&&ve(e,t,g,null,s,m);for(b in s)m=s[b],f=a[b],!s.hasOwnProperty(b)||m===f||m==null&&f==null||ve(e,t,b,m,s,f)}var lo=null,no=null;function sr(e){return e.nodeType===9?e:e.ownerDocument}function Ed(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function wm(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function ro(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var gi=null;function ex(){var e=window.event;return e&&e.type==="popstate"?e===gi?!1:(gi=e,!0):(gi=null,!1)}var km=typeof setTimeout=="function"?setTimeout:void 0,tx=typeof clearTimeout=="function"?clearTimeout:void 0,Dd=typeof Promise=="function"?Promise:void 0,ax=typeof queueMicrotask=="function"?queueMicrotask:typeof Dd<"u"?function(e){return Dd.resolve(null).then(e).catch(sx)}:km;function sx(e){setTimeout(function(){throw e})}function Aa(e){return e==="head"}function Td(e,t){var a=t,s=0,n=0;do{var r=a.nextSibling;if(e.removeChild(a),r&&r.nodeType===8)if(a=r.data,a==="/$"){if(0<s&&8>s){a=s;var i=e.ownerDocument;if(a&1&&vl(i.documentElement),a&2&&vl(i.body),a&4)for(a=i.head,vl(a),i=a.firstChild;i;){var o=i.nextSibling,c=i.nodeName;i[Hl]||c==="SCRIPT"||c==="STYLE"||c==="LINK"&&i.rel.toLowerCase()==="stylesheet"||a.removeChild(i),i=o}}if(n===0){e.removeChild(r),Rl(t);return}n--}else a==="$"||a==="$?"||a==="$!"?n++:s=a.charCodeAt(0)-48;else s=0;a=r}while(a);Rl(t)}function io(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":io(a),Do(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function lx(e,t,a,s){for(;e.nodeType===1;){var n=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[Hl])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(r=e.getAttribute("rel"),r==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(r!==n.rel||e.getAttribute("href")!==(n.href==null||n.href===""?null:n.href)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin)||e.getAttribute("title")!==(n.title==null?null:n.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(r=e.getAttribute("src"),(r!==(n.src==null?null:n.src)||e.getAttribute("type")!==(n.type==null?null:n.type)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin))&&r&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var r=n.name==null?null:""+n.name;if(n.type==="hidden"&&e.getAttribute("name")===r)return e}else return e;if(e=At(e.nextSibling),e===null)break}return null}function nx(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=At(e.nextSibling),e===null))return null;return e}function oo(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function rx(e,t){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")t();else{var s=function(){t(),a.removeEventListener("DOMContentLoaded",s)};a.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function At(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var co=null;function Ad(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(t===0)return e;t--}else a==="/$"&&t++}e=e.previousSibling}return null}function Sm(e,t,a){switch(t=sr(a),e){case"html":if(e=t.documentElement,!e)throw Error(R(452));return e;case"head":if(e=t.head,!e)throw Error(R(453));return e;case"body":if(e=t.body,!e)throw Error(R(454));return e;default:throw Error(R(451))}}function vl(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Do(e)}var _t=new Map,Cd=new Set;function lr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var sa=be.d;be.d={f:ix,r:ox,D:cx,C:dx,L:ux,m:mx,X:gx,S:fx,M:xx};function ix(){var e=sa.f(),t=kr();return e||t}function ox(e){var t=Gs(e);t!==null&&t.tag===5&&t.type==="form"?y0(t):sa.r(e)}var Qs=typeof document>"u"?null:document;function _m(e,t,a){var s=Qs;if(s&&typeof t=="string"&&t){var n=jt(t);n='link[rel="'+e+'"][href="'+n+'"]',typeof a=="string"&&(n+='[crossorigin="'+a+'"]'),Cd.has(n)||(Cd.add(n),e={rel:e,crossOrigin:a,href:t},s.querySelector(n)===null&&(t=s.createElement("link"),Ke(t,"link",e),Ye(t),s.head.appendChild(t)))}}function cx(e){sa.D(e),_m("dns-prefetch",e,null)}function dx(e,t){sa.C(e,t),_m("preconnect",e,t)}function ux(e,t,a){sa.L(e,t,a);var s=Qs;if(s&&e&&t){var n='link[rel="preload"][as="'+jt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(n+='[imagesrcset="'+jt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(n+='[imagesizes="'+jt(a.imageSizes)+'"]')):n+='[href="'+jt(e)+'"]';var r=n;switch(t){case"style":r=$s(e);break;case"script":r=Xs(e)}_t.has(r)||(e=Se({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),_t.set(r,e),s.querySelector(n)!==null||t==="style"&&s.querySelector(Wl(r))||t==="script"&&s.querySelector(Il(r))||(t=s.createElement("link"),Ke(t,"link",e),Ye(t),s.head.appendChild(t)))}}function mx(e,t){sa.m(e,t);var a=Qs;if(a&&e){var s=t&&typeof t.as=="string"?t.as:"script",n='link[rel="modulepreload"][as="'+jt(s)+'"][href="'+jt(e)+'"]',r=n;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=Xs(e)}if(!_t.has(r)&&(e=Se({rel:"modulepreload",href:e},t),_t.set(r,e),a.querySelector(n)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Il(r)))return}s=a.createElement("link"),Ke(s,"link",e),Ye(s),a.head.appendChild(s)}}}function fx(e,t,a){sa.S(e,t,a);var s=Qs;if(s&&e){var n=js(s).hoistableStyles,r=$s(e);t=t||"default";var i=n.get(r);if(!i){var o={loading:0,preload:null};if(i=s.querySelector(Wl(r)))o.loading=5;else{e=Se({rel:"stylesheet",href:e,"data-precedence":t},a),(a=_t.get(r))&&uc(e,a);var c=i=s.createElement("link");Ye(c),Ke(c,"link",e),c._p=new Promise(function(x,h){c.onload=x,c.onerror=h}),c.addEventListener("load",function(){o.loading|=1}),c.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Tn(i,t,s)}i={type:"stylesheet",instance:i,count:1,state:o},n.set(r,i)}}}function gx(e,t){sa.X(e,t);var a=Qs;if(a&&e){var s=js(a).hoistableScripts,n=Xs(e),r=s.get(n);r||(r=a.querySelector(Il(n)),r||(e=Se({src:e,async:!0},t),(t=_t.get(n))&&mc(e,t),r=a.createElement("script"),Ye(r),Ke(r,"link",e),a.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},s.set(n,r))}}function xx(e,t){sa.M(e,t);var a=Qs;if(a&&e){var s=js(a).hoistableScripts,n=Xs(e),r=s.get(n);r||(r=a.querySelector(Il(n)),r||(e=Se({src:e,async:!0,type:"module"},t),(t=_t.get(n))&&mc(e,t),r=a.createElement("script"),Ye(r),Ke(r,"link",e),a.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},s.set(n,r))}}function Md(e,t,a,s){var n=(n=ba.current)?lr(n):null;if(!n)throw Error(R(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=$s(a.href),a=js(n).hoistableStyles,s=a.get(t),s||(s={type:"style",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=$s(a.href);var r=js(n).hoistableStyles,i=r.get(e);if(i||(n=n.ownerDocument||n,i={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},r.set(e,i),(r=n.querySelector(Wl(e)))&&!r._p&&(i.instance=r,i.state.loading=5),_t.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},_t.set(e,a),r||hx(n,e,a,i.state))),t&&s===null)throw Error(R(528,""));return i}if(t&&s!==null)throw Error(R(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Xs(a),a=js(n).hoistableScripts,s=a.get(t),s||(s={type:"script",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(R(444,e))}}function $s(e){return'href="'+jt(e)+'"'}function Wl(e){return'link[rel="stylesheet"]['+e+"]"}function Em(e){return Se({},e,{"data-precedence":e.precedence,precedence:null})}function hx(e,t,a,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),Ke(t,"link",a),Ye(t),e.head.appendChild(t))}function Xs(e){return'[src="'+jt(e)+'"]'}function Il(e){return"script[async]"+e}function qd(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+jt(a.href)+'"]');if(s)return t.instance=s,Ye(s),s;var n=Se({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),Ye(s),Ke(s,"style",n),Tn(s,a.precedence,e),t.instance=s;case"stylesheet":n=$s(a.href);var r=e.querySelector(Wl(n));if(r)return t.state.loading|=4,t.instance=r,Ye(r),r;s=Em(a),(n=_t.get(n))&&uc(s,n),r=(e.ownerDocument||e).createElement("link"),Ye(r);var i=r;return i._p=new Promise(function(o,c){i.onload=o,i.onerror=c}),Ke(r,"link",s),t.state.loading|=4,Tn(r,a.precedence,e),t.instance=r;case"script":return r=Xs(a.src),(n=e.querySelector(Il(r)))?(t.instance=n,Ye(n),n):(s=a,(n=_t.get(r))&&(s=Se({},a),mc(s,n)),e=e.ownerDocument||e,n=e.createElement("script"),Ye(n),Ke(n,"link",s),e.head.appendChild(n),t.instance=n);case"void":return null;default:throw Error(R(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(s=t.instance,t.state.loading|=4,Tn(s,a.precedence,e));return t.instance}function Tn(e,t,a){for(var s=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),n=s.length?s[s.length-1]:null,r=n,i=0;i<s.length;i++){var o=s[i];if(o.dataset.precedence===t)r=o;else if(r!==n)break}r?r.parentNode.insertBefore(e,r.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function uc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function mc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var An=null;function zd(e,t,a){if(An===null){var s=new Map,n=An=new Map;n.set(a,s)}else n=An,s=n.get(a),s||(s=new Map,n.set(a,s));if(s.has(e))return s;for(s.set(e,null),a=a.getElementsByTagName(e),n=0;n<a.length;n++){var r=a[n];if(!(r[Hl]||r[Je]||e==="link"&&r.getAttribute("rel")==="stylesheet")&&r.namespaceURI!=="http://www.w3.org/2000/svg"){var i=r.getAttribute(t)||"";i=e+i;var o=s.get(i);o?o.push(r):s.set(i,[r])}}return s}function Rd(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function bx(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Dm(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var Cl=null;function yx(){}function px(e,t,a){if(Cl===null)throw Error(R(475));var s=Cl;if(t.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(t.state.loading&4)){if(t.instance===null){var n=$s(a.href),r=e.querySelector(Wl(n));if(r){e=r._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(s.count++,s=nr.bind(s),e.then(s,s)),t.state.loading|=4,t.instance=r,Ye(r);return}r=e.ownerDocument||e,a=Em(a),(n=_t.get(n))&&uc(a,n),r=r.createElement("link"),Ye(r);var i=r;i._p=new Promise(function(o,c){i.onload=o,i.onerror=c}),Ke(r,"link",a),t.instance=r}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(t,e),(e=t.state.preload)&&!(t.state.loading&3)&&(s.count++,t=nr.bind(s),e.addEventListener("load",t),e.addEventListener("error",t))}}function vx(){if(Cl===null)throw Error(R(475));var e=Cl;return e.stylesheets&&e.count===0&&uo(e,e.stylesheets),0<e.count?function(t){var a=setTimeout(function(){if(e.stylesheets&&uo(e,e.stylesheets),e.unsuspend){var s=e.unsuspend;e.unsuspend=null,s()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(a)}}:null}function nr(){if(this.count--,this.count===0){if(this.stylesheets)uo(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var rr=null;function uo(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,rr=new Map,t.forEach(Nx,e),rr=null,nr.call(e))}function Nx(e,t){if(!(t.state.loading&4)){var a=rr.get(e);if(a)var s=a.get(null);else{a=new Map,rr.set(e,a);for(var n=e.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<n.length;r++){var i=n[r];(i.nodeName==="LINK"||i.getAttribute("media")!=="not all")&&(a.set(i.dataset.precedence,i),s=i)}s&&a.set(null,s)}n=t.instance,i=n.getAttribute("data-precedence"),r=a.get(i)||s,r===s&&a.set(null,n),a.set(i,n),this.count++,s=nr.bind(this),n.addEventListener("load",s),n.addEventListener("error",s),r?r.parentNode.insertBefore(n,r.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(n,e.firstChild)),t.state.loading|=4}}var Ml={$$typeof:Xt,Provider:null,Consumer:null,_currentValue:$a,_currentValue2:$a,_threadCount:0};function jx(e,t,a,s,n,r,i,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Or(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Or(0),this.hiddenUpdates=Or(null),this.identifierPrefix=s,this.onUncaughtError=n,this.onCaughtError=r,this.onRecoverableError=i,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function Tm(e,t,a,s,n,r,i,o,c,x,h,b){return e=new jx(e,t,a,i,o,c,x,b),t=1,r===!0&&(t|=24),r=dt(3,null,null,t),e.current=r,r.stateNode=e,t=$o(),t.refCount++,e.pooledCache=t,t.refCount++,r.memoizedState={element:s,isDehydrated:a,cache:t},Go(r),e}function Am(e){return e?(e=hs,e):hs}function Cm(e,t,a,s,n,r){n=Am(n),s.context===null?s.context=n:s.pendingContext=n,s=ya(t),s.payload={element:a},r=r===void 0?null:r,r!==null&&(s.callback=r),a=pa(e,s,t),a!==null&&(gt(a,e,t),ml(a,e,t))}function Od(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function fc(e,t){Od(e,t),(e=e.alternate)&&Od(e,t)}function Mm(e){if(e.tag===13){var t=Ys(e,67108864);t!==null&&gt(t,e,67108864),fc(e,67108864)}}var ir=!0;function wx(e,t,a,s){var n=ne.T;ne.T=null;var r=be.p;try{be.p=2,gc(e,t,a,s)}finally{be.p=r,ne.T=n}}function kx(e,t,a,s){var n=ne.T;ne.T=null;var r=be.p;try{be.p=8,gc(e,t,a,s)}finally{be.p=r,ne.T=n}}function gc(e,t,a,s){if(ir){var n=mo(s);if(n===null)fi(e,t,s,or,a),Bd(e,s);else if(_x(n,e,t,a,s))s.stopPropagation();else if(Bd(e,s),t&4&&-1<Sx.indexOf(e)){for(;n!==null;){var r=Gs(n);if(r!==null)switch(r.tag){case 3:if(r=r.stateNode,r.current.memoizedState.isDehydrated){var i=Oa(r.pendingLanes);if(i!==0){var o=r;for(o.pendingLanes|=2,o.entangledLanes|=2;i;){var c=1<<31-mt(i);o.entanglements[1]|=c,i&=~c}$t(r),!(pe&6)&&(In=Bt()+500,Fl(0))}}break;case 13:o=Ys(r,2),o!==null&&gt(o,r,2),kr(),fc(r,2)}if(r=mo(s),r===null&&fi(e,t,s,or,a),r===n)break;n=r}n!==null&&s.stopPropagation()}else fi(e,t,s,null,a)}}function mo(e){return e=Ao(e),xc(e)}var or=null;function xc(e){if(or=null,e=ds(e),e!==null){var t=Bl(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=su(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return or=e,null}function qm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(df()){case iu:return 2;case ou:return 8;case On:case uf:return 32;case cu:return 268435456;default:return 32}default:return 32}}var fo=!1,ja=null,wa=null,ka=null,ql=new Map,zl=new Map,ma=[],Sx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Bd(e,t){switch(e){case"focusin":case"focusout":ja=null;break;case"dragenter":case"dragleave":wa=null;break;case"mouseover":case"mouseout":ka=null;break;case"pointerover":case"pointerout":ql.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":zl.delete(t.pointerId)}}function tl(e,t,a,s,n,r){return e===null||e.nativeEvent!==r?(e={blockedOn:t,domEventName:a,eventSystemFlags:s,nativeEvent:r,targetContainers:[n]},t!==null&&(t=Gs(t),t!==null&&Mm(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function _x(e,t,a,s,n){switch(t){case"focusin":return ja=tl(ja,e,t,a,s,n),!0;case"dragenter":return wa=tl(wa,e,t,a,s,n),!0;case"mouseover":return ka=tl(ka,e,t,a,s,n),!0;case"pointerover":var r=n.pointerId;return ql.set(r,tl(ql.get(r)||null,e,t,a,s,n)),!0;case"gotpointercapture":return r=n.pointerId,zl.set(r,tl(zl.get(r)||null,e,t,a,s,n)),!0}return!1}function zm(e){var t=ds(e.target);if(t!==null){var a=Bl(t);if(a!==null){if(t=a.tag,t===13){if(t=su(a),t!==null){e.blockedOn=t,pf(e.priority,function(){if(a.tag===13){var s=ft();s=_o(s);var n=Ys(a,s);n!==null&&gt(n,a,s),fc(a,s)}});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Cn(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=mo(e.nativeEvent);if(a===null){a=e.nativeEvent;var s=new a.constructor(a.type,a);Ti=s,a.target.dispatchEvent(s),Ti=null}else return t=Gs(a),t!==null&&Mm(t),e.blockedOn=a,!1;t.shift()}return!0}function Ud(e,t,a){Cn(e)&&a.delete(t)}function Ex(){fo=!1,ja!==null&&Cn(ja)&&(ja=null),wa!==null&&Cn(wa)&&(wa=null),ka!==null&&Cn(ka)&&(ka=null),ql.forEach(Ud),zl.forEach(Ud)}function xn(e,t){e.blockedOn===t&&(e.blockedOn=null,fo||(fo=!0,He.unstable_scheduleCallback(He.unstable_NormalPriority,Ex)))}var hn=null;function Ld(e){hn!==e&&(hn=e,He.unstable_scheduleCallback(He.unstable_NormalPriority,function(){hn===e&&(hn=null);for(var t=0;t<e.length;t+=3){var a=e[t],s=e[t+1],n=e[t+2];if(typeof s!="function"){if(xc(s||a)===null)continue;break}var r=Gs(a);r!==null&&(e.splice(t,3),t-=3,Qi(r,{pending:!0,data:n,method:a.method,action:s},s,n))}}))}function Rl(e){function t(c){return xn(c,e)}ja!==null&&xn(ja,e),wa!==null&&xn(wa,e),ka!==null&&xn(ka,e),ql.forEach(t),zl.forEach(t);for(var a=0;a<ma.length;a++){var s=ma[a];s.blockedOn===e&&(s.blockedOn=null)}for(;0<ma.length&&(a=ma[0],a.blockedOn===null);)zm(a),a.blockedOn===null&&ma.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(s=0;s<a.length;s+=3){var n=a[s],r=a[s+1],i=n[nt]||null;if(typeof r=="function")i||Ld(a);else if(i){var o=null;if(r&&r.hasAttribute("formAction")){if(n=r,i=r[nt]||null)o=i.formAction;else if(xc(n)!==null)continue}else o=i.action;typeof o=="function"?a[s+1]=o:(a.splice(s,3),s-=3),Ld(a)}}}function hc(e){this._internalRoot=e}Dr.prototype.render=hc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(R(409));var a=t.current,s=ft();Cm(a,s,e,t,null,null)};Dr.prototype.unmount=hc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Cm(e.current,2,null,e,null,null),kr(),t[Hs]=null}};function Dr(e){this._internalRoot=e}Dr.prototype.unstable_scheduleHydration=function(e){if(e){var t=gu();e={blockedOn:null,target:e,priority:t};for(var a=0;a<ma.length&&t!==0&&t<ma[a].priority;a++);ma.splice(a,0,e),a===0&&zm(e)}};var $d=tu.version;if($d!=="19.1.1")throw Error(R(527,$d,"19.1.1"));be.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(R(188)):(e=Object.keys(e).join(","),Error(R(268,e)));return e=af(t),e=e!==null?lu(e):null,e=e===null?null:e.stateNode,e};var Dx={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:ne,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bn=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bn.isDisabled&&bn.supportsFiber)try{Ul=bn.inject(Dx),ut=bn}catch{}}fr.createRoot=function(e,t){if(!au(e))throw Error(R(299));var a=!1,s="",n=T0,r=A0,i=C0,o=null;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(n=t.onUncaughtError),t.onCaughtError!==void 0&&(r=t.onCaughtError),t.onRecoverableError!==void 0&&(i=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(o=t.unstable_transitionCallbacks)),t=Tm(e,1,!1,null,null,a,s,n,r,i,o,null),e[Hs]=t.current,dc(e),new hc(t)};fr.hydrateRoot=function(e,t,a){if(!au(e))throw Error(R(299));var s=!1,n="",r=T0,i=A0,o=C0,c=null,x=null;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(n=a.identifierPrefix),a.onUncaughtError!==void 0&&(r=a.onUncaughtError),a.onCaughtError!==void 0&&(i=a.onCaughtError),a.onRecoverableError!==void 0&&(o=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(c=a.unstable_transitionCallbacks),a.formState!==void 0&&(x=a.formState)),t=Tm(e,1,!0,t,a??null,s,n,r,i,o,c,x),t.context=Am(null),a=t.current,s=ft(),s=_o(s),n=ya(s),n.callback=null,pa(a,n,s),a=s,t.current.lanes=a,$l(t,a),$t(t),e[Hs]=t.current,dc(e),new Dr(t)};fr.version="19.1.1";function Rm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Rm)}catch(e){console.error(e)}}Rm(),Id.exports=fr;var Tx=Id.exports;const Ax=Jm(Tx);var st=(e=>(e.ADMIN="admin",e.MANAGEMENT="management",e.CUSTOMER="customer",e))(st||{}),ce=(e=>(e.SLOT="slot",e.FULL_DAY="full_day",e))(ce||{}),$e=(e=>(e.PAID="Paid",e.UNPAID="Unpaid",e))($e||{}),W=(e=>(e.PENDING="pending",e.APPROVED="approved",e.REJECTED="rejected",e.CONFIRMED="confirmed",e))(W||{});function Hd(e,t){const[a,s]=_.useState(()=>{try{const r=window.localStorage.getItem(e);return r?JSON.parse(r):t}catch(r){return console.error(r),t}}),n=r=>{try{const i=r instanceof Function?r(a):r;s(i),window.localStorage.setItem(e,JSON.stringify(i))}catch(i){console.error(i)}};return _.useEffect(()=>{if(e==="theme"){const r=window.document.documentElement;a==="dark"?r.classList.add("dark"):r.classList.remove("dark")}},[e,a]),_.useEffect(()=>{const r=i=>{if(i.key===e)try{s(i.newValue?JSON.parse(i.newValue):t)}catch(o){console.error(o),s(t)}};return window.addEventListener("storage",r),()=>{window.removeEventListener("storage",r)}},[e,t]),[a,n]}const Cx="your_production_supabase_url_here",Mx="your_production_supabase_anon_key_here",oe=Wm(Cx,Mx);class vs{constructor(){this.permissionRequested=!1,this.checkNotificationSupport()}static getInstance(){return vs.instance||(vs.instance=new vs),vs.instance}checkNotificationSupport(){if(!("Notification"in window)){console.warn("This browser does not support notifications");return}"serviceWorker"in navigator||console.warn("Service Worker not supported. Notifications may not work properly.")}async requestPermission(){if(!("Notification"in window))throw new Error("Browser does not support notifications");if(this.permissionRequested)return Notification.permission;try{const t=await Notification.requestPermission();return this.permissionRequested=!0,console.log("Notification permission:",t),t==="granted"?(localStorage.setItem("notificationPermission","granted"),console.log(" Notification permission granted")):t==="denied"?(localStorage.setItem("notificationPermission","denied"),console.log(" Notification permission denied")):(localStorage.setItem("notificationPermission","default"),console.log(" Notification permission default (dismissed)")),t}catch(t){throw console.error("Error requesting notification permission:",t),t}}getPermissionStatus(){return"Notification"in window?Notification.permission:"denied"}canNotify(){return"Notification"in window&&Notification.permission==="granted"}async showNotification(t){if(console.log(" Attempting to show notification:",t.title),console.log(" Notification permission status:",this.getPermissionStatus()),console.log(" Can notify:",this.canNotify()),!this.canNotify()){if(console.warn(" Cannot show notification: permission not granted or not supported"),console.warn(" Debugging info:",{notificationSupported:"Notification"in window,permission:Notification.permission,canNotify:this.canNotify()}),Notification.permission==="default"){console.log(" Permission is default, requesting permission...");try{if(await this.requestPermission()==="granted")return console.log(" Permission granted after request, retrying notification..."),this.showNotification(t)}catch(a){console.error(" Failed to request permission:",a)}}return null}try{const a=new Notification(t.title,{body:t.body,icon:t.icon||"logo.png",badge:t.badge||"logo.png",tag:t.tag||"booking-notification",data:t.data,requireInteraction:t.requireInteraction||!1,silent:t.silent||!1});return console.log(" Notification shown successfully:",t.title),t.requireInteraction||setTimeout(()=>{a.close()},5e3),a.onclick=()=>{var s;console.log(" Notification clicked:",t.title),a.close(),window.focus(),(s=t.data)!=null&&s.onClick&&t.data.onClick()},a}catch(a){return console.error(" Error showing notification:",a),null}}async showBookingRequestNotification(t){const a="New Booking Request",s=`Request from ${t.customerName} for ${t.system} system on ${t.date}`;return this.showNotification({title:a,body:s,tag:`booking-request-${t.requestNumber}`,data:{type:"booking_request",requestNumber:t.requestNumber,customerName:t.customerName,date:t.date,system:t.system,onClick:()=>{const n=new CustomEvent("navigateToBookings",{detail:{type:"booking_request"}});window.dispatchEvent(n)}},requireInteraction:!0})}async showBookingApprovalNotification(t){const a="Booking Approved! ",s=`Your booking request ${t.requestNumber} for ${t.system} system on ${t.date} has been approved!`;return this.showNotification({title:a,body:s,tag:`booking-approval-${t.requestNumber}`,data:{type:"booking_approval",requestNumber:t.requestNumber,customerName:t.customerName,date:t.date,system:t.system,onClick:()=>{const n=new CustomEvent("navigateToBookingsTracker",{detail:{type:"booking_approval"}});window.dispatchEvent(n)}},requireInteraction:!0})}async showBookingRejectionNotification(t){const a="Booking Request Update",s=`Your booking request ${t.requestNumber} for ${t.system} system on ${t.date} needs attention.`;return this.showNotification({title:a,body:s,tag:`booking-rejection-${t.requestNumber}`,data:{type:"booking_rejection",requestNumber:t.requestNumber,customerName:t.customerName,date:t.date,system:t.system,onClick:()=>{const n=new CustomEvent("navigateToBookingsTracker",{detail:{type:"booking_rejection"}});window.dispatchEvent(n)}},requireInteraction:!0})}async showNewBookingNotification(t){const a="New Booking Added",s=`Booking for ${t.customerName} - ${t.system} system on ${t.date}`;return this.showNotification({title:a,body:s,tag:`new-booking-${t.customerName}-${t.date}`,data:{type:"new_booking",customerName:t.customerName,date:t.date,system:t.system,bookingType:t.bookingType,eventType:t.eventType,onClick:()=>{const n=new CustomEvent("navigateToBookings",{detail:{type:"new_booking"}});window.dispatchEvent(n)}},requireInteraction:!0})}async initialize(){console.log(" Initializing notification service...");const t=localStorage.getItem("notificationPermission");if(t==="granted"){console.log(" Notification permission already granted");return}if(t==="denied"){console.log(" Notification permission previously denied");return}try{await this.requestPermission()}catch(a){console.error("Failed to initialize notifications:",a)}}resetPermission(){localStorage.removeItem("notificationPermission"),this.permissionRequested=!1,console.log(" Notification permission reset")}}const at=vs.getInstance(),Ht=_.createContext({user:null,theme:"light",bookings:{ground:[],net:[]},bookingRequests:{ground:[],net:[]},specialDates:[],pendingRequestCount:0,isLoading:!0,login:()=>{},logout:()=>{},toggleTheme:()=>{},addBooking:async()=>{},updateBooking:async()=>{},deleteBooking:async()=>{},addBookingRequest:async()=>{},approveBookingRequest:async()=>{},rejectBookingRequest:async()=>{},deleteBookingRequest:async()=>{},addSpecialDate:async()=>{},removeSpecialDate:async()=>{},cleanupDuplicateRequests:async()=>({deletedCount:0}),recalculatePendingCount:()=>{},refreshData:async()=>{},refreshDataSilent:async()=>{}}),qx=({children:e})=>{const[t,a]=Hd("user",null),[s,n]=Hd("theme","light"),[r,i]=_.useState({ground:[],net:[]}),[o,c]=_.useState({ground:[],net:[]}),[x,h]=_.useState([]),[b,m]=_.useState(0),[f,E]=_.useState(!0),D=_.useRef(!1),q=_.useRef({});_.useCallback((w,C,u=100)=>{const S=Date.now(),N=q.current[w]||0;S-N<u||(q.current[w]=S,C())},[]),_.useEffect(()=>{if(!t){E(!1),i({ground:[],net:[]});return}let w,C,u;const S=()=>{w=oe.channel("realtime-bookings"),w.on("postgres_changes",{event:"*",schema:"public",table:"bookings"},p=>{if(!D.current)try{D.current=!0,i(v=>{const T={ground:[...v.ground],net:[...v.net]};if(p.eventType==="INSERT"||p.eventType==="UPDATE"){const M=p.new;if(!M||!M.id||!M.system)return console.log(" Invalid booking data:",M),v;if(T[M.system].find(F=>F.id===M.id))return console.log(" Booking already exists, skipping:",M.id),v;T[M.system]=T[M.system].filter(F=>F.id!==M.id),T[M.system].push(M),console.log(` Added/updated booking ${M.id} in ${M.system} system`)}else if(p.eventType==="DELETE"){const M=p.old;if(M&&M.id){const $=T.ground.length,F=T.net.length;T.ground=T.ground.filter(ie=>ie.id!==M.id),T.net=T.net.filter(ie=>ie.id!==M.id);const ee=T.ground.length,re=T.net.length;console.log($!==ee||F!==re?` Removed booking ${M.id} from systems (ground: ${$}${ee}, net: ${F}${re})`:` Booking ${M.id} was not found in either system state`)}else console.log(" Invalid delete data for booking:",M)}return T.ground.sort((M,$)=>M.date.localeCompare($.date)||M.created_at.localeCompare($.created_at)),T.net.sort((M,$)=>M.date.localeCompare($.date)||M.created_at.localeCompare($.created_at)),console.log(` Updated bookings state: ground=${T.ground.length}, net=${T.net.length}`),T})}catch(v){console.error(" Error processing real-time booking update:",v),console.error("Real-time booking update error context:",{eventType:p==null?void 0:p.eventType,table:p==null?void 0:p.table,userRole:t==null?void 0:t.role,timestamp:new Date().toISOString()}),D.current=!1}finally{setTimeout(()=>{D.current=!1},100)}}).subscribe(p=>{}),C=oe.channel("realtime-requests"),C.on("postgres_changes",{event:"*",schema:"public",table:"booking_requests"},p=>{if(console.log(" Real-time booking request change:",p),D.current){console.log(" Already processing, skipping...");return}try{if(D.current=!0,!p||!p.eventType){console.log(" Invalid real-time payload:",p);return}if(p.eventType==="INSERT"){const v=p.new;if(!v||!v.id||!v.system){console.log(" Invalid request data:",v);return}c(T=>{if([...T.ground,...T.net].find(F=>F.id===v.id))return console.log(" Request already exists, skipping:",v.id),T;const $={ground:[...T.ground],net:[...T.net]};if(t.role==="customer"){let F=!1;if(t.email&&v.customer_email?F=v.customer_email.toLowerCase().trim()===t.email.toLowerCase().trim():t.name&&v.customer_name&&(F=v.customer_name.toLowerCase().trim()===t.name.toLowerCase().trim()),!F)return console.log(" Request not for current customer, skipping"),T}if($[v.system]=[...$[v.system],v],console.log(` Added new request ${v.id} to ${v.system} system`),t.role==="admin"||t.role==="management"){const F=[...$.ground,...$.net].filter(ee=>ee.status===W.PENDING).length;m(F),console.log(" Updated pending request count:",F),console.log(` Sending notification for new booking request: ${v.request_number||v.id}`),at.showBookingRequestNotification({customerName:v.customer_name,customerEmail:v.customer_email,date:v.date,system:v.system,bookingType:v.booking_type,eventType:v.event_type,requestNumber:v.request_number||`REQ-${v.id}`}).then(ee=>{console.log(ee?` Notification sent successfully for new booking request: ${v.request_number||v.id}`:` Notification failed to send for new booking request: ${v.request_number||v.id}`)}).catch(ee=>{console.error(" Failed to send notification for new booking request:",ee)})}return $})}else if(p.eventType==="DELETE"){const v=p.old;if(!v||!v.id){console.log(" Invalid delete data:",v);return}if(!v.system||v.system!=="ground"&&v.system!=="net"){console.log(" Invalid or missing system in delete data:",v);return}console.log(` Real-time delete event for request ${v.id} in ${v.system} system`),c(T=>{try{const M={ground:[...T.ground],net:[...T.net]};if(M[v.system]){const $=M[v.system].length;M[v.system]=M[v.system].filter(ee=>ee.id!==v.id);const F=M[v.system].length;console.log($!==F?` Removed request ${v.id} from ${v.system} system (${$}  ${F})`:` Request ${v.id} was not found in ${v.system} system state`)}else return console.log(` Invalid system ${v.system} in delete operation`),T;if(t.role==="admin"||t.role==="management"){const $=[...M.ground,...M.net].filter(F=>F.status===W.PENDING).length;m($),console.log(" Updated pending request count after delete:",$)}return M}catch(M){return console.error(" Error processing real-time delete event:",M),T}})}else if(p.eventType==="UPDATE"){const v=p.new,T=p.old;if(!v||!v.id||!T){console.log(" Invalid update data:",{updatedRequest:v,oldRequest:T});return}const M=T.status===W.PENDING&&(v.status===W.APPROVED||v.status===W.REJECTED);console.log(` Processing ${M?"status transition":"status update"} for request ${v.id}: ${T.status} -> ${v.status}`),c(M?$=>{const F={ground:[...$.ground],net:[...$.net]};if(F[v.system]=F[v.system].filter(ee=>ee.id!==v.id),console.log(` Removed transitioned request ${v.id} from booking requests`),(t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="management"){const ee=[...F.ground,...F.net].filter(re=>re.status===W.PENDING).length;m(ee),console.log(` Updated pending request count after transition: ${ee}`)}return F}:$=>{const F={ground:[...$.ground],net:[...$.net]},ee=F[v.system],re=ee.findIndex(ie=>ie.id===v.id);if(re!==-1&&(ee[re]=v,console.log(` Updated request ${v.id} status to ${v.status}`)),(t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="management"){const ie=[...F.ground,...F.net].filter(te=>te.status===W.PENDING).length;m(ie),console.log(` Updated pending request count after update: ${ie}`)}return F})}}catch(v){console.error(" Error processing real-time request update:",v),console.error("Real-time update error context:",{eventType:p==null?void 0:p.eventType,table:p==null?void 0:p.table,userRole:t==null?void 0:t.role,timestamp:new Date().toISOString()})}finally{setTimeout(()=>{D.current=!1},100)}}).subscribe(p=>{console.log(" Booking requests subscription status:",p)}),u=oe.channel("realtime-special-dates"),u.on("postgres_changes",{event:"*",schema:"public",table:"special_dates"},p=>{if(console.log(" Real-time special dates change:",p),p.eventType==="INSERT"||p.eventType==="UPDATE"){const v=p.new;v&&v.is_active&&h(T=>{const M=T.findIndex($=>$.id===v.id);if(M!==-1){const $=[...T];return $[M]=v,console.log(` Updated special date ${v.id}: ${v.date}`),$}else{const $=[...T,v];return $.sort((F,ee)=>F.date.localeCompare(ee.date)),console.log(` Added new special date ${v.id}: ${v.date}`),$}})}else if(p.eventType==="DELETE"){const v=p.old;v&&v.id&&h(T=>{const M=T.filter($=>$.id!==v.id);return console.log(` Removed special date ${v.id}`),M})}}).subscribe(p=>{console.log(" Special dates subscription status:",p)})},N=async()=>{try{const p=new Date;p.setDate(p.getDate()-30);const v=p.toISOString(),{error:T}=await oe.from("booking_requests").delete().lt("created_at",v);T&&console.error("Error cleaning up old requests:",T);const{data:M,error:$}=await oe.from("booking_requests").select("*").order("created_at",{ascending:!1});if($)return;const F={};M.forEach(ee=>{const re=ee.customer_email||ee.customer_name;F[re]||(F[re]=[]),F[re].push(ee)});for(const[ee,re]of Object.entries(F))if(re.length>10){const te=re.slice(10).map(We=>We.id),{error:_e}=await oe.from("booking_requests").delete().in("id",te);_e&&console.error(`Error deleting excess requests for customer ${ee}:`,_e)}}catch(p){console.error("Exception during cleanup:",p)}};return(async()=>{var p,v;E(!0);try{await N();const{data:T,error:M}=await oe.from("bookings").select("*").order("date",{ascending:!0});if(M)throw M;const $=T.filter(A=>A.system==="ground"),F=T.filter(A=>A.system==="net");i({ground:$,net:F});const{data:ee,error:re}=await oe.from("special_dates").select("*").eq("is_active",!0).order("date",{ascending:!0}).limit(100);re?(console.error(" Error loading special dates:",re),h([])):(h(ee),console.log(` Loaded ${ee.length} special dates successfully`));let ie=oe.from("booking_requests").select("*").order("created_at",{ascending:!0});if(t.role==="customer"){const A=(p=t.email)==null?void 0:p.toLowerCase().trim(),K=(v=t.name)==null?void 0:v.toLowerCase().trim();if(A||K){const J=[];A&&J.push(`customer_email.ilike.${A}`),K&&J.push(`customer_name.ilike.${K}`),ie=ie.or(J.join(","))}else{c({ground:[],net:[]});return}}const{data:te,error:_e}=await ie;if(_e)throw _e;console.log(" Loaded booking requests:",{total:(te==null?void 0:te.length)||0,requests:te,user:t.role==="customer"?{name:t.name,email:t.email}:"Admin"});const We=te.filter(A=>A.system==="ground"),bt=te.filter(A=>A.system==="net");if(console.log(" Filtered requests by system:",{ground:We.length,net:bt.length,groundRequests:We,netRequests:bt}),c({ground:We,net:bt}),t.role==="admin"||t.role==="management"){const A=[...We,...bt].filter(K=>K.status===W.PENDING).length;m(A)}else m(0)}catch(T){console.error("Failed to fetch data:",T)}finally{E(!1)}})(),S(),()=>{w&&oe.removeChannel(w),C&&oe.removeChannel(C),u&&oe.removeChannel(u)}},[t]),_.useEffect(()=>{if((t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="management"){const w=setInterval(()=>{const C=[...o.ground,...o.net].filter(u=>u.status===W.PENDING).length;C!==b&&(console.log(` Pending count mismatch detected. Current: ${b}, Actual: ${C}. Recalculating...`),m(C))},1e4);return()=>clearInterval(w)}},[t==null?void 0:t.role,o,b]),_.useEffect(()=>{if((t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="management"&&!f){const w=setInterval(()=>{[...o.ground,...o.net].length===0&&console.log(" No booking requests found in state, this might indicate a data issue")},3e4);return()=>clearInterval(w)}},[t==null?void 0:t.role,o,f]);const g=_.useCallback((w,C,u)=>{a({id:Date.now().toString(),name:w,role:C,email:u})},[a]),d=_.useCallback(()=>{a(null),localStorage.removeItem("customerName"),localStorage.removeItem("customerEmail"),localStorage.removeItem("customerRememberMe")},[a]),y=_.useCallback(()=>{n(w=>w==="light"?"dark":"light")},[n]),k=_.useCallback(async(w,C)=>{const u=t&&t.email&&t.name?(()=>{const j=t.name+"-"+t.email,p=new TextEncoder().encode(j);let v=0;for(let T=0;T<p.length;T++)v=(v<<5)-v+p[T],v=v&v;return btoa(String.fromCharCode(...p)).replace(/[^a-zA-Z0-9]/g,"").substring(0,16)})():`session-${Date.now()}`,{data:S,error:N}=await oe.from("bookings").insert([{...w,system:C,customer_session_id:u}]).select().single();if(N)throw console.error(" Error adding booking:",N),N;console.log(" Booking added successfully:",S.id);try{console.log(` Attempting to send notification for new booking: ${S.customer_name}`);const j=await at.showNewBookingNotification({customerName:S.customer_name,date:S.date,system:S.system,bookingType:S.booking_type,eventType:S.event_type});console.log(j?` Notification sent successfully for new booking: ${S.customer_name}`:` Notification failed to send for new booking: ${S.customer_name}`)}catch(j){console.error(" Failed to send notification for new booking:",j)}return S},[t]),z=_.useCallback(async(w,C)=>{const{id:u,...S}=w,N=D.current;D.current=!0;try{const{data:j,error:p}=await oe.from("bookings").select("*").eq("id",u).single();if(p)throw new Error(`Booking not found: ${p.message}`);let v={...S};S.payment_status==="Paid"&&j.status!==W.CONFIRMED&&(v={...v,status:W.CONFIRMED});const{data:T,error:M}=await oe.from("bookings").update(v).eq("id",u).select().single();if(M)throw M;return T}catch(j){throw j}finally{D.current=N}},[]),U=_.useCallback(async(w,C)=>{const{error:u}=await oe.from("bookings").delete().eq("id",w);if(u)throw u},[]),B=_.useCallback(async w=>{if(D.current)throw new Error("Request submission already in progress, please wait");if(!t||t.role!=="admin"&&t.role!=="customer")throw new Error("Access denied: Only registered users can create booking requests");try{D.current=!0,console.log(` Starting booking request creation for ${w.customer_name}`);const C=t.email&&t.name?(()=>{const re=t.name+"-"+t.email,ie=new TextEncoder().encode(re);let te=0;for(let _e=0;_e<ie.length;_e++)te=(te<<5)-te+ie[_e],te=te&te;return btoa(String.fromCharCode(...ie)).replace(/[^a-zA-Z0-9]/g,"").substring(0,16)})():`session-${Date.now()}`,u=new Date,S=`REQ-${u.getFullYear()}${(u.getMonth()+1).toString().padStart(2,"0")}${u.getDate().toString().padStart(2,"0")}-${u.getHours().toString().padStart(2,"0")}${u.getMinutes().toString().padStart(2,"0")}${u.getSeconds().toString().padStart(2,"0")}-${u.getMilliseconds().toString().padStart(3,"0")}-${Math.random().toString(36).substr(2,4)}`;console.log(` Generated unique request number: ${S}`),console.log(" Debugging form data:",{customer_name:w.customer_name,customer_email:w.customer_email,customer_contact:w.customer_contact,date:w.date,system:w.system,booking_type:w.booking_type,event_type:w.event_type,payment_status:w.payment_status});const N=new Date(u.getTime()-10*60*1e3);console.log(` Checking for duplicates for customer: ${w.customer_name} (${w.customer_email})`),console.log(" Request details:",{date:w.date,system:w.system,bookingType:w.booking_type,eventType:w.event_type,slots:w.slots});const{data:j,error:p}=await oe.from("booking_requests").select("id, created_at, request_number, status, booking_type, slots, customer_name, customer_email, date, system, event_type").or(`customer_email.ilike.${w.customer_email},customer_name.ilike.${w.customer_name}`).eq("date",w.date).eq("system",w.system).in("status",[W.PENDING,W.APPROVED]).gte("created_at",N.toISOString()).order("created_at",{ascending:!1}).limit(20);if(p)throw console.error(" Error checking for duplicates:",p),new Error(`Database error while checking for duplicates: ${p.message}`);if(j&&j.length>0){console.log(` Found ${j.length} existing requests, analyzing for duplicates...`);const re=j.filter(te=>{var de,ke,Re,Et,Ca,Mt;const _e=((de=te.customer_email)==null?void 0:de.toLowerCase())===((ke=w.customer_email)==null?void 0:ke.toLowerCase())||((Re=te.customer_name)==null?void 0:Re.toLowerCase())===((Et=w.customer_name)==null?void 0:Et.toLowerCase()),We=te.date===w.date,bt=te.system===w.system,A=te.booking_type===w.booking_type,K=((Ca=te.event_type)==null?void 0:Ca.toLowerCase())===((Mt=w.event_type)==null?void 0:Mt.toLowerCase());let J=!0;if(w.booking_type===ce.SLOT&&te.booking_type===ce.SLOT){const Zs=te.slots||[];J=(w.slots||[]).some(Pl=>Zs.includes(Pl))}const se=_e&&We&&bt&&A&&K&&J;if(se){const Zs=u.getTime()-new Date(te.created_at).getTime();console.log(` Time difference for potential duplicate: ${Zs}ms`)}return se&&u.getTime()-new Date(te.created_at).getTime()<3e5});if(re.length>0)return console.log(" Found exact duplicate request(s):",re.map(te=>({requestNumber:te.request_number,createdAt:te.created_at,customer:te.customer_name,status:te.status}))),[re[0]];const ie=j.filter(te=>{var _e,We;return te.status===W.APPROVED&&((_e=te.customer_email)==null?void 0:_e.toLowerCase())===((We=w.customer_email)==null?void 0:We.toLowerCase())&&(w.booking_type===ce.FULL_DAY||te.booking_type===ce.FULL_DAY||w.slots&&te.slots&&w.slots.some(bt=>{var A;return(A=te.slots)==null?void 0:A.includes(bt)}))});ie.length>0&&console.warn(" Potential booking conflict detected:",{newRequest:{date:w.date,system:w.system,slots:w.slots,customer:w.customer_name},existingBooking:{requestNumber:ie[0].request_number,status:ie[0].status,slots:ie[0].slots,customer:ie[0].customer_name}})}console.log(" No duplicates found, proceeding with request creation");const v={...w,request_number:S,customer_session_id:C,status:W.PENDING,submitted_at:u.toISOString()};console.log(" Preparing to insert request with data:",{requestNumber:S,customer:w.customer_name,email:w.customer_email,date:w.date,system:w.system,bookingType:w.booking_type,eventType:w.event_type}),console.log(" Attempting to insert request into database...");const{data:T,error:M}=await oe.from("booking_requests").insert([v]).select();if(M)if(console.error(" Error inserting request:",M),console.error(" Request data that failed to insert:",{requestNumber:v.request_number,customer:v.customer_name,email:v.customer_email,date:v.date,system:v.system,bookingType:v.booking_type,eventType:v.event_type,status:v.status,paymentStatus:v.payment_status}),M.code==="23505"){console.log(" Unique constraint violation detected, attempting recovery...");const{data:re,error:ie}=await oe.from("booking_requests").select("*").eq("customer_email",w.customer_email).eq("customer_name",w.customer_name).eq("date",w.date).eq("system",w.system).eq("booking_type",w.booking_type).eq("event_type",w.event_type).in("status",[W.PENDING,W.APPROVED]).order("created_at",{ascending:!1}).limit(1);if(ie)throw console.error(" Error fetching existing request during recovery:",ie),new Error(`Duplicate request detected but failed to retrieve: ${ie.message}`);if(re&&re.length>0)return console.log(` Recovered existing request: ${re[0].request_number}`),re;throw new Error("Duplicate request detected but no existing request found")}else throw M.code==="23514"?(console.error(" Check constraint violation:",M),new Error("Invalid request data: Please check all required fields are filled correctly")):M.code==="23502"?(console.error(" Not-null constraint violation:",M),new Error("Missing required information: Please fill in all mandatory fields")):(console.error(" Unexpected database error:",M),new Error(`Database error: ${M.message||"Unknown error occurred"}`));if(!T||T.length===0)throw console.error(" No data returned after insert operation"),new Error("Request was not created successfully - no data returned");const $=T[0];if(console.log(" Successfully created request:",{id:$.id,requestNumber:$.request_number,status:$.status,customer:$.customer_name,fullRequest:$}),$.request_number!==S)throw console.warn(` Request number mismatch! Generated: ${S}, Stored: ${$.request_number}`),new Error("Request created but request number verification failed");console.log(` Request number verification successful: ${$.request_number}`);try{console.log(` Attempting to send notification for new booking request: ${$.request_number}`);const re=await at.showBookingRequestNotification({customerName:$.customer_name,customerEmail:$.customer_email,date:$.date,system:$.system,bookingType:$.booking_type,eventType:$.event_type,requestNumber:$.request_number});console.log(re?` Notification sent successfully to management for new booking request: ${$.request_number}`:` Notification failed to send for new booking request: ${$.request_number}`)}catch(re){console.error(" Failed to send notification for new booking request:",re)}t.role==="customer"&&console.log(" Customer request created successfully:",{id:$.id,requestNumber:$.request_number,customerName:$.customer_name,customerEmail:$.customer_email,date:$.date,system:$.system,status:$.status});const ee=["customer_name","customer_contact","date","system","booking_type","event_type"].filter(re=>!$[re]);if(ee.length>0)throw console.error(" Request created but missing required fields:",ee),new Error(`Request created but missing required information: ${ee.join(", ")}`);return console.log(" Request validation completed successfully"),t.role==="customer"&&console.log(` Customer request created successfully: ${T[0].request_number}`),T}catch(C){throw console.error(" Error in addBookingRequest:",C),C}finally{setTimeout(()=>{D.current=!1},2e3)}},[t]),H=_.useCallback(async(w,C)=>{if(D.current)throw new Error("Approval already in progress, please wait");if(!w||w<=0)throw new Error("Invalid request ID provided");try{D.current=!0,console.log(` Starting approval process for request ${w}`);const{data:u,error:S}=await oe.from("booking_requests").select("*").eq("id",w).single();if(S)throw S.code==="PGRST116"?(console.warn(` Request ${w} not found`),new Error("Request not found")):(console.error(` Error fetching request ${w}:`,S),new Error(`Failed to verify request: ${S.message}`));if(!u)throw console.warn(` Request ${w} not found`),new Error("Request not found");if(u.system!==C)throw console.warn(` System mismatch for request ${w}: expected ${C}, got ${u.system}`),new Error(`System mismatch: Request belongs to ${u.system} system`);if(u.status===W.APPROVED)throw console.log(` Request ${w} is already approved`),new Error("Request has already been approved");if(u.status===W.REJECTED)throw new Error("Cannot approve a rejected request");console.log(` Converting request ${w} to booking:`,{requestNumber:u.request_number,customer:u.customer_name,date:u.date,system:u.system});const N={customer_name:u.customer_name,customer_contact:u.customer_contact,customer_email:u.customer_email,customer_session_id:u.customer_session_id,date:u.date,system:u.system,booking_type:u.booking_type,slots:u.slots,event_type:u.event_type,net_number:u.net_number||[],payment_status:u.payment_status,payment_amount:u.payment_amount,notes:u.notes,status:W.APPROVED,created_at:new Date().toISOString()},{data:j,error:p}=await oe.from("bookings").insert([N]).select().single();if(p)throw console.error(" Error creating booking:",p),p;console.log(` Successfully created booking ${j.id} from request ${w}`);const{error:v}=await oe.from("booking_requests").delete().eq("id",w);if(v)throw console.error(` Error deleting request ${w}:`,v),v;console.log(` Successfully deleted request ${w} after approval`),c(T=>{const M={ground:T.ground.filter($=>$.id!==w),net:T.net.filter($=>$.id!==w)};return console.log(` Updated booking requests state, removed request ${w}`),M}),i(T=>{const M={ground:[...T.ground],net:[...T.net]};return M[C]=[...M[C],j],M[C].sort(($,F)=>$.date.localeCompare(F.date)||$.created_at.localeCompare(F.created_at)),console.log(` Updated bookings state, added booking ${j.id}`),M}),console.log(` Approval process completed successfully for request ${w}`);try{console.log(` Attempting to send notification for approved booking: ${u.customer_name}`);const T=await at.showNewBookingNotification({customerName:u.customer_name,date:u.date,system:u.system,bookingType:u.booking_type,eventType:u.event_type});console.log(T?` Notification sent successfully for approved booking: ${u.customer_name}`:` Notification failed to send for approved booking: ${u.customer_name}`)}catch(T){console.error(" Failed to send notification for approved booking:",T)}try{console.log(` Attempting to send approval notification for request: ${u.request_number}`);const T=await at.showBookingApprovalNotification({customerName:u.customer_name,date:u.date,system:u.system,bookingType:u.booking_type,requestNumber:u.request_number});console.log(T?` Approval notification sent successfully to customer for request: ${u.request_number}`:` Approval notification failed to send for request: ${u.request_number}`)}catch(T){console.error(" Failed to send approval notification to customer:",T)}}catch(u){throw console.error(` Error in approveBookingRequest for request ${w}:`,u),u.message&&!u.message.includes("Access denied")&&!u.message.includes("Invalid request")&&!u.message.includes("not found")&&!u.message.includes("already")?new Error(`Failed to approve booking request: ${u.message}`):u}finally{setTimeout(()=>{D.current=!1},1e3)}},[t==null?void 0:t.role,b]),Z=_.useCallback(async(w,C)=>{if(D.current)throw new Error("Rejection already in progress, please wait");if(!w||w<=0)throw new Error("Invalid request ID provided");try{D.current=!0,console.log(` Starting rejection process for request ${w}`);const{data:u,error:S}=await oe.from("booking_requests").select("*").eq("id",w).single();if(S)throw S.code==="PGRST116"?(console.warn(` Request ${w} not found`),new Error("Request not found")):(console.error(` Error fetching request ${w}:`,S),new Error(`Failed to verify request: ${S.message}`));if(!u)throw console.warn(` Request ${w} not found`),new Error("Request not found");if(u.system!==C)throw console.warn(` System mismatch for request ${w}: expected ${C}, got ${u.system}`),new Error(`System mismatch: Request belongs to ${u.system} system`);if(u.status===W.REJECTED)throw console.log(` Request ${w} is already rejected`),new Error("Request has already been rejected");if(u.status===W.APPROVED)throw new Error("Cannot reject an approved request");console.log(` Rejecting request ${w}:`,{requestNumber:u.request_number,customer:u.customer_name,date:u.date,system:u.system});const{error:N}=await oe.from("booking_requests").update({status:W.REJECTED}).eq("id",w);if(N)throw console.error(` Error rejecting request ${w}:`,N),N;console.log(` Successfully rejected request ${w}`),c(j=>{const p={ground:[...j.ground],net:[...j.net]},v=p[C],T=v.findIndex(M=>M.id===w);return T!==-1&&(v[T]={...v[T],status:W.REJECTED},console.log(` Updated request ${w} status to REJECTED in state`)),p}),console.log(` Rejection process completed successfully for request ${w}`);try{console.log(` Attempting to send rejection notification for request: ${u.request_number}`);const j=await at.showBookingRejectionNotification({customerName:u.customer_name,date:u.date,system:u.system,requestNumber:u.request_number});console.log(j?` Rejection notification sent successfully to customer for request: ${u.request_number}`:` Rejection notification failed to send for request: ${u.request_number}`)}catch(j){console.error(" Failed to send rejection notification to customer:",j)}}catch(u){throw console.error(` Error in rejectBookingRequest for request ${w}:`,u),u.message&&!u.message.includes("Access denied")&&!u.message.includes("Invalid request")&&!u.message.includes("not found")&&!u.message.includes("already")?new Error(`Failed to reject booking request: ${u.message}`):u}finally{setTimeout(()=>{D.current=!1},1e3)}},[t==null?void 0:t.role,b]),Y=_.useCallback(async(w,C)=>{if((t==null?void 0:t.role)!=="admin")throw new Error("Access denied: Only admin users can delete booking requests");if(!w||w<=0)throw new Error("Invalid request ID provided");console.log(` Starting deletion process for request ${w} in ${C} system`);try{const{data:u,error:S}=await oe.from("booking_requests").select("id, request_number, customer_name, status, system").eq("id",w).single();if(S)throw S.code==="PGRST116"?(console.warn(` Request ${w} not found`),new Error("Request not found")):(console.error(` Error fetching request ${w}:`,S),new Error(`Failed to verify request: ${S.message}`));if(!u)throw console.warn(` Request ${w} not found`),new Error("Request not found");if(u.system!==C)throw console.warn(` System mismatch for request ${w}: expected ${C}, got ${u.system}`),new Error(`System mismatch: Request belongs to ${u.system} system`);console.log(` Found request ${w}: ${u.request_number} (${u.customer_name})`);const{error:N}=await oe.from("booking_requests").delete().eq("id",w);if(N)throw console.error(` Error deleting request ${w}:`,N),N.code==="23503"?new Error("Cannot delete request: It may be referenced by other records"):N.code==="23505"?new Error("Database constraint error occurred"):N.code==="42501"?new Error("Permission denied: Cannot delete this request"):new Error(`Failed to delete request: ${N.message}`);console.log(` Successfully deleted request ${w}: ${u.request_number}`)}catch(u){throw console.error(` Error in deleteBookingRequest for request ${w}:`,u),u.message&&!u.message.includes("Access denied")&&!u.message.includes("Invalid request")?new Error(`Failed to delete booking request: ${u.message}`):u}},[t==null?void 0:t.role]),P=_.useCallback(()=>{if((t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="management"){const w=[...o.ground,...o.net].filter(C=>C.status===W.PENDING).length;m(w),console.log(` Recalculated pending request count: ${w}`)}},[t==null?void 0:t.role,o]),Q=_.useCallback(async()=>{var w,C;if(t){console.log(" Silent data refresh triggered");try{const u=new Date;u.setDate(u.getDate()-30);const S=u.toISOString(),{error:N}=await oe.from("booking_requests").delete().lt("created_at",S);N&&console.error("Error cleaning up old requests:",N);const{data:j,error:p}=await oe.from("bookings").select("*").order("date",{ascending:!0});if(p)throw p;const v=j.filter(ie=>ie.system==="ground"),T=j.filter(ie=>ie.system==="net");i({ground:v,net:T});let M=oe.from("booking_requests").select("*").order("created_at",{ascending:!0});if(t.role==="customer"){const ie=(w=t.email)==null?void 0:w.toLowerCase().trim(),te=(C=t.name)==null?void 0:C.toLowerCase().trim();if(ie||te){const _e=[];ie&&_e.push(`customer_email.ilike.${ie}`),te&&_e.push(`customer_name.ilike.${te}`),M=M.or(_e.join(","))}else{c({ground:[],net:[]});return}}const{data:$,error:F}=await M;if(F)throw F;const ee=$.filter(ie=>ie.system==="ground"),re=$.filter(ie=>ie.system==="net");if(c({ground:ee,net:re}),t.role==="admin"||t.role==="management"){const ie=[...ee,...re].filter(te=>te.status===W.PENDING).length;m(ie)}else m(0);console.log(" Silent data refresh completed")}catch(u){console.error(" Error during silent data refresh:",u)}}},[t]),V=_.useCallback(async()=>{if(t){console.log(" Manual data refresh triggered"),E(!0);try{await Q(),console.log(" Manual data refresh completed")}catch(w){console.error(" Error during manual data refresh:",w)}finally{E(!1)}}},[t,Q]),G=_.useCallback(async(w,C,u)=>{if(!t||t.role!=="admin"&&t.role!=="management")throw new Error("Access denied: Only admin and management users can manage special dates");const S=/^\d{4}-\d{2}-\d{2}$/;if(!S.test(w))throw new Error("Invalid date format. Please use YYYY-MM-DD format");let N,j,p;if(u&&C){if(N=w,j=C,!S.test(j))throw new Error("Invalid end date format. Please use YYYY-MM-DD format");if(new Date(j)<new Date(N))throw new Error("End date cannot be before start date");const M=new Date(N),$=new Date(j),F=Math.abs($.getTime()-M.getTime());if(Math.ceil(F/(1e3*60*60*24))>365)throw new Error("Date range cannot exceed 365 days");p=void 0}else N=w,j=void 0,p=C;const v=new Date;if(v.setHours(0,0,0,0),new Date(N)<v)throw new Error("Cannot add past dates as special dates");if(j&&new Date(j)<v)throw new Error("Cannot add past end dates as special dates");let T=3;for(;T>0;)try{const M={created_by:t.id};u&&j?(M.start_date=N,M.end_date=j,M.date=null):(M.date=N,M.start_date=null,M.end_date=null),p&&(M.description=p);const{data:$,error:F}=await oe.from("special_dates").insert([M]).select().single();if(F){if(F.code==="23505"&&T>1){console.log(" Date already exists, retrying..."),T--,await new Promise(ee=>setTimeout(ee,1e3));continue}throw F}return console.log(" Special date added successfully:",$.id),$}catch(M){if(T<=1)throw console.error(" Error adding special date after retries:",M),M.code==="23505"?new Error("This date or date range is already marked as special"):new Error(`Failed to add special date: ${M.message||"Unknown error"}`);T--,await new Promise($=>setTimeout($,1e3))}},[t]),I=_.useCallback(async(w,C)=>{if(!t||t.role!=="admin"&&t.role!=="management")throw new Error("Access denied: Only admin and management users can manage special dates");let u=2;for(;u>0;)try{let S=oe.from("special_dates").delete();C?S=S.eq("start_date",w).eq("end_date",C):S=S.or(`date.eq.${w},and(start_date.eq.${w},end_date.eq.${w})`);const{error:N}=await S;if(N)throw N;console.log(" Special date removed successfully:",C?`${w} to ${C}`:w);return}catch(S){if(u<=1)throw console.error(" Error removing special date after retries:",S),new Error(`Failed to remove special date: ${S.message||"Unknown error"}`);u--,await new Promise(N=>setTimeout(N,500))}},[t]),O=_.useCallback(async()=>{try{const{data:w,error:C}=await oe.from("booking_requests").select("*").order("created_at",{ascending:!1});if(C)throw C;const u={};w.forEach(p=>{const v=`${p.customer_email}-${p.customer_name}-${p.date}-${p.system}-${p.booking_type}-${p.event_type}`;u[v]||(u[v]=[]),u[v].push(p)});let S=0;for(const[p,v]of Object.entries(u))if(v.length>1){v.sort((F,ee)=>new Date(ee.created_at).getTime()-new Date(F.created_at).getTime());const T=v.slice(1),M=T.map(F=>F.id),{error:$}=await oe.from("booking_requests").delete().in("id",M);if($)throw $;S+=T.length}const{data:N,error:j}=await oe.from("booking_requests").select("*").order("created_at",{ascending:!0});if(!j){const p=N.filter(T=>T.system==="ground"),v=N.filter(T=>T.system==="net");if(c({ground:p,net:v}),(t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="management"){const T=[...p,...v].filter(M=>M.status===W.PENDING).length;m(T),console.log(` Updated pending request count after cleanup: ${T}`)}}return{deletedCount:S}}catch(w){throw w}},[t==null?void 0:t.role]),X={user:t,theme:s,bookings:r,bookingRequests:o,specialDates:x,pendingRequestCount:b,isLoading:f,login:g,logout:d,toggleTheme:y,addBooking:k,updateBooking:z,deleteBooking:U,addBookingRequest:B,approveBookingRequest:H,rejectBookingRequest:Z,deleteBookingRequest:Y,addSpecialDate:G,removeSpecialDate:I,cleanupDuplicateRequests:O,recalculatePendingCount:P,refreshData:V,refreshDataSilent:Q};return l.jsx(Ht.Provider,{value:X,children:e})},zx=({isManagementPortal:e=!1})=>{const{login:t}=_.useContext(Ht),[a,s]=_.useState(""),[n,r]=_.useState(""),[i,o]=_.useState(""),[c,x]=_.useState(""),[h,b]=_.useState(!1),m=f=>{f.preventDefault(),x(""),e?a==="HHSadmin"&&n==="HHS@admin"?(b(!0),setTimeout(()=>{t(a,st.ADMIN)},150)):a==="Management"&&n==="HHS"?(b(!0),setTimeout(()=>{t(a,st.MANAGEMENT)},150)):x("Invalid username or password."):a==="HHS"&&n==="HHS"?(b(!0),setTimeout(()=>{t(a,st.CUSTOMER,i)},150)):x("Invalid username or password.")};return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900 flex items-center justify-center p-3 sm:p-4 relative overflow-hidden",children:[l.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[l.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-br from-blue-500/20 to-purple-600/20 rounded-full blur-3xl animate-pulse"}),l.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-gradient-to-br from-orange-500/20 to-red-600/20 rounded-full blur-3xl animate-pulse delay-1000"})]}),l.jsxs("div",{className:`w-full max-w-sm sm:max-w-md bg-white/95 dark:bg-gray-800/95 backdrop-blur-sm rounded-3xl shadow-2xl p-6 sm:p-8 space-y-4 sm:space-y-6 border border-white/20 ${h?"animate-fadeOut":"animate-slideInUp"}`,children:[l.jsxs("div",{className:"flex flex-col items-center space-y-3 sm:space-y-4",children:[l.jsx("div",{className:"relative",children:l.jsx("img",{src:"logo.png",alt:"Harvard House Sports Logo",className:"h-32 w-32 sm:h-36 sm:w-36"})}),l.jsx("h1",{className:"text-2xl sm:text-3xl font-display font-bold text-gray-800 dark:text-white text-center",children:"Harvard House Sports"}),l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm sm:text-base font-medium",children:e?"Management Portal":"Customer Portal"}),l.jsx("div",{className:"w-16 h-0.5 bg-gradient-to-r from-orange-400 to-blue-400 mx-auto mt-2 rounded-full"})]})]}),l.jsxs("form",{onSubmit:m,className:"space-y-4 sm:space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"username",className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Username"}),l.jsx("input",{id:"username",type:"text",value:a,onChange:f=>s(f.target.value),className:"w-full px-4 py-3 bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl shadow-sm placeholder-gray-400 dark:placeholder-gray-500 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 text-sm sm:text-base",placeholder:e?"e.g., HHSadmin or Management":"HHS"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Password"}),l.jsx("input",{id:"password",type:"password",value:n,onChange:f=>r(f.target.value),className:"w-full px-4 py-3 bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl shadow-sm placeholder-gray-400 dark:placeholder-gray-500 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 text-sm sm:text-base",placeholder:e?"Enter your password":"HHS"})]}),!e&&l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Email Address"}),l.jsx("input",{id:"email",type:"email",value:i,onChange:f=>o(f.target.value),className:"w-full px-4 py-3 bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl shadow-sm placeholder-gray-400 dark:placeholder-gray-500 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 text-sm sm:text-base",placeholder:"your.email@example.com",required:!0})]}),c&&l.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl p-3 animate-fadeIn",children:l.jsx("p",{className:"text-red-800 dark:text-red-300 text-sm text-center font-medium",children:c})}),l.jsx("div",{children:l.jsx("button",{type:"submit",disabled:h,className:"group w-full flex justify-center py-3 sm:py-4 px-4 border border-transparent rounded-xl shadow-lg text-sm sm:text-base font-bold text-white bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 focus:outline-none focus:ring-4 focus:ring-blue-300/50 transition-all duration-300 transform hover:scale-105 disabled:opacity-50 disabled:scale-100 touch-manipulation",children:h?l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent mr-2"}),"Signing in..."]}):l.jsxs("div",{className:"flex items-center",children:[l.jsx("span",{children:"Sign In"}),l.jsx("svg",{className:"w-4 h-4 ml-2 group-hover:translate-x-1 transition-transform duration-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})})})]})]})]})};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rx=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ox=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,a,s)=>s?s.toUpperCase():a.toLowerCase()),Gd=e=>{const t=Ox(e);return t.charAt(0).toUpperCase()+t.slice(1)},Om=(...e)=>e.filter((t,a,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===a).join(" ").trim(),Bx=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ux={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lx=_.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:a=2,absoluteStrokeWidth:s,className:n="",children:r,iconNode:i,...o},c)=>_.createElement("svg",{ref:c,...Ux,width:t,height:t,stroke:e,strokeWidth:s?Number(a)*24/Number(t):a,className:Om("lucide",n),...!r&&!Bx(o)&&{"aria-hidden":"true"},...o},[...i.map(([x,h])=>_.createElement(x,h)),...Array.isArray(r)?r:[r]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=(e,t)=>{const a=_.forwardRef(({className:s,...n},r)=>_.createElement(Lx,{ref:r,iconNode:t,className:Om(`lucide-${Rx(Gd(e))}`,`lucide-${e}`,s),...n}));return a.displayName=Gd(e),a};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $x=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Hx=ae("arrow-left",$x);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gx=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Ns=ae("arrow-right",Gx);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yx=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],Bm=ae("arrow-up-down",Yx);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vx=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M17 17H4a1 1 0 0 1-.74-1.673C4.59 13.956 6 12.499 6 8a6 6 0 0 1 .258-1.742",key:"178tsu"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.668 3.01A6 6 0 0 1 18 8c0 2.687.77 4.653 1.707 6.05",key:"1hqiys"}]],Yd=ae("bell-off",Vx);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qx=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],al=ae("bell",Qx);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xx=[["path",{d:"M5 7a2 2 0 0 0-2 2v11",key:"1yhqjt"}],["path",{d:"M5.803 18H5a2 2 0 0 0 0 4h9.5a.5.5 0 0 0 .5-.5V21",key:"edzzo5"}],["path",{d:"M9 15V4a2 2 0 0 1 2-2h9.5a.5.5 0 0 1 .5.5v14a.5.5 0 0 1-.5.5H11a2 2 0 0 1 0-4h10",key:"1nwzrg"}]],yn=ae("book-copy",Xx);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zx=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],lt=ae("calendar",Zx);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kx=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Jx=ae("chart-column",Kx);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fx=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],cr=ae("check",Fx);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wx=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],go=ae("chevron-left",Wx);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ix=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],xo=ae("chevron-right",Ix);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Px=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],La=ae("circle-alert",Px);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eh=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Um=ae("circle-check-big",eh);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const th=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Lm=ae("clock",th);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ah=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],sh=ae("dollar-sign",ah);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lh=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],bc=ae("download",lh);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nh=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],rh=ae("facebook",nh);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ih=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Vd=ae("globe",ih);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oh=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],ch=ae("hash",oh);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dh=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],uh=ae("instagram",dh);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mh=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],dr=ae("layout-grid",mh);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fh=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],xi=ae("layout-dashboard",fh);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gh=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],ur=ae("list",gh);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xh=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Ol=ae("loader-circle",xh);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hh=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],$m=ae("log-out",hh);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bh=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],ho=ae("mail",bh);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yh=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Qd=ae("map-pin",yh);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ph=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],vh=ae("message-circle",ph);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nh=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],jh=ae("moon",Nh);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wh=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],bo=ae("phone",wh);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kh=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Sa=ae("plus",kh);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sh=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],_h=ae("power",Sh);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eh=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Dh=ae("refresh-cw",Eh);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Th=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Ah=ae("rotate-ccw",Th);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ch=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Hm=ae("search",Ch);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mh=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Gm=ae("send",Mh);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qh=[["path",{d:"M12 2v13",key:"1km8f5"}],["path",{d:"m16 6-4-4-4 4",key:"13yo43"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}]],Xd=ae("share",qh);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zh=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],yo=ae("shield",zh);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rh=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],Oh=ae("smartphone",Rh);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bh=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],yc=ae("square-pen",Bh);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uh=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Lh=ae("star",Uh);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $h=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Hh=ae("sun",$h);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gh=[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]],Yh=ae("test-tube",Gh);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vh=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Tr=ae("trash-2",Vh);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qh=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Xh=ae("trending-up",Qh);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zh=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],po=ae("triangle-alert",Zh);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kh=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],vo=ae("user",Kh);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jh=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Mn=ae("users",Jh);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fh=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Wh=ae("wifi-off",Fh);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ih=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],Ph=ae("wifi",Ih);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eb=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ht=ae("x",eb);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tb=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],ab=ae("zap",tb),Zd=({onCustomerLogin:e,onAdminLogin:t})=>{const[a,s]=_.useState(null),[n,r]=_.useState(0),[i,o]=_.useState(null),[c,x]=_.useState(null),h=()=>{s("customer"),setTimeout(()=>{e()},500)},b=()=>{s("admin"),setTimeout(()=>{t()},500)},m=()=>{window.open("https://www.harvardhousesports.com","_blank")},f=()=>{window.open("https://maps.app.goo.gl/ZrrNhGJAeecU1xrK9","_blank")},E=()=>{window.location.href="mailto:harvardhousesports@gmail.com"},D=()=>{const Z="+919062008888",Y=encodeURIComponent("Hi, help me to add a booking"),P=`https://wa.me/${Z.replace(/[^0-9]/g,"")}?text=${Y}`;/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||confirm("Open WhatsApp Web? Click Cancel to make a phone call instead.")?window.open(P,"_blank"):window.open(`tel:${Z}`,"_self")},q=()=>{const Z="+919062008888",Y=encodeURIComponent("Hi, help me to add a booking"),P=`https://wa.me/${Z.replace(/[^0-9]/g,"")}?text=${Y}`;window.open(P,"_blank")},g=()=>{window.open("tel:+919062008888","_self")},d=()=>{window.open("https://www.facebook.com/pavlionkolkata","_blank")},y=()=>{window.open("https://www.instagram.com/harvardhousesports/","_blank")},k=50,z=Z=>{x(null),o(Z.targetTouches[0].clientX)},U=Z=>{x(Z.targetTouches[0].clientX)},B=()=>{if(!i||!c)return;const Z=i-c,Y=Z>k,P=Z<-k;Y&&n<1&&r(1),P&&n>0&&r(0)},H=Z=>{r(Z)};return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900 flex items-center justify-center p-4 relative overflow-hidden",children:[l.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[l.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-br from-blue-500/20 to-purple-600/20 rounded-full blur-3xl animate-pulse"}),l.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-gradient-to-br from-orange-500/20 to-red-600/20 rounded-full blur-3xl animate-pulse delay-1000"}),l.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-gradient-to-br from-cyan-500/10 to-blue-600/10 rounded-full blur-3xl animate-pulse delay-500"})]}),l.jsxs("div",{className:"w-full max-w-7xl relative z-10 px-3 md:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-1 md:mb-3 animate-fadeInUp max-w-sm mx-auto md:max-w-4xl md:mx-auto px-4",children:[l.jsx("div",{className:"inline-block mb-0.5 md:mb-1",children:l.jsx("img",{src:"logo.png",alt:"Harvard House Sports Logo",className:"h-[140px] w-[140px] md:h-[160px] md:w-[160px] mx-auto drop-shadow-lg"})}),l.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-display font-bold text-white mb-0.5 md:mb-1 bg-gradient-to-r from-white via-blue-100 to-white bg-clip-text text-transparent animate-slideInUp leading-tight whitespace-nowrap text-center overflow-hidden",children:"Harvard House Sports"}),l.jsx("p",{className:"text-blue-200 text-xs md:text-sm font-medium mb-2 md:mb-3 animate-fadeIn",children:"53, Matheswartola Road, Kolkata- 700 046"}),l.jsx("div",{className:"w-8 md:w-12 h-1 bg-gradient-to-r from-orange-400 to-blue-400 mx-auto mb-2 md:mb-3 rounded-full animate-scaleIn"}),l.jsxs("div",{className:"animate-fadeIn delay-300 mb-4 md:mb-6",children:[l.jsxs("div",{className:"hidden md:flex flex-wrap justify-center items-center gap-2 md:gap-3 max-w-2xl mx-auto mt-1",children:[l.jsxs("button",{onClick:m,className:"flex items-center justify-center space-x-2 px-3 py-2 bg-white/5 rounded-full border border-white/10 hover:bg-white/10 transition-colors duration-200 group",children:[l.jsx(Vd,{className:"w-4 h-4 text-blue-300 group-hover:text-white flex-shrink-0"}),l.jsx("span",{className:"text-xs text-blue-200 group-hover:text-white font-medium",children:"Website"})]}),l.jsxs("button",{onClick:f,className:"flex items-center justify-center space-x-2 px-3 py-2 bg-white/5 rounded-full border border-white/10 hover:bg-white/10 transition-colors duration-200 group",children:[l.jsx(Qd,{className:"w-4 h-4 text-blue-300 group-hover:text-white flex-shrink-0"}),l.jsx("span",{className:"text-xs text-blue-200 group-hover:text-white font-medium",children:"Location"})]}),l.jsxs("button",{onClick:E,className:"flex items-center justify-center space-x-2 px-3 py-2 bg-white/5 rounded-full border border-white/10 hover:bg-white/10 transition-colors duration-200 group",children:[l.jsx(ho,{className:"w-4 h-4 text-blue-300 group-hover:text-white flex-shrink-0"}),l.jsx("span",{className:"text-xs text-blue-200 group-hover:text-white font-medium",children:"Email"})]}),l.jsxs("button",{onClick:D,className:"flex items-center justify-center space-x-2 px-3 py-2 bg-white/5 rounded-full border border-white/10 hover:bg-white/10 transition-colors duration-200 group",children:[l.jsx(bo,{className:"w-4 h-4 text-blue-300 group-hover:text-white flex-shrink-0"}),l.jsx("span",{className:"text-xs text-blue-200 group-hover:text-white font-medium",children:"Call"})]})]}),l.jsxs("div",{className:"mobile-contact-buttons md:hidden",children:[l.jsxs("button",{onClick:m,className:"flex items-center justify-center space-x-1.5 xs:space-x-2 px-2 xs:px-2.5 sm:px-3 py-1.5 bg-white/5 rounded-full border border-white/10 hover:bg-white/10 transition-colors duration-200 group min-w-0 flex-1 xs:flex-none",children:[l.jsx(Vd,{className:"w-3 h-3 xs:w-3.5 xs:h-3.5 text-blue-300 group-hover:text-white flex-shrink-0"}),l.jsx("span",{className:"text-xs text-blue-200 group-hover:text-white font-medium truncate",children:"Web"})]}),l.jsxs("button",{onClick:f,className:"flex items-center justify-center space-x-1.5 xs:space-x-2 px-2 xs:px-2.5 sm:px-3 py-1.5 bg-white/5 rounded-full border border-white/10 hover:bg-white/10 transition-colors duration-200 group min-w-0 flex-1 xs:flex-none",children:[l.jsx(Qd,{className:"w-3 h-3 xs:w-3.5 xs:h-3.5 text-blue-300 group-hover:text-white flex-shrink-0"}),l.jsx("span",{className:"text-xs text-blue-200 group-hover:text-white font-medium truncate",children:"Map"})]}),l.jsxs("button",{onClick:E,className:"flex items-center justify-center space-x-1.5 xs:space-x-2 px-2 xs:px-2.5 sm:px-3 py-1.5 bg-white/5 rounded-full border border-white/10 hover:bg-white/10 transition-colors duration-200 group min-w-0 flex-1 xs:flex-none",children:[l.jsx(ho,{className:"w-3 h-3 xs:w-3.5 xs:h-3.5 text-blue-300 group-hover:text-white flex-shrink-0"}),l.jsx("span",{className:"text-xs text-blue-200 group-hover:text-white font-medium truncate",children:"Mail"})]}),l.jsxs("button",{onClick:q,className:"flex items-center justify-center space-x-1.5 xs:space-x-2 px-2 xs:px-2.5 sm:px-3 py-1.5 bg-white/5 rounded-full border border-white/10 hover:bg-white/10 transition-colors duration-200 group min-w-0 flex-1 xs:flex-none",children:[l.jsx(vh,{className:"w-3 h-3 xs:w-3.5 xs:h-3.5 text-green-400 group-hover:text-green-300 flex-shrink-0"}),l.jsx("span",{className:"text-xs text-blue-200 group-hover:text-white font-medium truncate",children:"WA"})]}),l.jsxs("button",{onClick:g,className:"flex items-center justify-center space-x-1.5 xs:space-x-2 px-2 xs:px-2.5 sm:px-3 py-1.5 bg-white/5 rounded-full border border-white/10 hover:bg-white/10 transition-colors duration-200 group min-w-0 flex-1 xs:flex-none",children:[l.jsx(bo,{className:"w-3 h-3 xs:w-3.5 xs:h-3.5 text-blue-300 group-hover:text-white flex-shrink-0"}),l.jsx("span",{className:"text-xs text-blue-200 group-hover:text-white font-medium truncate",children:"Call"})]})]})]})]}),l.jsxs("div",{className:"hidden md:grid md:grid-cols-2 gap-4 lg:gap-6 max-w-4xl mx-auto",children:[l.jsx("div",{className:"group bg-white/95 backdrop-blur-sm rounded-3xl shadow-2xl p-3 hover:shadow-3xl transition-all duration-500 transform hover:-translate-y-2 hover:scale-105 border border-white/20 animate-slideInLeft delay-200",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"relative mb-2.5",children:l.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-orange-400 to-red-500 rounded-2xl flex items-center justify-center mx-auto shadow-xl group-hover:shadow-2xl transition-all duration-300 transform group-hover:rotate-6",children:l.jsx(vo,{className:"w-10 h-10 text-white"})})}),l.jsx("h2",{className:"text-lg font-bold text-gray-800 mb-1.5 group-hover:text-orange-600 transition-colors duration-300",children:"Customer Portal"}),l.jsx("p",{className:"text-gray-600 mb-3 text-sm leading-relaxed",children:"Book sports facilities instantly with real-time availability, manage your reservations, track booking history, and receive instant confirmations for all your sporting needs"}),l.jsxs("div",{className:"space-y-1.5 mb-3",children:[l.jsxs("div",{className:"flex items-center justify-center space-x-2 text-gray-600",children:[l.jsx("div",{className:"w-1.5 h-1.5 bg-orange-400 rounded-full animate-pulse"}),l.jsx("span",{className:"text-xs font-medium",children:"Real-time availability"})]}),l.jsxs("div",{className:"flex items-center justify-center space-x-2 text-gray-600",children:[l.jsx("div",{className:"w-1.5 h-1.5 bg-orange-400 rounded-full animate-pulse delay-100"}),l.jsx("span",{className:"text-xs font-medium",children:"Instant booking requests"})]}),l.jsxs("div",{className:"flex items-center justify-center space-x-2 text-gray-600",children:[l.jsx("div",{className:"w-1.5 h-1.5 bg-orange-400 rounded-full animate-pulse delay-200"}),l.jsx("span",{className:"text-xs font-medium",children:"Live status updates"})]})]}),l.jsx("button",{onClick:h,disabled:a!==null,className:"group/btn w-full bg-gradient-to-r from-orange-500 to-red-500 text-white py-2.5 px-3 rounded-2xl font-bold text-sm hover:from-orange-600 hover:to-red-600 focus:outline-none focus:ring-4 focus:ring-orange-300/50 transition-all duration-300 transform hover:scale-105 disabled:opacity-50 disabled:scale-100 shadow-lg hover:shadow-xl",children:a==="customer"?l.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[l.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent"}),l.jsx("span",{children:"Accessing Portal..."})]}):l.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[l.jsx("span",{children:"Enter Customer Portal"}),l.jsx(Ns,{className:"w-5 h-5 group-hover/btn:translate-x-1 transition-transform duration-200 flex-shrink-0"})]})})]})}),l.jsx("div",{className:"group bg-white/95 backdrop-blur-sm rounded-3xl shadow-2xl p-3 hover:shadow-3xl transition-all duration-500 transform hover:-translate-y-2 hover:scale-105 border border-white/20 animate-slideInRight delay-400",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"relative mb-2.5",children:l.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-2xl flex items-center justify-center mx-auto shadow-xl group-hover:shadow-2xl transition-all duration-300 transform group-hover:-rotate-6",children:l.jsx(yo,{className:"w-10 h-10 text-white"})})}),l.jsx("h2",{className:"text-lg font-bold text-gray-800 mb-1.5 group-hover:text-blue-600 transition-colors duration-300",children:"Management Portal"}),l.jsx("p",{className:"text-gray-600 mb-3 text-sm leading-relaxed",children:"Oversee all facility bookings, manage customer requests, generate detailed reports, handle payments, and optimize resource allocation with advanced analytics"}),l.jsxs("div",{className:"space-y-1.5 mb-3",children:[l.jsxs("div",{className:"flex items-center justify-center space-x-2 text-gray-600",children:[l.jsx("div",{className:"w-1.5 h-1.5 bg-blue-400 rounded-full animate-pulse delay-200"}),l.jsx("span",{className:"text-xs font-medium",children:"Request management"})]}),l.jsxs("div",{className:"flex items-center justify-center space-x-2 text-gray-600",children:[l.jsx("div",{className:"w-1.5 h-1.5 bg-blue-400 rounded-full animate-pulse delay-300"}),l.jsx("span",{className:"text-xs font-medium",children:"Advanced analytics"})]}),l.jsxs("div",{className:"flex items-center justify-center space-x-2 text-gray-600",children:[l.jsx("div",{className:"w-1.5 h-1.5 bg-blue-400 rounded-full animate-pulse delay-400"}),l.jsx("span",{className:"text-xs font-medium",children:"Data export tools"})]})]}),l.jsx("button",{onClick:b,disabled:a!==null,className:"group/btn w-full bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-2.5 px-3 rounded-2xl font-bold text-sm hover:from-blue-700 hover:to-indigo-700 focus:outline-none focus:ring-4 focus:ring-blue-300/50 transition-all duration-300 transform hover:scale-105 disabled:opacity-50 disabled:scale-100 shadow-lg hover:shadow-xl",children:a==="admin"?l.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[l.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent"}),l.jsx("span",{children:"Accessing Portal..."})]}):l.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[l.jsx("span",{children:"Enter Management Portal"}),l.jsx(Ns,{className:"w-5 h-5 group-hover/btn:translate-x-1 transition-transform duration-200 flex-shrink-0"})]})})]})})]}),l.jsx("div",{className:"md:hidden",children:l.jsxs("div",{className:"relative max-w-sm mx-auto",children:[l.jsx("div",{className:"overflow-hidden rounded-3xl",onTouchStart:z,onTouchMove:U,onTouchEnd:B,children:l.jsxs("div",{className:"flex transition-transform duration-300 ease-in-out",style:{transform:`translateX(-${n*100}%)`},children:[l.jsx("div",{className:"w-full flex-shrink-0",children:l.jsx("div",{className:"bg-white/95 backdrop-blur-sm rounded-3xl shadow-2xl p-3 border border-white/20 mx-2",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"relative mb-2",children:l.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-orange-400 to-red-500 rounded-xl flex items-center justify-center mx-auto shadow-xl",children:l.jsx(vo,{className:"w-7 h-7 text-white"})})}),l.jsx("h2",{className:"text-base font-bold text-gray-800 mb-1.5",children:"Customer Portal"}),l.jsx("p",{className:"text-gray-600 mb-2.5 text-sm leading-relaxed",children:"Book facilities instantly with real-time availability and track your reservations"}),l.jsxs("div",{className:"space-y-1 mb-2.5",children:[l.jsxs("div",{className:"flex items-center justify-center space-x-2 text-gray-600",children:[l.jsx("div",{className:"w-1.5 h-1.5 bg-orange-400 rounded-full animate-pulse"}),l.jsx("span",{className:"text-xs font-medium",children:"Real-time availability"})]}),l.jsxs("div",{className:"flex items-center justify-center space-x-2 text-gray-600",children:[l.jsx("div",{className:"w-1.5 h-1.5 bg-orange-400 rounded-full animate-pulse delay-100"}),l.jsx("span",{className:"text-xs font-medium",children:"Instant bookings"})]})]}),l.jsx("button",{onClick:h,disabled:a!==null,className:"group/btn w-full bg-gradient-to-r from-orange-500 to-red-500 text-white py-2 px-3 rounded-2xl font-bold text-sm hover:from-orange-600 hover:to-red-600 focus:outline-none focus:ring-4 focus:ring-orange-300/50 transition-all duration-300 transform hover:scale-105 disabled:opacity-50 disabled:scale-100 shadow-lg hover:shadow-xl",children:a==="customer"?l.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),l.jsx("span",{className:"text-xs",children:"Accessing Portal..."})]}):l.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[l.jsx("span",{className:"text-xs",children:"Enter Portal"}),l.jsx(Ns,{className:"w-3 h-3 group-hover/btn:translate-x-1 transition-transform duration-200 flex-shrink-0"})]})})]})})}),l.jsx("div",{className:"w-full flex-shrink-0",children:l.jsx("div",{className:"bg-white/95 backdrop-blur-sm rounded-3xl shadow-2xl p-3 border border-white/20 mx-2",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"relative mb-2",children:l.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl flex items-center justify-center mx-auto shadow-xl",children:l.jsx(yo,{className:"w-7 h-7 text-white"})})}),l.jsx("h2",{className:"text-base font-bold text-gray-800 mb-1.5",children:"Management Portal"}),l.jsx("p",{className:"text-gray-600 mb-2.5 text-sm leading-relaxed",children:"Manage bookings, handle requests, and access advanced analytics tools"}),l.jsxs("div",{className:"space-y-1 mb-2.5",children:[l.jsxs("div",{className:"flex items-center justify-center space-x-2 text-gray-600",children:[l.jsx("div",{className:"w-1.5 h-1.5 bg-blue-400 rounded-full animate-pulse delay-200"}),l.jsx("span",{className:"text-xs font-medium",children:"Request management"})]}),l.jsxs("div",{className:"flex items-center justify-center space-x-2 text-gray-600",children:[l.jsx("div",{className:"w-1.5 h-1.5 bg-blue-400 rounded-full animate-pulse delay-300"}),l.jsx("span",{className:"text-xs font-medium",children:"Advanced analytics"})]})]}),l.jsx("button",{onClick:b,disabled:a!==null,className:"group/btn w-full bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-2 px-3 rounded-2xl font-bold text-sm hover:from-blue-700 hover:to-indigo-700 focus:outline-none focus:ring-4 focus:ring-blue-300/50 transition-all duration-300 transform hover:scale-105 disabled:opacity-50 disabled:scale-100 shadow-lg hover:shadow-xl",children:a==="admin"?l.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),l.jsx("span",{className:"text-xs",children:"Accessing Portal..."})]}):l.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[l.jsx("span",{className:"text-xs",children:"Enter Portal"}),l.jsx(Ns,{className:"w-3 h-3 group-hover/btn:translate-x-1 transition-transform duration-200 flex-shrink-0"})]})})]})})})]})}),l.jsx("div",{className:"flex justify-center mt-4",children:l.jsxs("div",{className:"relative bg-gray-200/50 rounded-full p-1 w-32 h-3 backdrop-blur-sm",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-100/50 to-gray-200/50 rounded-full"}),l.jsx("div",{className:`absolute top-1 h-1 rounded-full transition-all duration-500 ease-in-out ${n===0?"w-12 bg-gradient-to-r from-orange-400 to-red-500 left-1":"w-12 bg-gradient-to-r from-blue-500 to-indigo-600 right-1"} shadow-sm`,children:l.jsx("div",{className:`absolute inset-0 rounded-full animate-pulse ${n===0?"bg-orange-300":"bg-blue-300"} opacity-30`})}),l.jsx("button",{onClick:()=>H(0),className:"absolute left-0 top-0 w-1/2 h-full rounded-l-full hover:bg-white/10 transition-colors duration-200","aria-label":"Customer Portal Slide"}),l.jsx("button",{onClick:()=>H(1),className:"absolute right-0 top-0 w-1/2 h-full rounded-r-full hover:bg-white/10 transition-colors duration-200","aria-label":"Management Portal Slide"})]})})]})}),l.jsx("div",{className:"text-center mt-4 md:mt-6 animate-fadeInUp delay-700",children:l.jsxs("div",{className:"inline-flex items-center space-x-2 bg-white/10 backdrop-blur-sm rounded-full px-3 py-1 border border-white/20",children:[l.jsxs("div",{className:"flex space-x-1",children:[l.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full animate-pulse"}),l.jsx("div",{className:"w-2 h-2 bg-orange-400 rounded-full animate-pulse delay-200"}),l.jsx("div",{className:"w-2 h-2 bg-indigo-400 rounded-full animate-pulse delay-400"})]}),l.jsx("span",{className:"text-blue-100 text-xs font-medium",children:"Choose your portal to continue"})]})}),l.jsx("div",{className:"text-center mt-3 md:mt-4 animate-fadeInUp delay-1000",children:l.jsxs("div",{className:"flex justify-center items-center space-x-4",children:[l.jsx("button",{onClick:d,className:"flex items-center justify-center w-10 h-10 bg-white/10 backdrop-blur-sm rounded-full border border-white/20 hover:bg-white/20 transition-all duration-300 group transform hover:scale-110","aria-label":"Follow us on Facebook",children:l.jsx(rh,{className:"w-5 h-5 text-blue-300 group-hover:text-blue-400 transition-colors duration-300"})}),l.jsx("button",{onClick:y,className:"flex items-center justify-center w-10 h-10 bg-white/10 backdrop-blur-sm rounded-full border border-white/20 hover:bg-white/20 transition-all duration-300 group transform hover:scale-110","aria-label":"Follow us on Instagram",children:l.jsx(uh,{className:"w-5 h-5 text-pink-300 group-hover:text-pink-400 transition-colors duration-300"})})]})})]})]})},sb=({onBack:e})=>{const{login:t}=_.useContext(Ht),[a,s]=_.useState({name:"",email:""}),[n,r]=_.useState(""),[i,o]=_.useState(!1),[c,x]=_.useState(!1),[h,b]=_.useState(!1);_.useEffect(()=>{const E=D=>{if(h&&D.key==="Enter"&&!i){D.preventDefault();const q=document.querySelector("form");if(q){const g=new Event("submit",{bubbles:!0,cancelable:!0});q.dispatchEvent(g)}}};if(h)return document.addEventListener("keydown",E),()=>document.removeEventListener("keydown",E)},[h,i]),_.useEffect(()=>{const E=localStorage.getItem("customerName"),D=localStorage.getItem("customerEmail"),q=localStorage.getItem("customerRememberMe")==="true",g=localStorage.getItem("customerLastLoginTime"),d=Date.now()-7*24*60*60*1e3;q&&E&&D&&g&&parseInt(g)>d?(s({name:E,email:D}),x(!0),b(!0),console.log(" Auto-populated customer login form from saved data"),setTimeout(()=>{const y=document.querySelector('button[type="submit"]');y&&y.focus()},500)):g&&parseInt(g)<=d&&(localStorage.removeItem("customerName"),localStorage.removeItem("customerEmail"),localStorage.removeItem("customerRememberMe"),localStorage.removeItem("customerLastLoginTime"),console.log(" Cleared expired customer login data (older than 7 days)"))},[]);const m=E=>{const{name:D,value:q}=E.target;s(g=>({...g,[D]:q}))},f=E=>{E.preventDefault(),r("");const D=a.name.trim(),q=a.email.trim();if(!D){r("Please enter your name");return}if(!q){r("Please enter your email address");return}if(!q.includes("@")||!q.includes(".")){r("Please enter a valid email address");return}const g=D.replace(/\s+/g," "),d=q.toLowerCase();console.log(" Customer Login Debug:",{originalName:a.name,originalEmail:a.email,normalizedName:g,normalizedEmail:d}),o(!0),setTimeout(()=>{c?(localStorage.setItem("customerName",g),localStorage.setItem("customerEmail",d),localStorage.setItem("customerRememberMe","true"),localStorage.setItem("customerLastLoginTime",Date.now().toString()),console.log(" Saved customer login data to localStorage")):(window.addEventListener("storage",y=>{y.key==="customerLogout"&&y.newValue==="true"&&(localStorage.removeItem("customerName"),localStorage.removeItem("customerEmail"),localStorage.removeItem("customerRememberMe"),localStorage.removeItem("customerLastLoginTime"),localStorage.removeItem("customerLogout"),console.log(" Auto-cleared customer data on logout"))}),console.log(" Cleared customer login data from localStorage")),t(g,st.CUSTOMER,d)},500)};return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900 flex items-center justify-center p-3 sm:p-4 relative overflow-hidden",children:[l.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[l.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-br from-orange-500/20 to-red-600/20 rounded-full blur-3xl animate-pulse"}),l.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-gradient-to-br from-blue-500/20 to-purple-600/20 rounded-full blur-3xl animate-pulse delay-1000"})]}),l.jsxs("div",{className:`w-full max-w-sm sm:max-w-md bg-white/95 dark:bg-gray-800/95 backdrop-blur-sm rounded-3xl shadow-2xl p-6 sm:p-8 space-y-4 sm:space-y-6 border border-white/20 ${i?"animate-fadeOut":"animate-slideInUp"}`,children:[l.jsxs("div",{className:"flex flex-col items-center space-y-3 sm:space-y-4",children:[l.jsx("div",{className:"relative",children:l.jsx("img",{src:"logo.png",alt:"Harvard House Sports Logo",className:"h-32 w-32 sm:h-36 sm:w-36"})}),l.jsx("h1",{className:"text-2xl sm:text-3xl font-display font-bold text-gray-800 dark:text-white text-center",children:"Harvard House Sports"}),l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm sm:text-base font-medium",children:"Customer Portal"}),l.jsx("div",{className:"w-16 h-0.5 bg-gradient-to-r from-orange-400 to-red-400 mx-auto mt-2 rounded-full"})]})]}),l.jsxs("form",{onSubmit:f,className:"space-y-4 sm:space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"name",className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Full Name"}),l.jsx("input",{id:"name",name:"name",type:"text",value:a.name,onChange:m,className:"w-full px-4 py-3 bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl shadow-sm placeholder-gray-400 dark:placeholder-gray-500 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all duration-300 text-sm sm:text-base",placeholder:"Enter your full name",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Email Address"}),l.jsx("input",{id:"email",name:"email",type:"email",value:a.email,onChange:m,className:"w-full px-4 py-3 bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl shadow-sm placeholder-gray-400 dark:placeholder-gray-500 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all duration-300 text-sm sm:text-base",placeholder:"your.email@example.com",required:!0})]}),n&&l.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl p-3 animate-fadeIn",children:l.jsx("p",{className:"text-red-800 dark:text-red-300 text-sm text-center font-medium",children:n})}),h&&l.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-xl p-3 animate-fadeIn",children:l.jsxs("p",{className:"text-green-800 dark:text-green-300 text-sm text-center font-medium flex items-center justify-center space-x-2",children:[l.jsx("span",{children:" Login details restored from previous session"}),l.jsx("span",{className:"text-xs bg-green-100 dark:bg-green-900/50 px-2 py-1 rounded-full",children:"Press Enter to login"})]})}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("input",{id:"rememberMe",name:"rememberMe",type:"checkbox",checked:c,onChange:E=>x(E.target.checked),className:"h-4 w-4 text-orange-600 focus:ring-orange-500 border-gray-300 rounded"}),l.jsx("label",{htmlFor:"rememberMe",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Remember me"})]}),(localStorage.getItem("customerName")||localStorage.getItem("customerEmail"))&&l.jsx("button",{type:"button",onClick:()=>{localStorage.removeItem("customerName"),localStorage.removeItem("customerEmail"),localStorage.removeItem("customerRememberMe"),localStorage.removeItem("customerLastLoginTime"),s({name:"",email:""}),x(!1),console.log(" User manually cleared customer login data");const E=document.createElement("div");E.className="fixed top-4 right-4 bg-green-100 dark:bg-green-900/50 border border-green-200 dark:border-green-800 text-green-800 dark:text-green-300 px-4 py-2 rounded-lg shadow-lg z-50 animate-fadeIn",E.textContent=" Saved login data cleared",document.body.appendChild(E),setTimeout(()=>{document.body.removeChild(E)},3e3)},className:"text-xs text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300 underline",children:"Clear saved data"})]}),l.jsx("div",{children:l.jsx("button",{type:"submit",disabled:i,className:"group w-full flex justify-center py-3 sm:py-4 px-4 border border-transparent rounded-xl shadow-lg text-sm sm:text-base font-bold text-white bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 focus:outline-none focus:ring-4 focus:ring-orange-300/50 transition-all duration-300 transform hover:scale-105 disabled:opacity-50 disabled:scale-100 touch-manipulation",children:i?l.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[l.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent"}),l.jsx("span",{children:"Signing in..."})]}):l.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[l.jsx("span",{children:"Sign In / Sign Up"}),l.jsx("svg",{className:"w-4 h-4 group-hover:translate-x-1 transition-transform duration-200 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})})})]})]})]})},lb=[{date:"2024-01-26",name:"Republic Day"},{date:"2024-03-25",name:"Holi"},{date:"2024-08-15",name:"Independence Day"},{date:"2024-10-02",name:"Gandhi Jayanti"},{date:"2024-11-01",name:"Diwali"}],nb=["07:00 AM - 08:00 AM","08:00 AM - 09:00 AM","09:00 AM - 10:00 AM","10:00 AM - 11:00 AM","11:00 AM - 12:00 PM","12:00 PM - 01:00 PM","01:00 PM - 02:00 PM","02:00 PM - 03:00 PM","03:00 PM - 04:00 PM","04:00 PM - 05:00 PM","05:00 PM - 06:00 PM","06:00 PM - 07:00 PM","07:00 PM - 08:00 PM","08:00 PM - 09:00 PM","09:00 PM - 10:00 PM"],rb=["07:00 AM - 09:30 AM","10:00 AM - 12:30 PM","01:30 PM - 04:00 PM","04:30 PM - 07:00 PM","07:30 PM - 10:00 PM"],Ar=rb,Cr=nb,hi=e=>{const t=e.getFullYear(),a=(e.getMonth()+1).toString().padStart(2,"0"),s=e.getDate().toString().padStart(2,"0");return`${t}-${a}-${s}`},ib=({bookings:e,bookingRequests:t,openModal:a,system:s,onApproveRequest:n,onRejectRequest:r,onManageSpecialDates:i})=>{const{user:o,specialDates:c}=_.useContext(Ht),[x,h]=_.useState(new Date),[b,m]=_.useState("grid");_.useEffect(()=>{const Q=()=>{window.innerWidth<768,m("grid")};return Q(),window.addEventListener("resize",Q),()=>window.removeEventListener("resize",Q)},[]);const f=_.useMemo(()=>{const Q=new Map;return lb.forEach(V=>Q.set(V.date,V)),Q},[]),E=Q=>{const V=hi(Q);return c.some(G=>{if(!G.is_active)return!1;if(G.date===V)return!0;if(G.start_date&&G.end_date){const I=new Date(G.start_date),O=new Date(G.end_date),X=new Date(V);return X>=I&&X<=O}return!1})},D=_.useMemo(()=>{const Q=new Map;return e.forEach(V=>{const G=V.date;Q.has(G)||Q.set(G,[]),Q.get(G).push({...V,isRequest:!1})}),t.forEach(V=>{const G=V.date;Q.has(G)||Q.set(G,[]),Q.get(G).push({...V,isRequest:!0})}),Q},[e,t]),q=new Date(x.getFullYear(),x.getMonth(),1),g=new Date(x.getFullYear(),x.getMonth()+1,0),d=q.getDay(),y=g.getDate(),k=Array.from({length:d+y},(Q,V)=>V<d?null:new Date(x.getFullYear(),x.getMonth(),V-d+1)),z=()=>h(new Date(x.getFullYear(),x.getMonth()-1,1)),U=()=>h(new Date(x.getFullYear(),x.getMonth()+1,1)),B=()=>h(new Date),H=()=>l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"grid grid-cols-7 text-center font-semibold text-gray-500 dark:text-gray-400 border-b dark:border-gray-700 pb-1 sm:pb-2 text-xs sm:text-base",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(Q=>l.jsx("div",{className:"py-1 sm:py-2 text-xs sm:text-base",children:Q},Q))}),l.jsx("div",{className:"grid grid-cols-7 flex-grow",children:k.map((Q,V)=>{var S;if(!Q)return l.jsx("div",{className:"border-r border-b dark:border-gray-700"},`empty-${V}`);const G=hi(Q),I=Q.getDay(),O=I===0||I===6,X=f.has(G),w=E(Q),C=Q.toDateString()===new Date().toDateString(),u=D.get(G)||[];return l.jsxs("div",{className:`group border-r border-b dark:border-gray-700 p-0.5 sm:p-0.5 md:p-1 flex flex-col relative min-h-[3.5rem] sm:min-h-[4rem] md:min-h-[4rem] lg:min-h-[5rem] transition-colors ${C?"bg-brand-gold/20":""}`,children:[l.jsx("span",{className:`text-sm sm:text-sm md:text-sm font-bold ${O||X||w?"text-brand-orange":"text-gray-700 dark:text-gray-300"}`,children:Q.getDate()}),X&&l.jsx("span",{className:"text-xs text-red-500 truncate leading-tight",children:(S=f.get(G))==null?void 0:S.name}),l.jsxs("div",{className:"flex-grow flex flex-wrap gap-0.5 sm:gap-1 md:gap-1 justify-center",children:[u.slice(0,3).map(N=>{var j;return l.jsx("div",{className:`h-2 w-2 sm:h-2 sm:w-2 md:h-2 md:w-2 rounded-full ${N.isRequest&&N.status===W.PENDING?"bg-yellow-400":"bg-brand-blue"}`,title:`${N.customer_name} - ${((j=N.slots)==null?void 0:j.join(", "))||"Full Day"}${N.isRequest?" (REQUEST)":""}`},N.id)}),u.length>3&&l.jsx("div",{className:"h-2 w-2 sm:h-2 sm:w-2 md:h-2 md:w-2 rounded-full bg-gray-400 text-xs flex items-center justify-center",title:`${u.length-3} more...`})]}),(o==null?void 0:o.role)===st.ADMIN&&l.jsx("button",{onClick:()=>a(Q),className:"absolute top-0.5 right-0.5 sm:top-1 sm:right-1 md:top-1 md:right-1 h-2 w-2 sm:h-6 sm:w-6 md:h-7 md:w-7 flex items-center justify-center opacity-60 text-brand-orange hover:text-brand-orange/80 sm:opacity-0 sm:group-hover:opacity-100 transition-all transform hover:scale-110 active:scale-95 touch-manipulation z-10",children:l.jsx("div",{className:"flex items-center justify-center",children:l.jsx(Sa,{size:6,className:"sm:w-[12px] sm:h-[12px] md:w-[16px] md:h-[16px]"})})}),u.length>0&&l.jsx("div",{className:"absolute top-6 sm:top-8 left-0 w-full p-0.5 sm:p-2 opacity-0 pointer-events-none group-hover:opacity-100 group-hover:pointer-events-auto transition-opacity duration-300 z-20",children:l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl p-1.5 sm:p-3 max-w-xs w-full border dark:border-gray-700",children:[l.jsx("h4",{className:"font-bold text-xs sm:text-sm mb-1 sm:mb-2 text-gray-800 dark:text-gray-200",children:Q.toLocaleDateString("en-GB",{weekday:"short",day:"numeric"})}),l.jsx("div",{className:"space-y-0.5 sm:space-y-1 max-h-32 sm:max-h-40 overflow-y-auto",children:u.map(N=>{var j;return l.jsx("div",{onClick:()=>a(Q,N),className:`p-1 sm:p-1.5 rounded cursor-pointer text-xs sm:text-xs ${N.isRequest&&N.status===W.PENDING?"bg-yellow-50 dark:bg-yellow-900/20 text-yellow-700 dark:text-yellow-300 border border-yellow-200 dark:border-yellow-800":"bg-brand-blue/10 dark:bg-brand-blue-light/20 text-brand-dark dark:text-gray-300 hover:bg-brand-blue/20 dark:hover:bg-brand-blue-light/40"}`,children:l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("p",{className:"font-semibold truncate text-xs sm:text-sm",children:[N.customer_name," ",N.isRequest&&"(REQUEST)"]}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-xs mt-0.5",children:N.booking_type===ce.FULL_DAY?"Full Day":(j=N.slots)==null?void 0:j.join(", ")})]}),N.isRequest&&N.status===W.PENDING&&n&&r&&(o==null?void 0:o.role)===st.ADMIN&&l.jsxs("div",{className:"flex gap-0.5 sm:gap-0.5 ml-1 sm:ml-1 flex-shrink-0",children:[l.jsx("button",{onClick:p=>{p.stopPropagation(),n(N.id,s)},className:"p-1 sm:p-1 rounded bg-green-100 text-green-700 hover:bg-green-200 dark:bg-green-900/50 dark:text-green-300 dark:hover:bg-green-900/70 flex items-center justify-center min-w-[24px] min-h-[24px] sm:min-w-[24px] sm:min-h-[24px]",title:"Approve Request",children:l.jsx(cr,{size:10,className:"sm:w-[10px] sm:h-[10px]"})}),l.jsx("button",{onClick:p=>{p.stopPropagation(),r(N.id,s)},className:"p-1 sm:p-1 rounded bg-red-100 text-red-700 hover:bg-red-200 dark:bg-red-900/50 dark:text-red-300 dark:hover:bg-red-900/70 flex items-center justify-center min-w-[24px] min-h-[24px] sm:min-w-[24px] sm:min-h-[24px]",title:"Reject Request",children:l.jsx(ht,{size:10,className:"sm:w-[10px] sm:h-[10px]"})})]})]})},N.id)})})]})})]},G)})})]}),Z=()=>l.jsx("div",{className:"space-y-2 sm:space-y-3",children:k.filter(Q=>Q).map(Q=>{if(!Q)return null;const V=hi(Q),G=D.get(V)||[],I=Q.toDateString()===new Date().toDateString(),O=Q.getDay()===0||Q.getDay()===6,X=f.get(V),w=E(Q);return l.jsxs("div",{className:`p-3 sm:p-4 rounded-lg ${I?"bg-brand-gold/20":"bg-gray-50 dark:bg-gray-700/50"}`,children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("p",{className:`font-bold text-sm sm:text-base text-gray-800 dark:text-gray-200 ${O||X||w?"text-brand-orange":""}`,children:Q.toLocaleDateString("en-GB",{weekday:"short",day:"numeric",month:"short"})}),X&&l.jsx("p",{className:"text-xs text-red-500",children:X.name})]}),(o==null?void 0:o.role)===st.ADMIN&&l.jsx("button",{onClick:()=>a(Q),className:"h-3 w-3 sm:h-7 sm:w-7 flex items-center justify-center text-brand-orange hover:text-brand-orange/80 transition-all transform hover:scale-110",children:l.jsx("div",{className:"flex items-center justify-center",children:l.jsx(Sa,{size:8,className:"sm:w-[18px] sm:h-[18px]"})})})]}),l.jsx("div",{className:"mt-2 space-y-1.5 sm:space-y-2",children:G.length>0?G.map(C=>{var u;return l.jsx("div",{onClick:()=>a(Q,C),className:`p-2 sm:p-2.5 rounded shadow-sm cursor-pointer ${C.isRequest&&C.status===W.PENDING?"bg-yellow-50 dark:bg-yellow-900/20 border-l-4 border-yellow-400":"bg-white dark:bg-gray-800 border-l-4 border-brand-blue"}`,children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("p",{className:"font-semibold text-xs sm:text-sm text-gray-800 dark:text-gray-200 truncate",children:[C.customer_name," ",C.isRequest&&"(REQUEST)"]}),l.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400 truncate",children:[C.booking_type===ce.FULL_DAY?"Full Day":(u=C.slots)==null?void 0:u.join(", ")," - ",(()=>{const S=C.net_number&&(Array.isArray(C.net_number)?C.net_number.length:C.net_number)?Array.isArray(C.net_number)?C.net_number.map(N=>`Net ${N}`).join(", "):`Net ${C.net_number}`:"";return C.event_type?`${C.event_type}${S?` (${S})`:""}`:S||"No details"})()]})]}),C.isRequest&&C.status===W.PENDING&&n&&r&&(o==null?void 0:o.role)===st.ADMIN&&l.jsxs("div",{className:"flex gap-0.5 sm:gap-1 ml-2 flex-shrink-0",children:[l.jsx("button",{onClick:S=>{S.stopPropagation(),n(C.id,s)},className:"p-0.5 sm:p-1 rounded bg-green-100 text-green-700 hover:bg-green-200 dark:bg-green-900/50 dark:text-green-300 dark:hover:bg-green-900/70 flex items-center justify-center",title:"Approve Request",children:l.jsx(cr,{size:10,className:"sm:w-[12px] sm:h-[12px]"})}),l.jsx("button",{onClick:S=>{S.stopPropagation(),r(C.id,s)},className:"p-0.5 sm:p-1 rounded bg-red-100 text-red-700 hover:bg-red-200 dark:bg-red-900/50 dark:text-red-300 dark:hover:bg-red-900/70 flex items-center justify-center",title:"Reject Request",children:l.jsx(ht,{size:10,className:"sm:w-[12px] sm:h-[12px]"})})]})]})},C.id)}):l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"No bookings."})})]},V)})}),Y=()=>l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-2 sm:mb-3 gap-2 sm:gap-3",children:[l.jsx("div",{className:"text-lg sm:text-xl lg:text-2xl font-display font-bold text-brand-dark dark:text-white text-center sm:text-left",children:x.toLocaleString("default",{month:"long",year:"numeric"})}),l.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2 text-gray-700 dark:text-gray-300 w-full sm:w-auto justify-center sm:justify-end",children:[(o==null?void 0:o.role)===st.ADMIN&&i&&l.jsx("button",{onClick:i,className:"p-2 sm:p-2.5 rounded-full bg-gradient-to-r from-orange-100 to-orange-200 dark:from-orange-900/30 dark:to-orange-800/30 hover:from-orange-200 hover:to-orange-300 dark:hover:from-orange-800/40 dark:hover:to-orange-700/40 transition-all transform hover:scale-110 active:scale-95 shadow-sm hover:shadow-md flex items-center justify-center min-w-[40px] min-h-[40px] sm:min-w-[40px] sm:min-h-[40px]",title:"Manage Special Dates",children:l.jsx(lt,{size:16,className:"sm:w-4 sm:h-4 text-brand-orange"})}),l.jsx("button",{onClick:z,className:"p-1.5 sm:p-1.5 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors flex items-center justify-center min-w-[36px] min-h-[36px] sm:min-w-[32px] sm:min-h-[32px]",children:l.jsx(go,{size:16,className:"sm:w-4 sm:h-4"})}),l.jsx("button",{onClick:B,className:"px-3 py-1.5 text-xs sm:text-xs font-semibold rounded hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors min-w-[50px]",children:"Today"}),l.jsx("button",{onClick:U,className:"p-1.5 sm:p-1.5 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors flex items-center justify-center min-w-[36px] min-h-[36px] sm:min-w-[32px] sm:min-h-[32px]",children:l.jsx(xo,{size:16,className:"sm:w-4 sm:h-4"})}),l.jsxs("div",{className:"ml-1 sm:ml-2 border-l dark:border-gray-600 pl-1 sm:pl-2 flex space-x-0.5 sm:space-x-1",children:[l.jsx("button",{onClick:()=>m("grid"),className:`p-1.5 sm:p-1.5 rounded-lg flex items-center justify-center min-w-[32px] min-h-[32px] sm:min-w-[32px] sm:min-h-[32px] ${b==="grid"?"bg-brand-blue/10 text-brand-blue dark:bg-brand-blue-light/20 dark:text-white":"hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:l.jsx(dr,{size:14,className:"sm:w-4 sm:h-4"})}),l.jsx("button",{onClick:()=>m("list"),className:`p-1.5 sm:p-1.5 rounded-lg flex items-center justify-center min-w-[32px] min-h-[32px] sm:min-w-[32px] sm:min-h-[32px] ${b==="list"?"bg-brand-blue/10 text-brand-blue dark:bg-brand-blue-light/20 dark:text-white":"hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:l.jsx(ur,{size:14,className:"sm:w-4 sm:h-4"})})]})]})]}),P=()=>l.jsxs("div",{className:"flex items-center justify-center space-x-1 text-gray-700 dark:text-gray-300 mt-2 sm:mt-3",children:[l.jsx("button",{onClick:z,className:"p-1 sm:p-1.5 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors flex items-center justify-center",children:l.jsx(go,{size:16,className:"sm:w-4 sm:h-4"})}),l.jsx("button",{onClick:B,className:"px-2 py-1 text-xs font-semibold rounded hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:"Today"}),l.jsx("button",{onClick:U,className:"p-1 sm:p-1.5 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors flex items-center justify-center",children:l.jsx(xo,{size:16,className:"sm:w-4 sm:h-4"})}),l.jsxs("div",{className:"ml-1 border-l dark:border-gray-600 pl-1 flex space-x-0.5",children:[l.jsx("button",{onClick:()=>m("grid"),className:`p-1 sm:p-1.5 rounded-lg flex items-center justify-center ${b==="grid"?"bg-brand-blue/10 text-brand-blue dark:bg-brand-blue-light/20 dark:text-white":"hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:l.jsx(dr,{size:14,className:"sm:w-4 sm:h-4"})}),l.jsx("button",{onClick:()=>m("list"),className:`p-1 sm:p-1.5 rounded-lg flex items-center justify-center ${b==="list"?"bg-brand-blue/10 text-brand-blue dark:bg-brand-blue-light/20 dark:text-white":"hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:l.jsx(ur,{size:14,className:"sm:w-4 sm:h-4"})})]})]});return l.jsx("div",{className:"p-1 sm:p-3 bg-white dark:bg-gray-800 rounded-xl shadow-lg h-full flex flex-col",children:b==="grid"?l.jsxs(l.Fragment,{children:[Y(),l.jsx("div",{className:"flex-grow",children:H()}),window.innerWidth<768&&P()]}):l.jsxs(l.Fragment,{children:[Y(),l.jsx("div",{className:"flex-grow overflow-y-auto",children:Z()}),P()]})})},ob=({bookings:e,bookingRequests:t,system:a,onBookingRequest:s})=>{const{user:n,specialDates:r}=_.useContext(Ht),[i,o]=_.useState(new Date),[c,x]=_.useState(null),[h,b]=_.useState(!1),[m,f]=_.useState("grid"),[E,D]=_.useState(!1),[q,g]=_.useState(null),[d,y]=_.useState({customer_name:"",customer_contact:"",customer_email:"",event_type:"",net_number:[],booking_type:ce.SLOT,slots:[],notes:"",payment_status:"Unpaid",payment_amount:0}),[k,z]=_.useState(0),[U,B]=_.useState({}),[H,Z]=_.useState(""),Y=_.useMemo(()=>a==="ground"?Ar:Cr,[a]),P=A=>{const K=A.getDay();return K===0||K===6},Q=A=>{const K=S(A);return r.some(J=>{if(!J.is_active)return!1;if(J.date===K)return!0;if(J.start_date&&J.end_date){const se=new Date(J.start_date),de=new Date(J.end_date),ke=new Date(K);return ke>=se&&ke<=de}return!1})},V=A=>{if(P(A)||Q(A))return Y;{const K=[];return a==="ground"?Y.forEach(J=>{if(J.split(" - ")[0]==="01:30 PM"){const de=Y.indexOf(J);K.push(...Y.slice(de))}}):Y.forEach(J=>{if(J.split(" - ")[0]==="02:00 PM"){const de=Y.indexOf(J);K.push(...Y.slice(de))}}),K}},G=A=>M(A).some(J=>J.booking_type===ce.SLOT&&J.status===W.CONFIRMED),I=A=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(A),O=A=>A.trim().split(/\s+/).filter(J=>J.length>0).length>5?"Name should not exceed 5 words":null,X=A=>A.replace(/\D/g,"").length>10?"Contact number should not exceed 10 digits":null,w=A=>A.trim().split(/\s+/).filter(J=>J.length>0).length>1?"Event type should be one word only":null,C=A=>{y(K=>{const J=K.net_number.includes(A)?K.net_number.filter(se=>se!==A):[...K.net_number,A];return{...K,net_number:J}})},u=()=>{const A={};if(d.customer_name){const J=O(d.customer_name);J&&(A.customer_name=J)}if(d.customer_contact){const J=X(d.customer_contact);J&&(A.customer_contact=J)}if(d.customer_email){const J=I(d.customer_email)?null:"Please enter a valid email address";J&&(A.customer_email=J)}if(d.event_type){const J=w(d.event_type);J&&(A.event_type=J)}a==="net"&&d.net_number.length===0&&(A.net_selection="Please select at least one net"),B(A);const K=Object.keys(A).length>0;return Z(K?"Please fix the errors above before submitting.":""),!K},S=A=>{const K=A.getFullYear(),J=(A.getMonth()+1).toString().padStart(2,"0"),se=A.getDate().toString().padStart(2,"0");return`${K}-${J}-${se}`},N=A=>{const K=A.getFullYear(),J=A.getMonth(),se=new Date(K,J,1),de=new Date(se);de.setDate(de.getDate()-se.getDay());const ke=[];for(let Re=0;Re<42;Re++)ke.push(new Date(de)),de.setDate(de.getDate()+1);return ke},j=()=>{o(new Date(i.getFullYear(),i.getMonth()-1,1))},p=()=>{o(new Date(i.getFullYear(),i.getMonth()+1,1))},v=()=>{o(new Date)},T=A=>{const K=new Date;return K.setHours(0,0,0,0),A<K},M=A=>{const K=S(A);return e.filter(se=>se.date===K)},$=(A,K)=>{if(!V(A).includes(K))return!1;const de=M(A);return!(de.find(Et=>Et.booking_type===ce.FULL_DAY&&Et.status==="confirmed")||de.find(Et=>{var Ca;return Et.booking_type===ce.SLOT&&((Ca=Et.slots)==null?void 0:Ca.includes(K))&&Et.status==="confirmed"}))},F=A=>M(A).find(de=>de.booking_type===ce.FULL_DAY&&de.status==="confirmed")?!0:V(A).filter(de=>$(A,de)).length===0,ee=A=>T(A)?"past":F(A)?"booked":"available",re=A=>{ee(A)==="available"&&!T(A)&&(x(A),b(!0))},ie=async A=>{if(console.log(" Starting booking submission process..."),!u()){console.log(" Form validation failed");return}if(console.log(" Form validation passed"),s&&c)try{const K={...A,date:S(c),system:a,status:"pending",submitted_at:new Date().toISOString(),created_at:new Date().toISOString()},J=a==="net"?{...K,event_type:"Indoor Net Practice"}:K;console.log(" Submitting booking request:",J);const se=await s(J);console.log(" Received response:",se);const de=se&&Array.isArray(se)&&se[0]?se[0].request_number:null;if(console.log(" Extracted request number:",de),de)console.log(" Request submitted successfully, showing success message"),b(!1),x(null),setTimeout(()=>{g(de),D(!0),console.log(" Success message displayed with request number:",de)},100);else throw console.error(" No request number received in response:",se),new Error("Request submitted but no tracking number was generated")}catch(K){console.error(" Booking submission error:",K),Z(`Failed to submit booking request: ${K instanceof Error?K.message:"Unknown error"}`)}else console.error(" Booking request handler not available"),Z("Booking request handler not available. Please try again.")},te=N(i),_e=new Date,We=()=>l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border dark:border-gray-700",children:[l.jsx("div",{className:"grid grid-cols-7 text-center font-semibold text-gray-500 dark:text-gray-400 border-b dark:border-gray-700 pb-1 text-xs",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(A=>l.jsx("div",{className:"py-0.5",children:A},A))}),l.jsx("div",{className:"grid grid-cols-7",children:te.map((A,K)=>{S(A);const J=A.getMonth()===i.getMonth(),se=A.toDateString()===_e.toDateString(),de=A.getDay()===0||A.getDay()===6,ke=ee(A);return M(A),l.jsxs("div",{onClick:()=>re(A),className:`group border-r border-b dark:border-gray-700 p-0.5 flex flex-col relative min-h-[3rem] sm:min-h-[4rem] transition-all duration-200 ${se?"bg-brand-gold/20":""} ${ke==="available"&&J?"hover:bg-brand-blue/10 cursor-pointer hover:scale-[1.02]":ke==="booked"&&J?"cursor-not-allowed":""}`,children:[l.jsxs("div",{className:"flex items-center justify-between w-full mb-0.5",children:[l.jsx("span",{className:`text-xs font-bold ${J?de||Q(A)?"text-brand-orange":"text-gray-700 dark:text-gray-300":"text-gray-400 dark:text-gray-500"} ${ke==="available"?"text-brand-orange":""}`,children:A.getDate()}),ke==="available"&&J&&l.jsx(Sa,{size:8,className:"text-brand-orange opacity-60"})]}),ke==="available"&&J&&l.jsxs("div",{className:"mt-auto text-xs text-green-600 dark:text-green-400 font-medium",children:[l.jsx("span",{className:"sm:hidden",children:""}),l.jsx("span",{className:"hidden sm:inline",children:"Available"})]}),ke==="booked"&&J&&l.jsx("div",{className:"mt-auto",children:l.jsxs("div",{className:"text-xs text-red-500 font-medium",children:[l.jsx("span",{className:"sm:hidden",children:""}),l.jsx("span",{className:"hidden sm:inline",children:"Booked"})]})}),ke==="past"&&l.jsxs("div",{className:"mt-auto text-xs text-gray-400",children:[l.jsx("span",{className:"sm:hidden",children:""}),l.jsx("span",{className:"hidden sm:inline",children:"Past"})]})]},K)})})]}),bt=()=>l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border dark:border-gray-700",children:[l.jsxs("div",{className:"p-2 sm:p-3 border-b dark:border-gray-700",children:[l.jsx("h3",{className:"font-semibold text-gray-800 dark:text-gray-200 text-sm",children:"Available Dates"}),l.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-0.5",children:"Click on any available date to make a booking"})]}),l.jsx("div",{className:"max-h-96 overflow-y-auto",children:te.filter(A=>A&&A.getMonth()===i.getMonth()).map((A,K)=>{const J=S(A),se=A.getMonth()===i.getMonth(),de=A.toDateString()===_e.toDateString(),ke=A.getDay()===0||A.getDay()===6,Re=ee(A);return M(A),se?l.jsx("div",{onClick:()=>re(A),className:`group border-b dark:border-gray-700 p-3 sm:p-4 transition-all duration-300 hover:shadow-sm ${de?"bg-brand-gold/10":""} ${Re==="available"?"hover:bg-brand-blue/5 cursor-pointer bg-green-50/30 dark:bg-green-900/10 hover:scale-[1.01]":Re==="booked"?"cursor-not-allowed bg-red-50/30 dark:bg-red-900/10":"bg-gray-50/30 dark:bg-gray-800/50"}`,style:{animationDelay:`${K*50}ms`},children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx("span",{className:`font-bold text-sm sm:text-base ${de||ke||Q(A)?"text-brand-orange":"text-gray-800 dark:text-gray-200"}`,children:A.toLocaleDateString("en-GB",{weekday:"long",day:"numeric",month:"short"})}),de&&l.jsx("span",{className:"px-2 py-0.5 bg-brand-orange text-white text-xs rounded-full font-medium animate-pulse",children:"Today"})]}),l.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm",children:[l.jsx("span",{className:`px-2 py-1 rounded-full font-medium transition-all ${Re==="available"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300":Re==="booked"?"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-300":"bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-400"}`,children:Re==="available"?" Available":Re==="booked"?" Booked":" Past"}),Re==="available"&&l.jsxs("span",{className:"text-green-600 dark:text-green-400 font-medium flex items-center gap-1",children:[l.jsx("span",{className:"w-1.5 h-1.5 bg-green-500 rounded-full animate-pulse"}),"Click to book slots"]}),Re==="booked"&&l.jsx("span",{className:"text-red-600 dark:text-red-400 font-medium",children:"No slots available"}),Re==="past"&&l.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Not available for booking"})]})]}),l.jsx("div",{className:"flex items-center gap-2",children:Re==="available"&&l.jsx("div",{className:"h-7 w-7 bg-brand-orange text-white rounded-full flex items-center justify-center shadow-sm hover:shadow-md transition-all transform hover:scale-110",children:l.jsx(Sa,{size:14})})})]})},J):null})})]});return l.jsxs("div",{className:"space-y-2 sm:space-y-3 animate-slideInUp",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-1 sm:mb-2 gap-1 sm:gap-2",children:[l.jsx("div",{className:"text-base sm:text-lg lg:text-xl font-display font-bold text-brand-dark dark:text-white text-center sm:text-left",children:i.toLocaleString("default",{month:"long",year:"numeric"})}),l.jsxs("div",{className:"flex items-center space-x-0.5",children:[l.jsx("button",{onClick:j,className:"p-0.5 sm:p-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:l.jsx(go,{size:14,className:"sm:w-3 sm:h-3"})}),l.jsx("button",{onClick:v,className:"px-1.5 py-0.5 text-xs font-semibold rounded hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:"Today"}),l.jsx("button",{onClick:p,className:"p-0.5 sm:p-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:l.jsx(xo,{size:14,className:"sm:w-3 sm:h-3"})}),l.jsxs("div",{className:"ml-1 border-l dark:border-gray-600 pl-1 flex space-x-0.5",children:[l.jsx("button",{onClick:()=>f("grid"),className:`p-0.5 sm:p-1 rounded-lg transition-all ${m==="grid"?"bg-brand-blue/10 text-brand-blue dark:bg-brand-blue-light/20 dark:text-white":"hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:l.jsx(dr,{size:12,className:"sm:w-3 sm:h-3"})}),l.jsx("button",{onClick:()=>f("list"),className:`p-0.5 sm:p-1 rounded-lg transition-all ${m==="list"?"bg-brand-blue/10 text-brand-blue dark:bg-brand-blue-light/20 dark:text-white":"hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:l.jsx(ur,{size:12,className:"sm:w-3 sm:h-3"})})]})]})]}),m==="grid"?We():bt(),l.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-2 sm:p-3",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx("div",{className:"h-2 w-2 bg-blue-500 rounded-full"}),l.jsx("h3",{className:"font-semibold text-blue-800 dark:text-blue-300 text-xs sm:text-sm",children:"How to Book"})]}),l.jsxs("ul",{className:"text-xs text-blue-700 dark:text-blue-300 space-y-1",children:[l.jsxs("li",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-green-600",children:""}),l.jsx("span",{children:"Available dates are highlighted in green"})]}),l.jsxs("li",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-red-600",children:""}),l.jsx("span",{children:"Fully booked dates are marked in red"})]}),l.jsxs("li",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-gray-500",children:""}),l.jsx("span",{children:"Past dates are not available for booking"})]}),l.jsxs("li",{className:"flex items-center gap-2",children:[l.jsx(Sa,{size:12,className:"text-brand-orange"}),l.jsx("span",{children:"Click available dates to make a booking request"})]}),l.jsxs("li",{className:"flex items-center gap-2",children:[l.jsx(dr,{size:12,className:"text-blue-600"}),l.jsx("span",{children:"Use Grid view for traditional calendar layout"})]}),l.jsxs("li",{className:"flex items-center gap-2",children:[l.jsx(ur,{size:12,className:"text-blue-600"}),l.jsx("span",{children:"Use List view for easier mobile browsing"})]})]})]}),E&&q&&l.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-2 animate-fadeIn",children:l.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-2xl w-full max-w-xs mx-2",children:l.jsxs("div",{className:"p-3 text-center",children:[l.jsx("div",{className:"w-8 h-8 bg-green-100 dark:bg-green-900/20 rounded-full flex items-center justify-center mx-auto mb-2 animate-pulse",children:l.jsx("svg",{className:"w-4 h-4 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),l.jsx("h2",{className:"text-sm font-bold text-green-800 dark:text-green-300 mb-2",children:"Submitted Successfully!"}),l.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-2 mb-2",children:[l.jsx("p",{className:"text-green-800 dark:text-green-300 text-xs font-semibold mb-1",children:"Booking request submitted successfully!"}),l.jsx("p",{className:"text-green-700 dark:text-green-400 text-xs",children:"Our team will review and respond soon."})]}),l.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-2 mb-2",children:[l.jsx("div",{className:"bg-white dark:bg-gray-800 rounded p-1.5 mb-1 border border-blue-200 dark:border-blue-700",children:l.jsx("p",{className:"font-mono text-xs text-blue-600 dark:text-blue-400 font-bold tracking-wider",children:q})}),l.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400",children:" Save this tracking number"})]}),l.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-2 mb-2",children:l.jsxs("div",{className:"text-xs text-amber-700 dark:text-amber-400 space-y-0.5",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("span",{className:"w-1 h-1 bg-amber-500 rounded-full mr-1 flex-shrink-0"}),"Review within 24 hours"]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("span",{className:"w-1 h-1 bg-amber-500 rounded-full mr-1 flex-shrink-0"}),"Notification on approval/rejection"]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("span",{className:"w-1 h-1 bg-amber-500 rounded-full mr-1 flex-shrink-0"}),'Track in "Track Bookings"']})]})}),l.jsx("button",{onClick:()=>{console.log(" Closing success message and resetting state"),D(!1),g(null),b(!1),x(null),y({customer_name:"",customer_contact:"",customer_email:"",event_type:"",net_number:[],booking_type:ce.SLOT,slots:[],notes:"",payment_status:"Unpaid",payment_amount:0}),z(0),B({}),Z(""),console.log(" All states reset successfully")},className:"w-full bg-green-600 hover:bg-green-700 text-white px-3 py-1.5 rounded-lg font-semibold text-sm transition-all duration-200 transform hover:scale-105 shadow-lg hover:shadow-xl",children:" Done"})]})})}),h&&c&&l.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-1 sm:p-2 animate-fadeIn",children:l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-2xl w-full max-w-md md:max-w-2xl max-h-[90vh] flex flex-col",children:[l.jsxs("div",{className:"flex justify-between items-center p-2 sm:p-3 border-b dark:border-gray-700",children:[l.jsxs("h2",{className:"text-base sm:text-lg font-bold text-brand-dark dark:text-white",children:["Request Booking - ",c.toLocaleDateString("en-GB",{weekday:"short",month:"short",day:"numeric"})]}),l.jsx("button",{onClick:()=>b(!1),className:"p-0.5 sm:p-1 rounded-full text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700",children:l.jsx(ht,{size:16,className:"sm:w-[18px] sm:h-[18px]"})})]}),l.jsxs("form",{onSubmit:A=>{A.preventDefault(),ie(d)},className:"p-2 sm:p-3 space-y-2 sm:space-y-3 overflow-y-auto",children:[H&&l.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-2",children:l.jsx("p",{className:"text-red-700 dark:text-red-300 text-xs sm:text-sm",children:H})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold mb-1.5 sm:mb-2 text-gray-800 dark:text-gray-200 text-sm",children:"Booking Type"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[a==="ground"&&l.jsxs("button",{type:"button",onClick:()=>y(A=>({...A,booking_type:ce.FULL_DAY,slots:[]})),disabled:c?G(c)||!P(c)&&!Q(c):!1,className:`p-2 rounded text-center transition-all text-xs sm:text-sm ${d.booking_type===ce.FULL_DAY?"bg-brand-blue text-white ring-2 ring-brand-orange":"bg-gray-100 dark:bg-gray-700 dark:text-gray-300"} ${c&&(G(c)||!P(c)&&!Q(c))?"opacity-50 cursor-not-allowed":"hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:["Full Day Booking",c&&G(c)&&l.jsx("span",{className:"block text-xs",children:"Unavailable"}),c&&!G(c)&&!P(c)&&!Q(c)&&l.jsx("span",{className:"block text-xs",children:"Weekends & special dates only"})]}),l.jsxs("div",{className:`col-span-full ${a==="ground"?"":"md:col-span-2"}`,children:[l.jsx("p",{className:"mb-1 text-xs sm:text-sm font-medium text-gray-600 dark:text-gray-400",children:"Available Slots"}),l.jsxs("div",{className:"grid grid-cols-3 sm:grid-cols-4 gap-1",children:[c&&V(c).map(A=>{var J;const K=!$(c,A);return l.jsxs("button",{type:"button",onClick:()=>{var de;if(K)return;const se=(de=d.slots)!=null&&de.includes(A)?d.slots.filter(ke=>ke!==A):[...d.slots||[],A];y(ke=>({...ke,slots:se,booking_type:se.length>0?ce.SLOT:ce.FULL_DAY}))},disabled:K,className:`p-1 rounded text-xs transition-all flex items-center justify-center ${(J=d.slots)!=null&&J.includes(A)?"bg-brand-blue text-white ring-1 ring-brand-orange":"bg-gray-100 dark:bg-gray-700 dark:text-gray-300"} ${K?"opacity-50 cursor-not-allowed":"hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:[l.jsx("span",{children:A}),K&&l.jsx("span",{className:"block text-xs",children:"(Booked)"})]},A)}),c&&V(c).length===0&&l.jsx("div",{className:"col-span-full text-center text-gray-500 dark:text-gray-400 text-xs py-2",children:"No slots available for this date"})]})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 sm:gap-3 pt-2 sm:pt-3 border-t dark:border-gray-700",children:[l.jsxs("div",{children:[l.jsx("input",{name:"customer_name",value:d.customer_name,onChange:A=>{const K=A.target.value,J=O(K);B(se=>({...se,customer_name:J||""})),y(se=>({...se,customer_name:K}))},type:"text",placeholder:"Customer Name",className:`p-1.5 sm:p-2 border rounded bg-white dark:bg-gray-700 dark:border-gray-600 focus:outline-none focus:ring-1 focus:ring-brand-orange focus:border-transparent transition text-sm ${U.customer_name?"border-red-500":""}`,required:!0}),U.customer_name&&l.jsx("p",{className:"text-red-500 text-xs mt-0.5",children:U.customer_name})]}),l.jsxs("div",{children:[l.jsx("input",{name:"customer_contact",value:d.customer_contact,onChange:A=>{const K=A.target.value,J=X(K);B(se=>({...se,customer_contact:J||""})),y(se=>({...se,customer_contact:K}))},type:"tel",placeholder:"Contact Number",className:`p-1.5 sm:p-2 border rounded bg-white dark:bg-gray-700 dark:border-gray-600 focus:outline-none focus:ring-1 focus:ring-brand-orange focus:border-transparent transition text-sm ${U.customer_contact?"border-red-500":""}`,required:!0}),U.customer_contact&&l.jsx("p",{className:"text-red-500 text-xs mt-0.5",children:U.customer_contact})]}),l.jsxs("div",{children:[l.jsx("input",{name:"customer_email",value:d.customer_email,onChange:A=>{const K=A.target.value,J=I(K)?null:"Please enter a valid email address";B(se=>({...se,customer_email:J||""})),y(se=>({...se,customer_email:K}))},type:"email",placeholder:"Email Address",className:`p-1.5 sm:p-2 border rounded bg-white dark:bg-gray-700 dark:border-gray-600 focus:outline-none focus:ring-1 focus:ring-brand-orange focus:border-transparent transition text-sm ${U.customer_email?"border-red-500":""}`}),U.customer_email&&l.jsx("p",{className:"text-red-500 text-xs mt-0.5",children:U.customer_email})]}),a==="ground"?l.jsxs("div",{children:[l.jsx("input",{name:"event_type",value:d.event_type,onChange:A=>{const K=A.target.value,J=w(K);B(se=>({...se,event_type:J||""})),y(se=>({...se,event_type:K}))},type:"text",placeholder:"Sport / Event Type",className:`p-1.5 sm:p-2 border rounded bg-white dark:bg-gray-700 dark:border-gray-600 focus:outline-none focus:ring-1 focus:ring-brand-orange focus:border-transparent transition text-sm ${U.event_type?"border-red-500":""}`,required:!0}),U.event_type&&l.jsx("p",{className:"text-red-500 text-xs mt-0.5",children:U.event_type})]}):l.jsxs("div",{children:[l.jsx("p",{className:"mb-1.5 text-sm font-medium text-gray-600 dark:text-gray-400",children:"Select Nets"}),l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsx("button",{type:"button",onClick:()=>C("1"),className:`p-2.5 rounded text-center transition-all text-sm ${d.net_number.includes("1")?"bg-brand-blue text-white ring-2 ring-brand-orange":"bg-gray-100 dark:bg-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:"Concrete Net 1"}),l.jsx("button",{type:"button",onClick:()=>C("2"),className:`p-2.5 rounded text-center transition-all text-sm ${d.net_number.includes("2")?"bg-brand-blue text-white ring-2 ring-brand-orange":"bg-gray-100 dark:bg-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:"Concrete Net 2"}),l.jsx("button",{type:"button",onClick:()=>C("3"),className:`p-2.5 rounded text-center transition-all text-sm ${d.net_number.includes("3")?"bg-brand-blue text-white ring-2 ring-brand-orange":"bg-gray-100 dark:bg-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:"Astro Net 1"}),l.jsx("button",{type:"button",onClick:()=>C("4"),className:`p-2.5 rounded text-center transition-all text-sm ${d.net_number.includes("4")?"bg-brand-blue text-white ring-2 ring-brand-orange":"bg-gray-100 dark:bg-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:"Astro Net 2"})]}),U.net_selection&&l.jsx("p",{className:"text-red-500 text-xs mt-1",children:U.net_selection})]})]}),l.jsxs("div",{className:"pt-2 sm:pt-3",children:[l.jsxs("div",{className:"flex justify-between items-center mb-1",children:[l.jsx("label",{className:"text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300",children:"Notes"}),l.jsxs("span",{className:`text-xs ${k>100?"text-red-500":"text-gray-500 dark:text-gray-400"}`,children:[k,"/100"]})]}),l.jsx("textarea",{name:"notes",value:d.notes||"",onChange:A=>{const K=A.target.value.length;z(K),y(J=>({...J,notes:A.target.value}))},placeholder:"Notes...",maxLength:k>100?void 0:100,className:`p-1.5 sm:p-2 border rounded w-full h-16 sm:h-20 bg-white dark:bg-gray-700 dark:border-gray-600 focus:outline-none focus:ring-1 focus:ring-brand-orange focus:border-transparent transition text-xs sm:text-sm ${k>100?"border-red-500":""}`}),k>100&&l.jsx("p",{className:"text-red-500 text-xs mt-0.5",children:"Letter limit exceeded"})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between items-center gap-1.5 sm:gap-2 pt-2 sm:pt-3 border-t dark:border-gray-700",children:[l.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Your booking request will be sent to management for approval."}),l.jsxs("div",{className:"flex flex-col-reverse sm:flex-row w-full sm:w-auto gap-1.5 sm:gap-2",children:[l.jsx("button",{type:"button",onClick:()=>b(!1),className:"w-full sm:w-auto bg-gray-200 text-gray-800 dark:bg-gray-600 dark:text-gray-200 px-2.5 sm:px-3 py-1 sm:py-1.5 rounded text-xs sm:text-sm hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors",children:"Cancel"}),l.jsx("button",{type:"submit",className:"w-full sm:w-auto bg-brand-orange text-white px-2.5 sm:px-3 py-1 sm:py-1.5 rounded text-xs sm:text-sm hover:bg-orange-600 transition-colors",children:"Submit Request"})]})]})]})]})})]})},cb=e=>{const t=e.getFullYear(),a=(e.getMonth()+1).toString().padStart(2,"0"),s=e.getDate().toString().padStart(2,"0");return`${t}-${a}-${s}`},Nl=e=>{const[t,a,s]=e.split("-").map(Number);return new Date(t,a-1,s)},Kd=({title:e,value:t,icon:a,color:s,onClick:n})=>l.jsxs("div",{onClick:n,className:`bg-white dark:bg-gray-800 p-4 sm:p-6 rounded-lg shadow-sm flex items-center justify-between transition-all duration-300 hover:shadow-lg hover:-translate-y-1 transform ${n?"cursor-pointer":""}`,children:[l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:e}),l.jsx("p",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-brand-dark dark:text-white mt-1 break-all",children:t})]}),l.jsx("div",{className:`text-white p-2 sm:p-3 rounded-full flex-shrink-0 ${s}`,children:l.jsx(a,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),db=({booking:e,onClick:t})=>{var s;const a=e.payment_status===$e.PAID;return l.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50 cursor-pointer transition-colors duration-200",onClick:t,children:[l.jsx("td",{className:"py-3 px-3 sm:px-4 text-sm text-gray-800 dark:text-gray-300",children:Nl(e.date).toLocaleDateString("en-GB")}),l.jsx("td",{className:"py-3 px-3 sm:px-4 text-sm text-gray-600 dark:text-gray-400",children:e.booking_type==="full_day"?"Full Day":(s=e.slots)==null?void 0:s.join(", ")}),l.jsx("td",{className:"py-3 px-3 sm:px-4 text-sm font-semibold text-gray-800 dark:text-gray-200",children:e.customer_name}),l.jsx("td",{className:"py-3 px-3 sm:px-4 text-sm text-gray-600 dark:text-gray-400",children:(()=>{const n=e.net_number&&(Array.isArray(e.net_number)?e.net_number.length:e.net_number)?Array.isArray(e.net_number)?e.net_number.map(r=>`Net ${r}`).join(", "):`Net ${e.net_number}`:"";return e.event_type?`${e.event_type}${n?` (${n})`:""}`:n||"No details"})()}),l.jsx("td",{className:"py-3 px-3 sm:px-4 text-sm text-gray-800 dark:text-gray-300",children:e.payment_amount.toLocaleString("en-IN",{style:"currency",currency:"INR"})}),l.jsx("td",{className:"py-3 px-3 sm:px-4 text-sm",children:l.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${a?"bg-green-100 text-green-700 dark:bg-green-900/50 dark:text-green-300":"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/50 dark:text-yellow-300"}`,children:e.payment_status})})]})},ub=({booking:e,onClick:t})=>{var s;const a=e.payment_status===$e.PAID;return l.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 sm:p-4 rounded-lg shadow-sm border-l-4 border-brand-blue transition-all duration-300 hover:shadow-md transform hover:scale-[1.02] cursor-pointer",onClick:t,children:[l.jsxs("div",{className:"flex justify-between items-start mb-2",children:[l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsx("p",{className:"font-bold text-gray-800 dark:text-gray-200 truncate",children:e.customer_name}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:(()=>{const n=e.net_number&&(Array.isArray(e.net_number)?e.net_number.length:e.net_number)?Array.isArray(e.net_number)?e.net_number.map(r=>`Net ${r}`).join(", "):`Net ${e.net_number}`:"";return e.event_type?`${e.event_type}${n?` (${n})`:""}`:n||"No details"})()})]}),l.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full flex-shrink-0 ml-2 ${a?"bg-green-100 text-green-700 dark:bg-green-900/50 dark:text-green-300":"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/50 dark:text-yellow-300"}`,children:e.payment_status})]}),l.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 my-2"}),l.jsxs("div",{className:"text-sm text-gray-700 dark:text-gray-300 space-y-1",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Date:"})," ",Nl(e.date).toLocaleDateString("en-GB")]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Time:"})," ",e.booking_type==="full_day"?"Full Day":(s=e.slots)==null?void 0:s.join(", ")]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Amount:"})," ",e.payment_amount.toLocaleString("en-IN",{style:"currency",currency:"INR"})]})]})]})},Jd=({bookings:e,openModal:t,onBookingsCardClick:a,onRevenueCardClick:s})=>{const n=_.useMemo(()=>{const i=new Date,o=new Date(i.getFullYear(),i.getMonth(),1),c=new Date(i.getFullYear(),i.getMonth()+1,0),h=e.filter(b=>b.status==="confirmed").filter(b=>{const m=Nl(b.date);return m>=o&&m<=c});return{bookingsThisMonth:h.length,revenueThisMonth:h.reduce((b,m)=>b+m.payment_amount,0)}},[e]),r=_.useMemo(()=>{const o=cb(new Date);return e.filter(c=>c.status==="confirmed"&&c.date>=o).sort((c,x)=>c.date.localeCompare(x.date))},[e]);return l.jsxs("div",{className:"space-y-8 animate-slideInUp",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-200",children:"Dashboard Overview"}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[l.jsx(Kd,{title:"Total Bookings This Month",value:n.bookingsThisMonth,icon:lt,color:"bg-blue-500",onClick:a}),l.jsx(Kd,{title:"Revenue This Month",value:n.revenueThisMonth.toLocaleString("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0}),icon:Xh,color:"bg-green-500",onClick:s})]}),l.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 sm:p-4 lg:p-6 rounded-lg shadow-sm",children:[l.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-800 dark:text-gray-200 mb-3 sm:mb-4",children:"Upcoming Bookings"}),l.jsx("div",{className:"hidden lg:block overflow-x-auto",children:l.jsxs("table",{className:"w-full min-w-[600px]",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-gray-50 dark:bg-gray-700/50 text-left text-xs text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[l.jsx("th",{className:"py-3 px-3 sm:px-4 font-semibold",children:"Date"}),l.jsx("th",{className:"py-3 px-3 sm:px-4 font-semibold",children:"Time"}),l.jsx("th",{className:"py-3 px-3 sm:px-4 font-semibold",children:"Customer"}),l.jsx("th",{className:"py-3 px-3 sm:px-4 font-semibold",children:"Details"}),l.jsx("th",{className:"py-3 px-3 sm:px-4 font-semibold",children:"Payment"}),l.jsx("th",{className:"py-3 px-3 sm:px-4 font-semibold",children:"Status"})]})}),l.jsx("tbody",{children:r.length>0?r.map(i=>l.jsx(db,{booking:i,onClick:()=>t(Nl(i.date),i)},i.id)):l.jsx("tr",{children:l.jsx("td",{colSpan:6,className:"text-center py-10 text-gray-500 dark:text-gray-400",children:"No upcoming bookings"})})})]})}),l.jsx("div",{className:"lg:hidden space-y-3 sm:space-y-4",children:r.length>0?r.map(i=>l.jsx(ub,{booking:i,onClick:()=>t(Nl(i.date),i)},i.id)):l.jsx("p",{className:"text-center py-8 sm:py-10 text-gray-500 dark:text-gray-400",children:"No upcoming bookings"})})]})]})},oa=e=>{const[t,a,s]=e.split("-").map(Number);return new Date(t,a-1,s)},Ra=({label:e,value:t,activeValue:a,onClick:s})=>l.jsx("button",{onClick:()=>s(t),className:`px-2 py-1 text-xs font-semibold rounded transition-colors ${a===t?"bg-brand-blue text-white shadow-sm":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:e}),mb=({booking:e,onClick:t,onApprove:a,onReject:s,onDelete:n,onEdit:r,userRole:i,isApproving:o,isRejecting:c,isDeleting:x})=>{var f;const h=e.payment_status===$e.PAID,b=e.status===W.PENDING,m=e.isRequest;return l.jsxs("div",{className:`p-2.5 rounded-lg shadow-sm cursor-pointer ${m?"bg-yellow-50 dark:bg-yellow-900/20 border-l-4 border-yellow-400":"bg-white dark:bg-gray-800 border-l-4 border-brand-orange"}`,onClick:t,children:[l.jsxs("div",{className:"flex justify-between items-start mb-1.5",children:[l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx("p",{className:"font-bold text-gray-800 dark:text-gray-200 truncate text-sm",children:e.customer_name}),m&&l.jsx("span",{className:"px-1.5 py-0.5 text-xs font-semibold rounded-full bg-yellow-100 text-yellow-700 dark:bg-yellow-900/50 dark:text-yellow-300",children:"REQ"})]}),l.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:l.jsx("span",{className:"truncate block",children:(()=>{const E=e.net_number&&(Array.isArray(e.net_number)?e.net_number.length:e.net_number)?Array.isArray(e.net_number)?e.net_number.map(D=>`Net ${D}`).join(", "):`Net ${e.net_number}`:"";return e.event_type?`${e.event_type}${E?` (${E})`:""}`:E||"No details"})()})})]}),l.jsxs("div",{className:"flex items-center gap-1.5 flex-shrink-0 ml-2",children:[l.jsx("span",{className:`px-1.5 py-0.5 text-xs font-semibold rounded-full ${h?"bg-green-100 text-green-700 dark:bg-green-900/50 dark:text-green-300":"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/50 dark:text-yellow-300"}`,children:h?"PAID":"UNPAID"}),m&&i==="admin"&&l.jsxs("div",{className:"flex gap-0.5",children:[b&&a&&s&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:E=>{E.stopPropagation(),a()},disabled:o,className:`p-0.5 rounded bg-green-100 text-green-700 hover:bg-green-200 dark:bg-green-900/50 dark:text-green-300 dark:hover:bg-green-900/70 disabled:opacity-50 disabled:cursor-not-allowed ${o?"cursor-wait":""}`,title:"Approve Request",children:o?l.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border border-green-700 border-t-transparent"}):l.jsx(cr,{size:14})}),l.jsx("button",{onClick:E=>{E.stopPropagation(),s()},disabled:c,className:`p-0.5 rounded bg-red-100 text-red-700 hover:bg-red-200 dark:bg-red-900/50 dark:text-red-300 dark:hover:bg-red-900/70 disabled:opacity-50 disabled:cursor-not-allowed ${c?"cursor-wait":""}`,title:"Reject Request",children:c?l.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border border-red-700 border-t-transparent"}):l.jsx(ht,{size:14})})]}),r&&l.jsx("button",{onClick:E=>{E.stopPropagation(),r()},className:"p-0.5 rounded bg-blue-100 text-blue-700 hover:bg-blue-200 dark:bg-blue-900/50 dark:text-blue-300 dark:hover:bg-blue-900/70",title:"Edit Request",children:l.jsx(yc,{size:14})}),l.jsx("button",{onClick:E=>{var D;E.stopPropagation(),n&&window.confirm(` PERMANENT DELETION WARNING 

Are you sure you want to delete this booking request?

This will:
 Permanently delete the request from the database
 Remove all associated data and records
 Cannot be undone or recovered

Customer: ${e.customer_name}
Date: ${oa(e.date).toLocaleDateString("en-GB")}
Time: ${e.booking_type==="full_day"?"Full Day":(D=e.slots)==null?void 0:D.join(", ")}

Click "OK" to permanently delete this request, or "Cancel" to keep it.`)&&n()},disabled:x,className:`p-0.5 rounded bg-gray-100 text-gray-700 hover:bg-gray-200 dark:bg-gray-900/50 dark:text-gray-300 dark:hover:bg-gray-900/70 disabled:opacity-50 disabled:cursor-not-allowed ${x?"cursor-wait":""}`,title:"Delete Request",children:x?l.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border border-gray-700 border-t-transparent"}):l.jsx(Tr,{size:14})})]})]})]}),l.jsx("div",{className:"border-t dark:border-gray-700 my-1.5"}),l.jsxs("div",{className:"text-xs text-gray-700 dark:text-gray-300 space-y-0.5",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("span",{children:[l.jsx("strong",{children:"Date:"})," ",oa(e.date).toLocaleDateString("en-GB")]}),l.jsxs("span",{children:[l.jsx("strong",{children:"Amount:"})," ",e.payment_amount]})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("span",{children:[l.jsx("strong",{children:"Time:"})," ",e.booking_type==="full_day"?"Full Day":(f=e.slots)==null?void 0:f.join(", ")]}),e.status&&l.jsx("span",{className:`px-1.5 py-0.5 text-xs font-semibold rounded-full ${e.status===W.PENDING?"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/50 dark:text-yellow-300":e.status===W.APPROVED?"bg-blue-100 text-blue-700 dark:bg-blue-900/50 dark:text-blue-300":e.status===W.CONFIRMED?"bg-green-100 text-green-700 dark:bg-green-900/50 dark:text-green-300":"bg-gray-100 text-gray-700 dark:bg-gray-900/50 dark:text-gray-300"}`,children:e.status.charAt(0).toUpperCase()+e.status.slice(1).toLowerCase()})]}),e.notes&&l.jsxs("div",{className:"mt-2 p-2 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded",children:[l.jsx("span",{className:"text-xs font-medium text-blue-800 dark:text-blue-300",children:l.jsx("strong",{children:"Notes:"})}),l.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-400 mt-1 leading-relaxed",children:e.notes})]})]})]})},fb=({bookings:e,bookingRequests:t,openModal:a,initialDateFilter:s,clearInitialFilter:n,onApproveRequest:r,onRejectRequest:i,onDeleteRequest:o,onEditRequest:c,onDataRefresh:x,system:h="ground"})=>{const{user:b,deleteBookingRequest:m}=_.useContext(Ht),[f,E]=_.useState(null),[D,q]=_.useState(null),[g,d]=_.useState(null),y=async(u,S)=>{if(!D){q(u);try{await(r==null?void 0:r(u,S)),console.log(` Request ${u} approved successfully`),setTimeout(()=>{x==null||x()},500)}catch(N){console.error(" Error approving request:",N);let j="Error approving request. Please try again.";N.message&&(N.message.includes("Access denied")?j="Access denied: Insufficient permissions to approve requests.":N.message.includes("not found")?j="Request not found. It may have already been processed.":N.message.includes("already approved")?j="Request has already been approved.":N.message.includes("Failed to approve")?j=`Failed to approve request: ${N.message.replace("Failed to approve booking request: ","")}`:j=`Error: ${N.message}`),alert(j),console.error("Approve operation context:",{requestId:u,system:S,userRole:b==null?void 0:b.role,timestamp:new Date().toISOString()})}finally{q(null)}}},k=async(u,S)=>{if(!g){d(u);try{await(i==null?void 0:i(u,S)),console.log(` Request ${u} rejected successfully`),setTimeout(()=>{x==null||x()},500)}catch(N){console.error(" Error rejecting request:",N);let j="Error rejecting request. Please try again.";N.message&&(N.message.includes("Access denied")?j="Access denied: Insufficient permissions to reject requests.":N.message.includes("not found")?j="Request not found. It may have already been processed.":N.message.includes("already rejected")?j="Request has already been rejected.":N.message.includes("Failed to reject")?j=`Failed to reject request: ${N.message.replace("Failed to reject booking request: ","")}`:j=`Error: ${N.message}`),alert(j),console.error("Reject operation context:",{requestId:u,system:S,userRole:b==null?void 0:b.role,timestamp:new Date().toISOString()})}finally{d(null)}}},z=async(u,S)=>{if(!f){E(u);try{await(o==null?void 0:o(u,S)),console.log(` Request ${u} deleted successfully`),setTimeout(()=>{x==null||x()},500)}catch(N){console.error(" Error deleting request:",N);let j="Error deleting request. Please try again.";N.message&&(N.message.includes("Access denied")?j="Access denied: Only administrators can delete booking requests.":N.message.includes("not found")?j="Request not found. It may have already been deleted.":N.message.includes("System mismatch")?j="System mismatch error. Please refresh and try again.":N.message.includes("Cannot delete request")?j="Cannot delete this request as it may be referenced by other records.":N.message.includes("Permission denied")?j="Permission denied. You may not have sufficient privileges to delete this request.":N.message.includes("Failed to delete")?j=`Failed to delete request: ${N.message.replace("Failed to delete booking request: ","")}`:N.message.includes("Invalid request")?j=N.message:j=`Error: ${N.message}`),alert(j),console.error("Delete operation context:",{requestId:u,system:S,userRole:b==null?void 0:b.role,timestamp:new Date().toISOString()})}finally{E(null)}}},[U,B]=_.useState(""),[H,Z]=_.useState("all"),[Y,P]=_.useState("all"),[Q,V]=_.useState(s||{start:"",end:""}),[G,I]=_.useState({key:"date",direction:"desc"});_.useEffect(()=>{s&&(V(s),n())},[s,n]);const O=_.useMemo(()=>{let u=[...e.map(S=>({...S,isRequest:!1})),...t.map(S=>({...S,isRequest:!0}))];if(Q.start&&Q.end&&(u=u.filter(S=>S.date>=Q.start&&S.date<=Q.end)),Y==="pending"?u=u.filter(S=>S.status===W.PENDING):Y==="approved"?u=u.filter(S=>S.status===W.APPROVED):Y==="confirmed"?u=u.filter(S=>S.status===W.CONFIRMED):Y==="requests"?u=u.filter(S=>S.isRequest):Y==="bookings"&&(u=u.filter(S=>!S.isRequest)),H==="paid"?u=u.filter(S=>S.payment_status===$e.PAID):H==="unpaid"&&(u=u.filter(S=>S.payment_status===$e.UNPAID)),U){const S=U.toLowerCase();u=u.filter(N=>{const j=N.net_number?Array.isArray(N.net_number)?N.net_number.join(", "):String(N.net_number):"";return N.customer_name.toLowerCase().includes(S)||N.customer_contact.toLowerCase().includes(S)||N.customer_email&&N.customer_email.toLowerCase().includes(S)||N.event_type&&N.event_type.toLowerCase().includes(S)||j.toLowerCase().includes(S)})}return G&&u.sort((S,N)=>{const j=S[G.key],p=N[G.key];return G.key==="date"||G.key==="created_at"?G.direction==="asc"?new Date(j.toString()).getTime()-new Date(p.toString()).getTime():new Date(p.toString()).getTime()-new Date(j.toString()).getTime():j<p?G.direction==="asc"?-1:1:j>p?G.direction==="asc"?1:-1:0}),u},[e,t,U,G,H,Y,Q]),X=u=>{let S="asc";G&&G.key===u&&G.direction==="asc"&&(S="desc"),I({key:u,direction:S})},w=()=>{if(O.length===0){alert("No bookings to export with the current filters.");return}const u=O,S=["S.No","Date","System","Type","Slots","Customer Name","Contact","Email","Event/Indoor Net No.","Payment Status","Amount","Notes"],N=u.map((T,M)=>{var $;return[M+1,T.date,(h==null?void 0:h.charAt(0).toUpperCase())+(h==null?void 0:h.slice(1))||"Ground",T.booking_type,(($=T.slots)==null?void 0:$.join("; "))||"N/A",`"${T.customer_name.replace(/"/g,'""')}"`,T.customer_contact,T.customer_email,`"${(()=>{const F=T.net_number&&(Array.isArray(T.net_number)?T.net_number.length:T.net_number)?Array.isArray(T.net_number)?T.net_number.map(ee=>`Net ${ee}`).join(", "):`Net ${T.net_number}`:"";return T.event_type?`${T.event_type}${F?` (${F})`:""}`:F||"No details"})().replace(/"/g,'""')}"`,T.payment_status,T.payment_amount,`"${(T.notes||"").replace(/"/g,'""')}"`].join(",")}),j="data:text/csv;charset=utf-8,"+[S.join(","),...N].join(`
`),p=encodeURI(j),v=document.createElement("a");v.setAttribute("href",p),v.setAttribute("download",`harvard_house_${h||"ground"}_bookings_filtered.csv`),document.body.appendChild(v),v.click(),document.body.removeChild(v)},C=({sortKey:u,children:S})=>l.jsx("th",{className:"py-2 px-2 font-semibold text-xs text-left",children:l.jsxs("button",{onClick:()=>X(u),className:"flex items-center gap-1 hover:text-brand-blue dark:hover:text-brand-orange",children:[l.jsx("span",{children:S}),l.jsx(Bm,{size:12})]})});return l.jsxs("div",{className:"space-y-3 animate-slideInUp",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h2",{className:"text-lg font-bold text-gray-800 dark:text-gray-200",children:(b==null?void 0:b.role)==="customer"?"My Bookings & Requests":"All Bookings & Requests"}),(b==null?void 0:b.role)==="admin"&&l.jsxs("button",{onClick:w,className:"bg-brand-blue text-white font-semibold px-4 py-2 rounded-lg shadow-md hover:bg-brand-dark transition-all transform hover:scale-105 flex items-center space-x-2",children:[l.jsx(bc,{size:16}),l.jsx("span",{children:"Export CSV"})]})]}),l.jsxs("div",{className:"bg-white dark:bg-gray-800 p-2 rounded-lg shadow-sm space-y-2",children:[l.jsx("div",{className:"flex flex-col sm:flex-row gap-2 items-start sm:items-center",children:l.jsxs("div",{className:"relative w-full sm:w-64",children:[l.jsx(Hm,{className:"absolute left-2 top-1/2 -translate-y-1/2 text-gray-400",size:14}),l.jsx("input",{type:"text",placeholder:"Search...",value:U,onChange:u=>B(u.target.value),className:"w-full pl-7 pr-2 py-1 text-sm border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 rounded-lg shadow-sm focus:outline-none focus:ring-1 focus:ring-brand-orange"})]})}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:"Payment:"}),l.jsxs("div",{className:"flex gap-0.5",children:[l.jsx(Ra,{label:"All",value:"all",activeValue:H,onClick:Z}),l.jsx(Ra,{label:"Paid",value:"paid",activeValue:H,onClick:Z}),l.jsx(Ra,{label:"Unpaid",value:"unpaid",activeValue:H,onClick:Z})]})]}),(b==null?void 0:b.role)!=="customer"&&l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:"Status:"}),l.jsxs("div",{className:"flex gap-0.5",children:[l.jsx(Ra,{label:"All",value:"all",activeValue:Y,onClick:P}),l.jsx(Ra,{label:"Pending",value:"pending",activeValue:Y,onClick:P}),l.jsx(Ra,{label:"Approved",value:"approved",activeValue:Y,onClick:P}),l.jsx(Ra,{label:"Confirmed",value:"confirmed",activeValue:Y,onClick:P})]})]}),l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:"Date:"}),l.jsxs("div",{className:"flex items-center gap-0.5",children:[l.jsx("input",{type:"date",value:Q.start,onChange:u=>V(S=>({...S,start:u.target.value})),className:"p-0.5 text-xs border rounded bg-white dark:bg-gray-700 dark:border-gray-600 w-24"}),l.jsx("span",{className:"text-xs text-gray-500",children:"to"}),l.jsx("input",{type:"date",value:Q.end,onChange:u=>V(S=>({...S,end:u.target.value})),className:"p-0.5 text-xs border rounded bg-white dark:bg-gray-700 dark:border-gray-600 w-24"})]})]})]})]}),l.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm overflow-hidden hidden lg:block",children:l.jsxs("div",{className:"overflow-x-auto",children:[l.jsxs("table",{className:"w-full min-w-[600px]",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-gray-50 dark:bg-gray-700/50 text-left text-xs text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[l.jsx(C,{sortKey:"date",children:"Date"}),l.jsx(C,{sortKey:"customer_name",children:"Customer"}),l.jsx(C,{sortKey:"event_type",children:"Details"}),l.jsx("th",{className:"py-2 px-2 font-semibold text-xs text-left",children:"Notes"}),l.jsx(C,{sortKey:"payment_amount",children:"Amount"}),l.jsx(C,{sortKey:"payment_status",children:"Payment"}),l.jsx(C,{sortKey:"status",children:"Status"}),(b==null?void 0:b.role)!=="customer"&&l.jsx("th",{className:"py-2 px-2 font-semibold text-xs text-center",children:"Actions"})]})}),l.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:O.map(u=>{var S,N,j;return l.jsxs("tr",{onClick:()=>a(oa(u.date),u),className:"hover:bg-gray-50 dark:hover:bg-gray-700/50 cursor-pointer",children:[l.jsx("td",{className:"py-2 px-2 text-sm text-gray-800 dark:text-gray-300 text-left",children:oa(u.date).toLocaleDateString("en-GB")}),l.jsx("td",{className:"py-2 px-2 text-sm font-semibold text-gray-800 dark:text-gray-200 text-left",children:l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx("span",{className:"truncate max-w-[120px]",title:u.customer_name,children:u.customer_name}),u.isRequest&&l.jsx("span",{className:"px-1.5 py-0.5 text-xs font-semibold rounded-full bg-yellow-100 text-yellow-700 dark:bg-yellow-900/50 dark:text-yellow-300",children:"REQ"})]})}),l.jsx("td",{className:"py-2 px-2 text-xs text-gray-600 dark:text-gray-400 max-w-[150px] text-left",children:l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"truncate",title:u.event_type||`Net ${u.net_number}`,children:(()=>{const p=u.net_number&&(Array.isArray(u.net_number)?u.net_number.length:u.net_number)?Array.isArray(u.net_number)?u.net_number.map(v=>`Net ${v}`).join(", "):`Net ${u.net_number}`:"";return u.event_type?`${u.event_type}${p?` (${p})`:""}`:p||"No details"})()}),l.jsxs("span",{className:"text-gray-500 dark:text-gray-500 text-xs",children:["(",u.booking_type==="full_day"?"Full":(S=u.slots)==null?void 0:S.join(","),")"]})]})}),l.jsx("td",{className:"py-2 px-2 text-xs text-gray-600 dark:text-gray-400 max-w-[150px] text-left",children:l.jsx("div",{className:"truncate",title:u.notes||"No notes",children:u.notes||"No notes"})}),l.jsxs("td",{className:"py-2 px-2 text-sm text-gray-800 dark:text-gray-300 font-medium text-left",children:["",u.payment_amount]}),l.jsx("td",{className:"py-2 px-2 text-sm text-left",children:l.jsx("span",{className:`px-1.5 py-0.5 text-xs font-semibold rounded-full ${u.payment_status===$e.PAID?"bg-green-100 text-green-700 dark:bg-green-900/50 dark:text-green-300":"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/50 dark:text-yellow-300"}`,children:u.payment_status===$e.PAID?"PAID":"UNPAID"})}),l.jsx("td",{className:"py-2 px-2 text-sm text-left",children:l.jsx("span",{className:`px-1.5 py-0.5 text-xs font-semibold rounded-full ${u.status===W.PENDING?"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/50 dark:text-yellow-300":u.status===W.APPROVED?"bg-blue-100 text-blue-700 dark:bg-blue-900/50 dark:text-blue-300":u.status===W.CONFIRMED?"bg-green-100 text-green-700 dark:bg-green-900/50 dark:text-green-300":"bg-gray-100 text-gray-700 dark:bg-gray-900/50 dark:text-gray-300"}`,children:((N=u.status)==null?void 0:N.charAt(0))+((j=u.status)==null?void 0:j.slice(1).toLowerCase())})}),(b==null?void 0:b.role)!=="customer"&&l.jsxs("td",{className:"py-2 px-2 text-sm text-center",children:[u.isRequest&&(b==null?void 0:b.role)==="admin"&&l.jsxs("div",{className:"flex justify-center gap-0.5",children:[u.status===W.PENDING&&r&&i&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:p=>{p.stopPropagation(),y(u.id,u.system)},disabled:D===u.id,className:`p-1 rounded bg-green-100 text-green-700 hover:bg-green-200 dark:bg-green-900/50 dark:text-green-300 dark:hover:bg-green-900/70 disabled:opacity-50 disabled:cursor-not-allowed ${D===u.id?"cursor-wait":""}`,title:"Approve Request",children:D===u.id?l.jsx("div",{className:"animate-spin rounded-full h-2.5 w-2.5 border border-green-700 border-t-transparent"}):l.jsx(cr,{size:12})}),l.jsx("button",{onClick:p=>{p.stopPropagation(),k(u.id,u.system)},disabled:g===u.id,className:`p-1 rounded bg-red-100 text-red-700 hover:bg-red-200 dark:bg-red-900/50 dark:text-red-300 dark:hover:bg-red-900/70 disabled:opacity-50 disabled:cursor-not-allowed ${g===u.id?"cursor-wait":""}`,title:"Reject Request",children:g===u.id?l.jsx("div",{className:"animate-spin rounded-full h-2.5 w-2.5 border border-red-700 border-t-transparent"}):l.jsx(ht,{size:12})})]}),c&&l.jsx("button",{onClick:p=>{p.stopPropagation(),c(oa(u.date),u,u.system)},className:"p-1 rounded bg-blue-100 text-blue-700 hover:bg-blue-200 dark:bg-blue-900/50 dark:text-blue-300 dark:hover:bg-blue-900/70",title:"Edit Request",children:l.jsx(yc,{size:12})}),l.jsx("button",{onClick:p=>{p.stopPropagation(),window.confirm(` Delete ${u.customer_name} - ${oa(u.date).toLocaleDateString("en-GB")}?`)&&z(u.id,u.system)},disabled:f===u.id,className:`p-1 rounded bg-gray-100 text-gray-700 hover:bg-gray-200 dark:bg-gray-900/50 dark:text-gray-300 dark:hover:bg-gray-900/70 disabled:opacity-50 disabled:cursor-not-allowed ${f===u.id?"cursor-wait":""}`,title:"Delete Request",children:f===u.id?l.jsx("div",{className:"animate-spin rounded-full h-2.5 w-2.5 border border-gray-700 border-t-transparent"}):l.jsx(Tr,{size:12})})]}),u.status===W.PENDING&&u.isRequest&&(b==null?void 0:b.role)==="management"&&l.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:"Pending"})]})]},u.id)})})]}),O.length===0&&l.jsx("div",{className:"text-center py-10",children:l.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No bookings found."})})]})}),l.jsx("div",{className:"md:hidden space-y-2",children:O.length>0?O.map(u=>l.jsx(mb,{booking:u,onClick:()=>a(oa(u.date),u),onApprove:u.status===W.PENDING&&u.isRequest?()=>y(u.id,u.system):void 0,onReject:u.status===W.PENDING&&u.isRequest?()=>k(u.id,u.system):void 0,onDelete:u.isRequest?()=>z(u.id,u.system):void 0,onEdit:c?()=>c(oa(u.date),u,u.system):void 0,userRole:b==null?void 0:b.role,isApproving:D===u.id,isRejecting:g===u.id,isDeleting:f===u.id},u.id)):l.jsx("div",{className:"text-center py-8",children:l.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No bookings found matching your filters."})})})]})},ls=e=>{const[t,a,s]=e.split("-").map(Number);return new Date(t,a-1,s)},gb=({customer:e})=>l.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow-sm border-l-4 border-brand-blue",children:[l.jsxs("p",{className:"font-bold text-gray-800 dark:text-gray-200 flex items-center gap-2",children:[l.jsx(vo,{size:16})," ",e.name]}),l.jsx("div",{className:"border-t dark:border-gray-700 my-2"}),l.jsxs("div",{className:"text-sm text-gray-700 dark:text-gray-300 space-y-2",children:[l.jsxs("p",{className:"flex items-center gap-2",children:[l.jsx(bo,{size:14})," ",e.contact]}),l.jsxs("p",{className:"flex items-center gap-2 truncate",children:[l.jsx(ho,{size:14})," ",e.email]}),l.jsxs("p",{className:"flex items-center gap-2",children:[l.jsx(ch,{size:14})," ",e.totalBookings," Bookings"]}),l.jsxs("p",{className:"flex items-center gap-2",children:[l.jsx(sh,{size:14})," ",e.totalSpent.toLocaleString("en-IN",{style:"currency",currency:"INR"})," Total Spent"]}),l.jsxs("p",{className:"flex items-center gap-2",children:[l.jsx(lt,{size:14})," Last Booking: ",e.lastBooking]})]})]}),xb=({bookings:e})=>{const[t,a]=_.useState(""),[s,n]=_.useState({key:"totalSpent",direction:"desc"}),r=_.useMemo(()=>{const h=new Map;e.forEach(m=>{const f=m.customer_contact;h.has(f)||h.set(f,{name:m.customer_name,email:m.customer_email,bookings:[]}),h.get(f).bookings.push(m)});let b=Array.from(h.entries()).map(([m,f])=>{const E=f.bookings.sort((q,g)=>ls(g.date).getTime()-ls(q.date).getTime()),D=ls(E[0].date);return{contact:m,name:f.name,email:f.email,totalBookings:f.bookings.length,totalSpent:f.bookings.reduce((q,g)=>q+g.payment_amount,0),lastBookingDate:D,lastBooking:D.toLocaleDateString("en-GB")}});if(t){const m=t.toLowerCase();b=b.filter(f=>f.name.toLowerCase().includes(m)||f.contact.toLowerCase().includes(m)||f.email&&f.email.toLowerCase().includes(m))}return s&&b.sort((m,f)=>{const E=m[s.key],D=f[s.key];if(E instanceof Date&&D instanceof Date)return s.direction==="asc"?E.getTime()-D.getTime():D.getTime()-E.getTime();if(typeof E=="number"&&typeof D=="number")return s.direction==="asc"?E-D:D-E;const q=String(E).toLowerCase(),g=String(D).toLowerCase();return q<g?s.direction==="asc"?-1:1:q>g?s.direction==="asc"?1:-1:0}),b},[e,t,s]),i=_.useMemo(()=>{const h=new Map;return e.forEach(b=>{const m=b.customer_contact;h.has(m)||h.set(m,{name:b.customer_name,email:b.customer_email,bookings:[]}),h.get(m).bookings.push(b)}),Array.from(h.entries()).map(([b,m])=>{const f=m.bookings.sort((E,D)=>ls(D.date).getTime()-ls(E.date).getTime());return{contact:b,name:m.name,email:m.email,totalBookings:m.bookings.length,totalSpent:m.bookings.reduce((E,D)=>E+D.payment_amount,0),lastBooking:ls(f[0].date).toLocaleDateString("en-GB")}})},[e]),o=()=>{if(i.length===0){alert("No customer data to export.");return}const h=["Name","Contact","Email","Total Bookings","Total Spent","Last Booking Date"],b=i.map(D=>[`"${D.name.replace(/"/g,'""')}"`,D.contact,D.email,D.totalBookings,D.totalSpent,D.lastBooking].join(",")),m="data:text/csv;charset=utf-8,"+[h.join(","),...b].join(`
`),f=encodeURI(m),E=document.createElement("a");E.setAttribute("href",f),E.setAttribute("download","harvard_house_customers.csv"),document.body.appendChild(E),E.click(),document.body.removeChild(E)},c=h=>{let b="asc";s&&s.key===h&&s.direction==="asc"&&(b="desc"),n({key:h,direction:b})},x=({sortKey:h,children:b})=>l.jsx("th",{className:"py-3 px-4 font-semibold",children:l.jsxs("button",{onClick:()=>c(h),className:"flex items-center space-x-1 hover:text-brand-blue dark:hover:text-brand-orange",children:[l.jsx("span",{children:b}),l.jsx(Bm,{size:14})]})});return l.jsxs("div",{className:"space-y-6 animate-slideInUp",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-200",children:"Customer Management"}),l.jsxs("button",{onClick:o,disabled:i.length===0,className:"bg-brand-blue text-white font-semibold px-4 py-2 rounded-lg shadow-md hover:bg-brand-dark transition-all transform hover:scale-105 flex items-center space-x-2 disabled:bg-gray-400 disabled:cursor-not-allowed disabled:scale-100",children:[l.jsx(bc,{size:16}),l.jsx("span",{children:"Export Customers"})]})]}),l.jsx("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow-sm",children:l.jsxs("div",{className:"relative w-full sm:w-72",children:[l.jsx(Hm,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{type:"text",placeholder:"Search by name, contact, email...",value:t,onChange:h=>a(h.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-brand-orange"})]})}),l.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm overflow-hidden hidden md:block",children:l.jsxs("div",{className:"overflow-x-auto",children:[l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-gray-50 dark:bg-gray-700/50 text-left text-xs text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[l.jsx(x,{sortKey:"name",children:"Customer Name"}),l.jsx(x,{sortKey:"contact",children:"Contact"}),l.jsx(x,{sortKey:"email",children:"Email"}),l.jsx(x,{sortKey:"totalBookings",children:"Total Bookings"}),l.jsx(x,{sortKey:"totalSpent",children:"Total Spent"}),l.jsx(x,{sortKey:"lastBookingDate",children:"Last Booking Date"})]})}),l.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:r.map(h=>l.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[l.jsx("td",{className:"py-3 px-4 text-sm font-semibold text-gray-800 dark:text-gray-200",children:h.name}),l.jsx("td",{className:"py-3 px-4 text-sm text-gray-600 dark:text-gray-400",children:h.contact}),l.jsx("td",{className:"py-3 px-4 text-sm text-gray-600 dark:text-gray-400 truncate max-w-xs",children:h.email}),l.jsx("td",{className:"py-3 px-4 text-sm text-center text-gray-800 dark:text-gray-300",children:h.totalBookings}),l.jsx("td",{className:"py-3 px-4 text-sm font-medium text-gray-800 dark:text-gray-200",children:h.totalSpent.toLocaleString("en-IN",{style:"currency",currency:"INR"})}),l.jsx("td",{className:"py-3 px-4 text-sm text-gray-600 dark:text-gray-400",children:h.lastBooking})]},h.contact))})]}),r.length===0&&l.jsx("p",{className:"text-center py-10 text-gray-500 dark:text-gray-400",children:"No customers found."})]})}),l.jsx("div",{className:"md:hidden space-y-4",children:r.length>0?r.map(h=>l.jsx(gb,{customer:h},h.contact)):l.jsx("p",{className:"text-center py-10 text-gray-500 dark:text-gray-400",children:"No customers found."})})]})},bi=e=>{const t=e.getFullYear(),a=(e.getMonth()+1).toString().padStart(2,"0"),s=e.getDate().toString().padStart(2,"0");return`${t}-${a}-${s}`},hb=({isOpen:e,onClose:t,date:a,booking:s,system:n,onBookingUpdate:r})=>{const{user:i,bookings:o,addBooking:c,updateBooking:x,deleteBooking:h}=_.useContext(Ht),b={date:a?bi(a):"",booking_type:ce.SLOT,slots:[],customer_name:"",customer_contact:"",customer_email:"",event_type:"",notes:"",payment_status:$e.UNPAID,payment_amount:void 0,net_number:[],system:n,status:W.CONFIRMED},[m,f]=_.useState(b),[E,D]=_.useState(!1),[q,g]=_.useState(!1),[d,y]=_.useState(0),[k,z]=_.useState({}),U=!!s;_.useEffect(()=>{e&&a&&f({date:bi(a),booking_type:(s==null?void 0:s.booking_type)||ce.SLOT,slots:(s==null?void 0:s.slots)||[],customer_name:(s==null?void 0:s.customer_name)||"",customer_contact:(s==null?void 0:s.customer_contact)||"",customer_email:(s==null?void 0:s.customer_email)||"",event_type:(s==null?void 0:s.event_type)||"",notes:(s==null?void 0:s.notes)||"",payment_status:(s==null?void 0:s.payment_status)||$e.UNPAID,payment_amount:s==null?void 0:s.payment_amount,net_number:(s==null?void 0:s.net_number)||[],system:n,status:(s==null?void 0:s.status)||W.CONFIRMED})},[e,a,s,n]);const B=_.useMemo(()=>o[n],[o,n]),H=_.useMemo(()=>n==="ground"?Ar:Cr,[n]),Z=_.useMemo(()=>{if(!a)return[];const j=bi(a);return B.filter(p=>p.date===j)},[a,B]),Y=j=>Z.some(p=>{var v;return p.id!==(s==null?void 0:s.id)&&p.booking_type===ce.SLOT&&p.status===W.CONFIRMED&&((v=p.slots)==null?void 0:v.includes(j))}),P=_.useMemo(()=>Z.some(j=>j.id!==(s==null?void 0:s.id)&&j.booking_type===ce.FULL_DAY),[Z,s]);_.useMemo(()=>Z.some(j=>j.id!==(s==null?void 0:s.id)),[Z,s]);const Q=_.useMemo(()=>Z.some(j=>j.id!==(s==null?void 0:s.id)&&j.booking_type===ce.SLOT&&j.status===W.CONFIRMED),[Z,s]),V=j=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(j),G=j=>j.trim().split(/\s+/).filter(v=>v.length>0).length>5?"Name should not exceed 5 words":null,I=j=>j.replace(/\D/g,"").length>10?"Contact number should not exceed 10 digits":null,O=j=>j.trim().split(/\s+/).filter(v=>v.length>0).length>1?"Event type should be one word only":null;if(!e||!a)return null;const X=j=>{const{name:p,value:v}=j.target;if(p==="notes"){const M=v.length;y(M)}let T=null;p==="customer_name"&&v?T=G(v):p==="customer_contact"&&v?T=I(v):p==="customer_email"&&v?T=V(v)?null:"Please enter a valid email address":p==="event_type"&&v&&(T=O(v)),z(M=>({...M,[p]:T})),f(M=>({...M,[p]:p==="payment_amount"?v&&parseFloat(v)||void 0:v}))},w=j=>{f(p=>{var T;const v=(T=p.slots)!=null&&T.includes(j)?p.slots.filter(M=>M!==j):[...p.slots||[],j];return{...p,slots:v,booking_type:ce.SLOT}})},C=()=>{f(j=>({...j,slots:[],booking_type:ce.FULL_DAY}))},u=j=>{f(p=>{const v=Array.isArray(p.net_number)?p.net_number:[],T=v.includes(j)?v.filter(M=>M!==j):[...v,j];return{...p,net_number:T}})},S=async j=>{j.preventDefault(),D(!0);try{if(s){const p={...m,id:s.id,created_at:s.created_at};await x(p,n)}else await c(m,n);if(t(),r)try{await r()}catch(p){console.error(" Error refreshing data after booking update:",p)}}catch(p){console.error("Failed to save booking:",p),alert(`Failed to save booking: ${p.message}. Please try again.`)}finally{D(!1)}},N=async()=>{var j;if(s&&window.confirm(` PERMANENT DELETION WARNING 

Are you sure you want to delete this booking?

This will:
 Permanently delete the booking from the database
 Remove all associated data and records
 Cannot be undone or recovered

Customer: ${s.customer_name}
Date: ${new Date(s.date).toLocaleDateString("en-GB")}
Time: ${s.booking_type==="full_day"?"Full Day":(j=s.slots)==null?void 0:j.join(", ")}

Click "OK" to permanently delete this booking, or "Cancel" to keep it.`)){g(!0);try{await h(s.id,n),t()}catch(p){console.error("Failed to delete booking:",p)}finally{g(!1)}}};return l.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-2 sm:p-4 animate-fadeIn",children:l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-2xl w-full max-w-[95vw] sm:max-w-md md:max-w-2xl max-h-[90vh] flex flex-col",children:[l.jsxs("div",{className:"flex justify-between items-center p-2 sm:p-3 border-b dark:border-gray-700",children:[l.jsxs("h2",{className:"text-sm sm:text-lg font-bold text-brand-dark dark:text-white",children:[U?"Edit":"New"," - ",a.toLocaleDateString("en-GB",{weekday:"short",month:"short",day:"numeric"})]}),l.jsx("button",{onClick:t,className:"p-1 rounded-full text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700",children:l.jsx(ht,{size:16})})]}),l.jsxs("form",{onSubmit:S,className:"p-2 sm:p-4 space-y-2 sm:space-y-3 overflow-y-auto",children:[!U&&l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold mb-1.5 sm:mb-2 text-sm sm:text-base text-gray-800 dark:text-gray-200",children:"Booking Type"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 sm:gap-3",children:[n==="ground"&&l.jsxs("button",{type:"button",onClick:C,disabled:Q,className:`p-2.5 rounded text-center transition-all text-sm ${m.booking_type===ce.FULL_DAY?"bg-brand-blue text-white ring-2 ring-brand-orange":"bg-gray-100 dark:bg-gray-700 dark:text-gray-300"} ${Q?"opacity-50 cursor-not-allowed":"hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:["Full Day Booking",Q&&l.jsx("span",{className:"block text-xs",children:"Unavailable"})]}),l.jsxs("div",{className:`col-span-full ${n==="ground"?"":"md:col-span-2"}`,children:[l.jsx("p",{className:"mb-1 sm:mb-1.5 text-xs sm:text-sm font-medium text-gray-600 dark:text-gray-400",children:"Available Slots"}),l.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-1 sm:gap-1.5",children:H.map(j=>{var v;const p=Y(j);return l.jsxs("button",{type:"button",onClick:()=>w(j),disabled:p||P,className:`p-1 sm:p-1.5 rounded text-xs transition-all flex flex-col items-center justify-center ${(v=m.slots)!=null&&v.includes(j)?"bg-brand-blue text-white ring-1 ring-brand-orange":"bg-gray-100 dark:bg-gray-700 dark:text-gray-300"} ${p||P?"opacity-50 cursor-not-allowed":"hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:[l.jsx("span",{className:"text-xs sm:text-sm",children:j}),p&&l.jsx("span",{className:"block text-xs leading-tight",children:"(Booked)"})]},j)})})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 sm:gap-3 pt-2 sm:pt-3 border-t dark:border-gray-700",children:[l.jsxs("div",{children:[l.jsx("input",{name:"customer_name",value:m.customer_name,onChange:X,type:"text",placeholder:"Customer Name",className:`p-1.5 sm:p-2 text-sm border rounded bg-white dark:bg-gray-700 dark:border-gray-600 focus:outline-none focus:ring-2 focus:ring-brand-orange focus:border-transparent transition ${k.customer_name?"border-red-500":""}`,required:!0}),k.customer_name&&l.jsx("p",{className:"text-red-500 text-xs mt-1",children:k.customer_name})]}),l.jsxs("div",{children:[l.jsx("input",{name:"customer_contact",value:m.customer_contact,onChange:X,type:"tel",placeholder:"Contact Number",className:`p-1.5 sm:p-2 text-sm border rounded bg-white dark:bg-gray-700 dark:border-gray-600 focus:outline-none focus:ring-2 focus:ring-brand-orange focus:border-transparent transition ${k.customer_contact?"border-red-500":""}`,required:!0}),k.customer_contact&&l.jsx("p",{className:"text-red-500 text-xs mt-1",children:k.customer_contact})]}),l.jsxs("div",{children:[l.jsx("input",{name:"customer_email",value:m.customer_email,type:"email",onChange:X,placeholder:"Email Address",className:`p-1.5 sm:p-2 text-sm border rounded bg-white dark:bg-gray-700 dark:border-gray-600 focus:outline-none focus:ring-2 focus:ring-brand-orange focus:border-transparent transition ${k.customer_email?"border-red-500":""}`}),k.customer_email&&l.jsx("p",{className:"text-red-500 text-xs mt-1",children:k.customer_email})]}),n==="ground"?l.jsxs("div",{children:[l.jsx("input",{name:"event_type",value:m.event_type,onChange:X,type:"text",placeholder:"Sport / Event Type",className:`p-1.5 sm:p-2 text-sm border rounded bg-white dark:bg-gray-700 dark:border-gray-600 focus:outline-none focus:ring-2 focus:ring-brand-orange focus:border-transparent transition ${k.event_type?"border-red-500":""}`,required:!0}),k.event_type&&l.jsx("p",{className:"text-red-500 text-xs mt-1",children:k.event_type})]}):l.jsxs("div",{children:[l.jsx("p",{className:"mb-1.5 text-sm font-medium text-gray-600 dark:text-gray-400",children:"Select Nets"}),l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsx("button",{type:"button",onClick:()=>u("1"),className:`p-2.5 rounded text-center transition-all text-sm ${(m.net_number||[]).includes("1")?"bg-brand-blue text-white ring-2 ring-brand-orange":"bg-gray-100 dark:bg-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:"Concrete Net 1"}),l.jsx("button",{type:"button",onClick:()=>u("2"),className:`p-2.5 rounded text-center transition-all text-sm ${(m.net_number||[]).includes("2")?"bg-brand-blue text-white ring-2 ring-brand-orange":"bg-gray-100 dark:bg-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:"Concrete Net 2"}),l.jsx("button",{type:"button",onClick:()=>u("3"),className:`p-2.5 rounded text-center transition-all text-sm ${(m.net_number||[]).includes("3")?"bg-brand-blue text-white ring-2 ring-brand-orange":"bg-gray-100 dark:bg-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:"Astro Net 1"}),l.jsx("button",{type:"button",onClick:()=>u("4"),className:`p-2.5 rounded text-center transition-all text-sm ${(m.net_number||[]).includes("4")?"bg-brand-blue text-white ring-2 ring-brand-orange":"bg-gray-100 dark:bg-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:"Astro Net 2"})]})]}),l.jsxs("select",{name:"payment_status",value:m.payment_status,onChange:X,className:"p-1.5 sm:p-2 text-sm border rounded bg-white dark:bg-gray-700 dark:border-gray-600 focus:outline-none focus:ring-2 focus:ring-brand-orange focus:border-transparent transition",children:[l.jsx("option",{value:$e.UNPAID,children:"Unpaid"}),l.jsx("option",{value:$e.PAID,children:"Paid"})]}),l.jsx("input",{name:"payment_amount",value:m.payment_amount||"",onChange:X,type:"number",step:"0.01",min:"0",placeholder:"Payment Amount",className:"p-1.5 sm:p-2 text-sm border rounded bg-white dark:bg-gray-700 dark:border-gray-600 focus:outline-none focus:ring-2 focus:ring-brand-orange focus:border-transparent transition",required:!0})]}),l.jsxs("div",{className:"pt-2 sm:pt-3",children:[l.jsxs("div",{className:"flex justify-between items-center mb-1 sm:mb-1.5",children:[l.jsx("label",{className:"text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300",children:"Notes"}),l.jsxs("span",{className:`text-xs ${d>100?"text-red-500":"text-gray-500 dark:text-gray-400"}`,children:[d,"/100"]})]}),l.jsx("textarea",{name:"notes",value:m.notes||"",onChange:X,placeholder:"Notes...",maxLength:d>100?void 0:100,className:`p-1.5 sm:p-2 border rounded w-full h-16 sm:h-20 bg-white dark:bg-gray-700 dark:border-gray-600 focus:outline-none focus:ring-2 focus:ring-brand-orange focus:border-transparent transition text-xs sm:text-sm ${d>100?"border-red-500":""}`}),d>100&&l.jsx("p",{className:"text-red-500 text-xs mt-1",children:"Letter limit exceeded"})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between items-center gap-2 pt-2 sm:pt-3 border-t dark:border-gray-700",children:[l.jsx("div",{children:U&&(i==null?void 0:i.role)===st.ADMIN&&l.jsx("button",{type:"button",onClick:N,disabled:q||E,className:"w-full sm:w-auto bg-red-600 text-white px-2 sm:px-3 py-1 sm:py-1.5 rounded text-xs sm:text-sm hover:bg-red-700 transition-colors flex items-center justify-center space-x-1 sm:space-x-1.5 disabled:opacity-50",children:q?l.jsxs(l.Fragment,{children:[l.jsx(Ol,{size:12,className:"animate-spin flex-shrink-0"}),l.jsx("span",{children:"Deleting..."})]}):l.jsxs(l.Fragment,{children:[l.jsx(Tr,{size:12,className:"flex-shrink-0"}),l.jsx("span",{children:"Delete"})]})})}),l.jsxs("div",{className:"flex flex-col-reverse sm:flex-row w-full sm:w-auto gap-2",children:[l.jsx("button",{type:"button",onClick:t,className:"w-full sm:w-auto bg-gray-200 text-gray-800 dark:bg-gray-600 dark:text-gray-200 px-2 sm:px-3 py-1 sm:py-1.5 rounded text-xs sm:text-sm hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors",children:"Cancel"}),((i==null?void 0:i.role)===st.ADMIN||(i==null?void 0:i.role)===st.CUSTOMER&&U&&(s==null?void 0:s.customer_email)===i.email)&&l.jsx("button",{type:"submit",disabled:E||q,className:"w-full sm:w-auto bg-brand-orange text-white px-2 sm:px-3 py-1 sm:py-1.5 rounded text-xs sm:text-sm hover:bg-orange-600 transition-colors flex items-center justify-center space-x-1 sm:space-x-1.5 disabled:opacity-50",children:E?l.jsxs(l.Fragment,{children:[l.jsx(Ol,{size:12,className:"animate-spin flex-shrink-0"}),l.jsx("span",{children:"Saving..."})]}):U?l.jsxs(l.Fragment,{children:[l.jsx(yc,{size:12,className:"flex-shrink-0"}),l.jsx("span",{children:"Update"})]}):l.jsxs(l.Fragment,{children:[l.jsx(Sa,{size:12,className:"flex-shrink-0"}),l.jsx("span",{children:"Create"})]})})]})]})]})]})})},bb=({isOpen:e,onClose:t,date:a,system:s,onSubmitRequest:n,userRole:r,onBookingUpdate:i,booking:o})=>{const[c,x]=_.useState({customer_name:"",customer_contact:"",customer_email:"",event_type:"",notes:"",booking_type:ce.SLOT,slots:[],net_number:[],payment_status:$e.UNPAID,payment_amount:void 0}),[h,b]=_.useState(!1),[m,f]=_.useState(0),[E,D]=_.useState({}),[q,g]=_.useState(""),d=s==="ground"?Ar:Cr,y=V=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(V),k=V=>V.trim().split(/\s+/).filter(I=>I.length>0).length>5?"Name should not exceed 5 words":null,z=V=>{const G=V.replace(/\D/g,"");return V.trim()===""?"Contact number is required":G.length===0?"Contact number must contain only numbers":G.length<10?"Contact number must be at least 10 digits":G.length>10?"Contact number should not exceed 10 digits":null},U=V=>V.trim().split(/\s+/).filter(I=>I.length>0).length>1?"Event type should be one word only":null,B=()=>{const V={};if(c.customer_name){const I=k(c.customer_name);I&&(V.customer_name=I)}if(c.customer_contact){const I=z(c.customer_contact);I&&(V.customer_contact=I)}if(c.customer_email){const I=y(c.customer_email)?null:"Please enter a valid email address";I&&(V.customer_email=I)}if(c.event_type){const I=U(c.event_type);I&&(V.event_type=I)}c.booking_type===ce.SLOT&&c.slots.length===0&&(V.booking_timing="Please select at least one time slot"),s==="net"&&c.net_number.length===0&&(V.net_selection="Please select at least one net"),D(V);const G=Object.keys(V).length>0;return g(G?"Please fix the errors above before submitting.":""),!G};if(_.useEffect(()=>{e&&a&&(o?(console.log(" BookingRequestModal: Loading existing booking request for editing:",o),x({customer_name:o.customer_name||"",customer_contact:o.customer_contact||"",customer_email:o.customer_email||"",event_type:o.event_type||"",notes:o.notes||"",booking_type:o.booking_type||ce.SLOT,slots:o.slots||[],net_number:Array.isArray(o.net_number)?o.net_number:o.net_number?[o.net_number]:[],payment_status:o.payment_status||$e.UNPAID,payment_amount:o.payment_amount}),f(o.notes?o.notes.length:0)):(x({customer_name:"",customer_contact:"",customer_email:"",event_type:"",notes:"",booking_type:ce.SLOT,slots:[],net_number:[],payment_status:$e.UNPAID,payment_amount:void 0}),f(0)))},[e,a,s,o]),r!==st.ADMIN)return l.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-fadeIn",children:l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-2xl w-full max-w-md max-h-[90vh] flex flex-col",children:[l.jsxs("div",{className:"flex justify-between items-center p-4 border-b dark:border-gray-700",children:[l.jsxs("h2",{className:"text-xl font-bold text-brand-dark dark:text-white flex items-center space-x-2",children:[l.jsx(po,{className:"text-red-500",size:24}),l.jsx("span",{children:"Access Denied"})]}),l.jsx("button",{onClick:t,className:"p-1 rounded-full text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700",children:l.jsx(ht,{})})]}),l.jsxs("div",{className:"p-6",children:[l.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:l.jsxs("p",{className:"text-sm text-red-800 dark:text-red-300",children:[l.jsx("strong",{children:"Access Restricted:"})," This feature is only available to administrators. Please contact your administrator if you need assistance."]})}),l.jsx("div",{className:"flex justify-end mt-4",children:l.jsx("button",{onClick:t,className:"bg-gray-200 text-gray-800 dark:bg-gray-600 dark:text-gray-200 px-4 py-2 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors",children:"Close"})})]})]})});if(!e||!a)return null;const H=V=>{const{name:G,value:I}=V.target;if(G==="notes"){const X=I.length;f(X)}let O=null;G==="customer_name"&&I?O=k(I):G==="customer_contact"&&I?O=z(I):G==="customer_email"&&I?O=y(I)?null:"Please enter a valid email address":G==="event_type"&&I&&(O=U(I)),D(X=>({...X,[G]:O})),x(X=>({...X,[G]:G==="payment_amount"?I&&parseFloat(I)||0:I}))},Z=V=>{x(G=>{const I=G.slots.includes(V)?G.slots.filter(O=>O!==V):[...G.slots,V];return{...G,slots:I,booking_type:ce.SLOT}})},Y=()=>{x(V=>({...V,slots:[],booking_type:ce.FULL_DAY}))},P=V=>{x(G=>{const I=G.net_number.includes(V)?G.net_number.filter(O=>O!==V):[...G.net_number,V];return{...G,net_number:I}})},Q=async V=>{if(V.preventDefault(),!!B()){if(!navigator.onLine){g("No internet connection. Please check your network and try again.");return}b(!0),g("");try{const G={...c,date:a==null?void 0:a.toISOString().split("T")[0],system:s,submitted_at:new Date().toISOString()};if(o){console.log(" Updating existing booking request:",o.id);const I={...G,id:o.id,request_number:o.request_number,status:o.status,created_at:o.created_at};await n(I)}else{console.log(" Creating new booking request");const I={...G,status:"pending"};await n(I)}if(t(),i)try{await i()}catch(I){console.error(" Error refreshing data after booking request:",I)}}catch(G){console.error("Failed to submit booking request:",G)}finally{b(!1)}}};return l.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-fadeIn",children:l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-2xl w-full max-w-md md:max-w-2xl max-h-[90vh] flex flex-col",children:[l.jsxs("div",{className:"flex justify-between items-center p-4 border-b dark:border-gray-700",children:[l.jsxs("h2",{className:"text-xl font-bold text-brand-dark dark:text-white",children:[o?"Edit":"Request"," Booking ",o?"- "+(a==null?void 0:a.toLocaleDateString("en-GB",{weekday:"short",month:"short",day:"numeric"})):"for "+(a==null?void 0:a.toLocaleDateString("en-GB",{weekday:"long",year:"numeric",month:"long",day:"numeric"}))]}),l.jsx("button",{onClick:t,className:"p-1 rounded-full text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700",children:l.jsx(ht,{})})]}),l.jsxs("form",{onSubmit:Q,className:"p-6 space-y-4 overflow-y-auto",children:[q&&l.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-3",children:l.jsx("p",{className:"text-red-700 dark:text-red-300 text-sm",children:q})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold mb-2 text-gray-800 dark:text-gray-200",children:"Booking Type"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s==="ground"&&l.jsx("button",{type:"button",onClick:Y,className:`p-3 rounded text-center transition-all ${c.booking_type===ce.FULL_DAY?"bg-brand-blue text-white ring-2 ring-brand-orange":"bg-gray-100 dark:bg-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:"Full Day Booking"}),l.jsxs("div",{className:`col-span-full ${s==="ground"?"":"md:col-span-2"}`,children:[l.jsx("p",{className:"mb-2 text-sm font-medium text-gray-600 dark:text-gray-400",children:"Available Slots"}),E.booking_timing&&l.jsx("p",{className:"text-red-500 text-xs mb-2",children:E.booking_timing}),l.jsx("div",{className:`grid grid-cols-2 sm:grid-cols-3 gap-2 ${c.slots.length===0?"ring-2 ring-red-300 dark:ring-red-600 rounded-lg p-2":""}`,children:d.map(V=>l.jsx("button",{type:"button",onClick:()=>Z(V),className:`p-2 rounded text-sm transition-all flex items-center justify-center space-x-2 ${c.slots.includes(V)?"bg-brand-blue text-white ring-2 ring-brand-orange":"bg-gray-100 dark:bg-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:l.jsx("span",{children:V})},V))})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-4 border-t dark:border-gray-700",children:[l.jsx("input",{name:"customer_name",value:c.customer_name,onChange:H,type:"text",placeholder:"Your Name",className:`p-2 border rounded bg-white dark:bg-gray-700 dark:border-gray-600 focus:outline-none focus:ring-2 focus:ring-brand-orange focus:border-transparent transition ${E.customer_name?"border-red-500":""}`,required:!0}),E.customer_name&&l.jsx("p",{className:"text-red-500 text-xs mt-1",children:E.customer_name}),l.jsx("input",{name:"customer_contact",value:c.customer_contact,onChange:H,type:"tel",placeholder:"Contact Number",className:`p-2 border rounded bg-white dark:bg-gray-700 dark:border-gray-600 focus:outline-none focus:ring-2 focus:ring-brand-orange focus:border-transparent transition ${E.customer_contact?"border-red-500":""}`,required:!0}),E.customer_contact&&l.jsx("p",{className:"text-red-500 text-xs mt-1",children:E.customer_contact}),l.jsx("input",{name:"customer_email",value:c.customer_email,type:"email",onChange:H,placeholder:"Email Address",className:`p-2 border rounded bg-white dark:bg-gray-700 dark:border-gray-600 focus:outline-none focus:ring-2 focus:ring-brand-orange focus:border-transparent transition ${E.customer_email?"border-red-500":""}`}),E.customer_email&&l.jsx("p",{className:"text-red-500 text-xs mt-1",children:E.customer_email}),s==="ground"?l.jsxs(l.Fragment,{children:[l.jsx("input",{name:"event_type",value:c.event_type,onChange:H,type:"text",placeholder:"Sport / Event Type",className:`p-2 border rounded bg-white dark:bg-gray-700 dark:border-gray-600 focus:outline-none focus:ring-2 focus:ring-brand-orange focus:border-transparent transition ${E.event_type?"border-red-500":""}`,required:!0}),E.event_type&&l.jsx("p",{className:"text-red-500 text-xs mt-1",children:E.event_type})]}):l.jsxs("div",{children:[l.jsx("p",{className:"mb-1.5 text-sm font-medium text-gray-600 dark:text-gray-400",children:"Select Nets"}),E.net_selection&&l.jsx("p",{className:"text-red-500 text-xs mb-2",children:E.net_selection}),l.jsxs("div",{className:`grid grid-cols-2 gap-2 ${c.net_number.length===0?"ring-2 ring-red-300 dark:ring-red-600 rounded-lg p-2":""}`,children:[l.jsx("button",{type:"button",onClick:()=>P("1"),className:`p-2.5 rounded text-center transition-all text-sm ${c.net_number.includes("1")?"bg-brand-blue text-white ring-2 ring-brand-orange":"bg-gray-100 dark:bg-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:"Concrete Net 1"}),l.jsx("button",{type:"button",onClick:()=>P("2"),className:`p-2.5 rounded text-center transition-all text-sm ${c.net_number.includes("2")?"bg-brand-blue text-white ring-2 ring-brand-orange":"bg-gray-100 dark:bg-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:"Concrete Net 2"}),l.jsx("button",{type:"button",onClick:()=>P("3"),className:`p-2.5 rounded text-center transition-all text-sm ${c.net_number.includes("3")?"bg-brand-blue text-white ring-2 ring-brand-orange":"bg-gray-100 dark:bg-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:"Astro Net 1"}),l.jsx("button",{type:"button",onClick:()=>P("4"),className:`p-2.5 rounded text-center transition-all text-sm ${c.net_number.includes("4")?"bg-brand-blue text-white ring-2 ring-brand-orange":"bg-gray-100 dark:bg-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:"Astro Net 2"})]})]}),l.jsxs("select",{name:"payment_status",value:c.payment_status,onChange:H,className:"p-2 border rounded bg-white dark:bg-gray-700 dark:border-gray-600 focus:outline-none focus:ring-2 focus:ring-brand-orange focus:border-transparent transition",children:[l.jsx("option",{value:$e.UNPAID,children:"Pay Later"}),l.jsx("option",{value:$e.PAID,children:"Pay Now"})]}),l.jsx("input",{name:"payment_amount",value:c.payment_amount||"",onChange:H,type:"number",step:"0.01",min:"0",placeholder:"Expected Amount",className:"p-2 border rounded bg-white dark:bg-gray-700 dark:border-gray-600 focus:outline-none focus:ring-2 focus:ring-brand-orange focus:border-transparent transition"})]}),l.jsxs("div",{className:"pt-4",children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Notes / Special Requests"}),l.jsxs("span",{className:`text-xs ${m>100?"text-red-500":"text-gray-500 dark:text-gray-400"}`,children:[m,"/100"]})]}),l.jsx("textarea",{name:"notes",value:c.notes,onChange:H,placeholder:"Any special requests or notes...",maxLength:m>100?void 0:100,className:`p-2 border rounded w-full h-24 bg-white dark:bg-gray-700 dark:border-gray-600 focus:outline-none focus:ring-2 focus:ring-brand-orange focus:border-transparent transition ${m>100?"border-red-500":""}`}),m>100&&l.jsx("p",{className:"text-red-500 text-xs mt-1",children:"Letter limit exceeded. Please keep notes under 100 letters."})]}),l.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-3",children:l.jsxs("p",{className:"text-sm text-yellow-800 dark:text-yellow-300",children:[l.jsx("strong",{children:"Note:"})," This is a booking request that will be reviewed by our management team. You'll receive a notification once your request is approved or declined."]})}),l.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-end items-center gap-3 pt-4 border-t dark:border-gray-700",children:[l.jsx("button",{type:"button",onClick:t,className:"w-full sm:w-auto bg-gray-200 text-gray-800 dark:bg-gray-600 dark:text-gray-200 px-4 py-2 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors",children:"Cancel"}),l.jsx("button",{type:"submit",disabled:h||Object.keys(E).length>0,className:"w-full sm:w-auto bg-brand-orange text-white px-4 py-2 rounded-lg hover:bg-orange-600 transition-colors flex items-center justify-center space-x-2 disabled:opacity-50",children:h?l.jsxs(l.Fragment,{children:[l.jsx(Ol,{size:16,className:"animate-spin"}),l.jsx("span",{children:"Submitting..."})]}):l.jsxs(l.Fragment,{children:[l.jsx(Gm,{size:16}),l.jsx("span",{children:o?"Update":"Submit Request"})]})})]})]})]})})},yb=({isOpen:e,onClose:t,date:a,system:s,onSubmitRequest:n,user:r,bookings:i,onBookingUpdate:o})=>{const[c,x]=_.useState({customer_name:(r==null?void 0:r.name)||"",customer_contact:"",customer_email:(r==null?void 0:r.email)||"",event_type:"",notes:"",booking_type:ce.SLOT,slots:[],net_number:[],payment_amount:void 0}),[h,b]=_.useState(!1),[m,f]=_.useState(0),[E,D]=_.useState(null),[q,g]=_.useState(!1),[d,y]=_.useState({}),[k,z]=_.useState(""),U=s==="ground"?Ar:Cr,B=_.useMemo(()=>{if(!a||!i)return[];const N=S(a);return i.filter(j=>j.date===N)},[a,i]),H=N=>B.some(j=>{var p;return j.booking_type===ce.SLOT&&j.status===W.CONFIRMED&&((p=j.slots)==null?void 0:p.includes(N))}),Z=_.useMemo(()=>B.some(N=>N.booking_type===ce.SLOT&&N.status===W.CONFIRMED),[B]),Y=_.useMemo(()=>B.some(N=>N.booking_type===ce.FULL_DAY),[B]),P=N=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(N),Q=N=>N.trim().split(/\s+/).filter(p=>p.length>0).length>5?"Name should not exceed 5 words":null,V=N=>{const j=N.replace(/\D/g,"");return N.trim()===""?"Contact number is required":j.length===0?"Contact number must contain only numbers":j.length<10?"Contact number must be at least 10 digits":j.length>10?"Contact number should not exceed 10 digits":null},G=N=>N.trim().split(/\s+/).filter(p=>p.length>0).length>1?"Event type should be one word only":null,I=()=>{const N={};if(c.customer_name){const p=Q(c.customer_name);p&&(N.customer_name=p)}if(c.customer_contact){const p=V(c.customer_contact);p&&(N.customer_contact=p)}if(c.customer_email){const p=P(c.customer_email)?null:"Please enter a valid email address";p&&(N.customer_email=p)}if(c.event_type){const p=G(c.event_type);p&&(N.event_type=p)}c.booking_type===ce.SLOT&&c.slots.length===0&&(N.booking_timing="Please select at least one time slot"),s==="net"&&c.net_number.length===0&&(N.net_selection="Please select at least one net"),y(N);const j=Object.keys(N).length>0;return z(j?"Please fix the errors above before submitting.":""),!j};if(_.useEffect(()=>{e&&a&&(console.log(" CustomerBookingRequestModal: Setting up form with user data:",{userName:r==null?void 0:r.name,userEmail:r==null?void 0:r.email,date:a.toISOString(),system:s}),g(!1),D(null),z(""),x(N=>({...N,customer_name:(r==null?void 0:r.name)||"",customer_email:(r==null?void 0:r.email)||"",booking_type:ce.SLOT,slots:[],net_number:[]})))},[e,a,s,r]),!e||!a)return null;if(q&&E)return l.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-2 animate-fadeIn",children:l.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-2xl w-full max-w-xs mx-2",children:l.jsxs("div",{className:"p-3 text-center",children:[l.jsx("div",{className:"w-8 h-8 bg-green-100 dark:bg-green-900/20 rounded-full flex items-center justify-center mx-auto mb-2 animate-pulse",children:l.jsx("svg",{className:"w-4 h-4 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),l.jsx("h2",{className:"text-sm font-bold text-green-800 dark:text-green-300 mb-2",children:"Submitted Successfully!"}),l.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-2 mb-2",children:[l.jsx("p",{className:"text-green-800 dark:text-green-300 text-xs font-semibold mb-1",children:"Booking request submitted successfully!"}),l.jsx("p",{className:"text-green-700 dark:text-green-400 text-xs",children:"Our team will review and respond soon."})]}),l.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-2 mb-2",children:[l.jsx("div",{className:"bg-white dark:bg-gray-800 rounded p-1.5 mb-1 border border-blue-200 dark:border-blue-700",children:l.jsx("p",{className:"font-mono text-xs text-blue-600 dark:text-blue-400 font-bold tracking-wider",children:E})}),l.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400",children:" Save this tracking number"})]}),l.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-2 mb-2",children:l.jsxs("div",{className:"text-xs text-amber-700 dark:text-amber-400 space-y-0.5",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("span",{className:"w-1 h-1 bg-amber-500 rounded-full mr-1 flex-shrink-0"}),"Review within 24 hours"]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("span",{className:"w-1 h-1 bg-amber-500 rounded-full mr-1 flex-shrink-0"}),"Notification on approval/rejection"]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("span",{className:"w-1 h-1 bg-amber-500 rounded-full mr-1 flex-shrink-0"}),'Track in "Track Bookings"']})]})}),l.jsx("button",{onClick:()=>{g(!1),D(null),t()},className:"w-full bg-green-600 hover:bg-green-700 text-white px-3 py-1.5 rounded-lg font-semibold text-sm transition-all duration-200 transform hover:scale-105 shadow-lg hover:shadow-xl",children:" Done"})]})})});const O=N=>{const{name:j,value:p}=N.target;if(j==="notes"){const T=p.length;f(T)}let v=null;j==="customer_name"&&p?v=Q(p):j==="customer_contact"&&p?v=V(p):j==="customer_email"&&p?v=P(p)?null:"Please enter a valid email address":j==="event_type"&&p&&(v=G(p)),y(T=>({...T,[j]:v})),x(T=>({...T,[j]:j==="payment_amount"?p&&parseFloat(p)||void 0:p}))},X=N=>{x(j=>{const p=j.slots.includes(N)?j.slots.filter(v=>v!==N):[...j.slots,N];return{...j,slots:p,booking_type:ce.SLOT}})},w=()=>{x(N=>({...N,slots:[],booking_type:ce.FULL_DAY}))},C=N=>{x(j=>{const p=j.net_number.includes(N)?j.net_number.filter(v=>v!==N):[...j.net_number,N];return{...j,net_number:p}})},u=async N=>{if(N.preventDefault(),!!I()){if(!navigator.onLine){z("No internet connection. Please check your network and try again.");return}b(!0),z("");try{const p={...{...c,customer_name:c.customer_name.trim().replace(/\s+/g," "),customer_email:c.customer_email.trim().toLowerCase(),customer_contact:c.customer_contact.trim()},date:a.toISOString().split("T")[0],system:s,status:"pending",submitted_at:new Date().toISOString(),payment_status:$e.UNPAID,payment_amount:c.payment_amount||0};console.log(` Submitting booking request for ${p.customer_name} (${p.customer_email})`),console.log(" Request data:",p);const v=await n(p),T=v&&v[0]?v[0].request_number:null;if(!T)throw new Error("Request submitted but no tracking number was generated");if(console.log(` Request submitted successfully. Tracking number: ${T}`),D(T),g(!0),o)try{await o()}catch(M){console.error(" Error refreshing data after booking request:",M)}}catch(j){console.error("Failed to submit booking request:",j);let p="Failed to submit booking request. Please try again.";j instanceof Error&&(j.message.includes("duplicate")?p="A similar request already exists. Please check your existing requests.":j.message.includes("constraint")?p="Invalid request data. Please check all fields and try again.":j.message.includes("network")||j.message.includes("fetch")?p="Network error. Please check your connection and try again.":j.message.includes("required")?p="Please fill in all required fields correctly.":j.message.includes("Access denied")?p="Access denied. Please log in again.":j.message.includes("already in progress")&&(p="Request submission already in progress. Please wait.")),z(p)}finally{b(!1)}}},S=N=>{const j=N.getFullYear(),p=(N.getMonth()+1).toString().padStart(2,"0"),v=N.getDate().toString().padStart(2,"0");return`${j}-${p}-${v}`};return l.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-1 sm:p-2 animate-fadeIn",children:l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-2xl w-full max-w-[95vw] sm:max-w-md md:max-w-2xl max-h-[90vh] flex flex-col",children:[l.jsxs("div",{className:"flex justify-between items-center p-3 border-b dark:border-gray-700",children:[l.jsxs("h2",{className:"text-base sm:text-lg font-bold text-brand-dark dark:text-white pr-2",children:["Request Booking - ",a.toLocaleDateString("en-GB",{weekday:"short",month:"short",day:"numeric"})]}),l.jsx("button",{onClick:t,className:"p-2 rounded-full text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 flex-shrink-0 touch-manipulation",children:l.jsx(ht,{size:20})})]}),l.jsxs("form",{onSubmit:u,className:"p-2 sm:p-3 md:p-4 space-y-2 sm:space-y-3 overflow-y-auto",children:[k&&l.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-3",children:l.jsx("p",{className:"text-red-700 dark:text-red-300 text-sm",children:k})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold mb-2 text-gray-800 dark:text-gray-200",children:"Booking Type"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s==="ground"&&l.jsxs("button",{type:"button",onClick:w,disabled:Z,className:`p-2.5 rounded text-center transition-all text-sm ${c.booking_type===ce.FULL_DAY?"bg-brand-blue text-white ring-2 ring-brand-orange":"bg-gray-100 dark:bg-gray-700 dark:text-gray-300"} ${Z?"opacity-50 cursor-not-allowed":"hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:["Full Day Booking",Z&&l.jsx("span",{className:"block text-xs",children:"Unavailable"})]}),l.jsxs("div",{className:`col-span-full ${s==="ground"?"":"md:col-span-2"}`,children:[l.jsx("p",{className:"mb-1.5 text-sm font-medium text-gray-600 dark:text-gray-400",children:"Available Slots"}),d.booking_timing&&l.jsx("p",{className:"text-red-500 text-xs mb-2",children:d.booking_timing}),l.jsxs("div",{className:`grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-2 sm:gap-1.5 ${c.slots.length===0?"ring-2 ring-red-300 dark:ring-red-600 rounded-lg p-2":""}`,children:[U.map(N=>{const j=H(N);return l.jsxs("button",{type:"button",onClick:()=>X(N),disabled:j||Y,className:`p-2 sm:p-1.5 rounded text-xs sm:text-sm transition-all flex flex-col items-center justify-center min-h-[44px] touch-manipulation ${c.slots.includes(N)?"bg-brand-blue text-white ring-2 ring-brand-orange":"bg-gray-100 dark:bg-gray-700 dark:text-gray-300"} ${j||Y?"opacity-50 cursor-not-allowed":"hover:bg-gray-200 dark:hover:bg-gray-600 active:scale-95"}`,children:[l.jsx("span",{className:"font-medium",children:N}),j&&l.jsx("span",{className:"block text-xs leading-tight mt-0.5",children:"(Booked)"})]},N)}),c.slots.length===0&&l.jsx("div",{className:"col-span-full text-center py-2",children:l.jsx("p",{className:"text-xs text-red-500 dark:text-red-400",children:" Please select at least one time slot"})})]})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 sm:gap-3 pt-2 sm:pt-3 border-t dark:border-gray-700",children:[l.jsxs("div",{children:[l.jsx("input",{name:"customer_name",value:c.customer_name,onChange:O,type:"text",placeholder:"Your Name",className:"p-2 sm:p-1.5 border rounded bg-gray-100 dark:bg-gray-600 dark:border-gray-500 text-gray-600 dark:text-gray-400 cursor-not-allowed w-full text-sm",readOnly:!0,required:!0}),d.customer_name&&l.jsx("p",{className:"text-red-500 text-xs mt-1",children:d.customer_name})]}),l.jsxs("div",{children:[l.jsx("input",{name:"customer_contact",value:c.customer_contact,onChange:O,type:"tel",inputMode:"numeric",pattern:"[0-9]*",maxLength:10,placeholder:"Contact Number",className:`p-2 sm:p-1.5 border rounded bg-white dark:bg-gray-700 dark:border-gray-600 focus:outline-none focus:ring-2 focus:ring-brand-orange focus:border-transparent transition w-full text-sm touch-manipulation ${d.customer_contact?"border-red-500":""}`,required:!0}),d.customer_contact&&l.jsx("p",{className:"text-red-500 text-xs mt-1",children:d.customer_contact})]}),l.jsxs("div",{children:[l.jsx("input",{name:"customer_email",value:c.customer_email,onChange:O,type:"email",placeholder:"Email Address",className:"p-2 sm:p-1.5 border rounded bg-gray-100 dark:bg-gray-600 dark:border-gray-500 text-gray-600 dark:text-gray-400 cursor-not-allowed w-full text-sm",readOnly:!0}),d.customer_email&&l.jsx("p",{className:"text-red-500 text-xs mt-1",children:d.customer_email})]}),s==="ground"?l.jsxs("div",{children:[l.jsx("input",{name:"event_type",value:c.event_type,onChange:O,type:"text",placeholder:"Sport / Event Type",className:`p-2 sm:p-1.5 border rounded bg-white dark:bg-gray-700 dark:border-gray-600 focus:outline-none focus:ring-2 focus:ring-brand-orange focus:border-transparent transition w-full text-sm touch-manipulation ${d.event_type?"border-red-500":""}`,required:!0}),d.event_type&&l.jsx("p",{className:"text-red-500 text-xs mt-1",children:d.event_type})]}):l.jsxs("div",{children:[l.jsx("p",{className:"mb-1.5 text-sm font-medium text-gray-600 dark:text-gray-400",children:"Select Nets"}),l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsx("button",{type:"button",onClick:()=>C("1"),className:`p-2.5 rounded text-center transition-all text-sm ${c.net_number.includes("1")?"bg-brand-blue text-white ring-2 ring-brand-orange":"bg-gray-100 dark:bg-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:"Concrete Net 1"}),l.jsx("button",{type:"button",onClick:()=>C("2"),className:`p-2.5 rounded text-center transition-all text-sm ${c.net_number.includes("2")?"bg-brand-blue text-white ring-2 ring-brand-orange":"bg-gray-100 dark:bg-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:"Concrete Net 2"}),l.jsx("button",{type:"button",onClick:()=>C("3"),className:`p-2.5 rounded text-center transition-all text-sm ${c.net_number.includes("3")?"bg-brand-blue text-white ring-2 ring-brand-orange":"bg-gray-100 dark:bg-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:"Astro Net 1"}),l.jsx("button",{type:"button",onClick:()=>C("4"),className:`p-2.5 rounded text-center transition-all text-sm ${c.net_number.includes("4")?"bg-brand-blue text-white ring-2 ring-brand-orange":"bg-gray-100 dark:bg-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:"Astro Net 2"})]}),d.net_selection&&l.jsx("p",{className:"text-red-500 text-xs mt-1",children:d.net_selection})]}),l.jsx("input",{name:"payment_amount",value:c.payment_amount||"",onChange:O,type:"number",step:"0.01",min:"0",placeholder:"Expected Amount",className:"p-2 sm:p-1.5 border rounded bg-white dark:bg-gray-700 dark:border-gray-600 focus:outline-none focus:ring-2 focus:ring-brand-orange focus:border-transparent transition w-full text-sm touch-manipulation"})]}),l.jsxs("div",{className:"pt-2 sm:pt-3",children:[l.jsxs("div",{className:"flex justify-between items-center mb-1 sm:mb-1.5",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Notes"}),l.jsxs("span",{className:`text-xs ${m>100?"text-red-500":"text-gray-500 dark:text-gray-400"}`,children:[m,"/100"]})]}),l.jsx("textarea",{name:"notes",value:c.notes,onChange:O,placeholder:"Notes...",maxLength:m>100?void 0:100,className:`p-1.5 sm:p-2 border rounded w-full h-16 sm:h-20 bg-white dark:bg-gray-700 dark:border-gray-600 focus:outline-none focus:ring-2 focus:ring-brand-orange focus:border-transparent transition text-sm ${m>100?"border-red-500":""}`}),m>100&&l.jsx("p",{className:"text-red-500 text-xs mt-1",children:"Letter limit exceeded"})]}),l.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-2.5",children:l.jsxs("p",{className:"text-xs text-blue-800 dark:text-blue-300",children:[l.jsx("strong",{children:"Note:"})," This is a booking request that will be reviewed by our management team. You'll receive a notification once your request is approved or declined."]})}),l.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-end items-center gap-2 sm:gap-3 pt-2 sm:pt-3 border-t dark:border-gray-700",children:[l.jsx("button",{type:"button",onClick:t,className:"w-full sm:w-auto bg-gray-200 text-gray-800 dark:bg-gray-600 dark:text-gray-200 px-3 py-2 sm:px-3 sm:py-1.5 rounded-lg text-sm hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors touch-manipulation min-h-[44px] sm:min-h-[36px]",children:"Cancel"}),l.jsx("button",{type:"submit",disabled:h||Object.keys(d).length>0,className:"w-full sm:w-auto bg-brand-orange text-white px-3 py-2 sm:px-3 sm:py-1.5 rounded-lg text-sm hover:bg-orange-600 transition-colors flex items-center justify-center space-x-2 disabled:opacity-50 touch-manipulation min-h-[44px] sm:min-h-[36px]",children:h?l.jsxs(l.Fragment,{children:[l.jsx(Ol,{size:14,className:"animate-spin flex-shrink-0"}),l.jsx("span",{children:"Submitting..."})]}):l.jsxs(l.Fragment,{children:[l.jsx(Gm,{size:14,className:"flex-shrink-0"}),l.jsx("span",{children:"Submit Request"})]})})]})]})]})})},pb=e=>{const[t,a]=_.useState(null),[s,n]=_.useState(!1),[r,i]=_.useState(null),o=_.useCallback((f,E)=>{if(E&&f){const D=f+"-"+E,q=new TextEncoder().encode(D);let g=0;for(let d=0;d<q.length;d++)g=(g<<5)-g+q[d],g=g&g;return btoa(String.fromCharCode(...q)).replace(/[^a-zA-Z0-9]/g,"").substring(0,16)}return`session-${Date.now()}`},[]),c=_.useCallback(async()=>{if(!e)return null;try{const f=o(e.name,e.email),E=new Date().toISOString(),D={id:f,name:e.name,email:e.email||null,created_at:E,last_active:E};try{const{data:q,error:g}=await oe.from("customer_sessions").select("*").eq("id",f).single();if(!g&&q)return await oe.from("customer_sessions").update({last_active:E}).eq("id",f),{...q,last_active:E};{const{error:d}=await oe.from("customer_sessions").insert([D]);return d&&console.log("Using virtual session (database table may not exist yet):",d.message),D}}catch(q){return console.log("Database session failed, using virtual session:",q),D}}catch(f){return console.error("Error creating customer session:",f),{id:o(e.name,e.email),name:e.name,email:e.email||null,created_at:new Date().toISOString(),last_active:new Date().toISOString()}}},[e,o]),x=_.useCallback(async()=>{if(!e){a(null);return}n(!0),i(null);try{const f=await c();if(!f)throw new Error("Could not create customer session");console.log(" Loading tracking data for session:",f.id);let E=[],D=[];try{const{data:g,error:d}=await oe.from("booking_requests").select("*").eq("customer_session_id",f.id).order("created_at",{ascending:!1});if(!d&&g)E=g,console.log(" Loaded requests using session ID:",E.length);else throw console.log(" Session ID method failed, trying fallback method"),new Error("Session method failed");const{data:y,error:k}=await oe.from("bookings").select("*").eq("customer_session_id",f.id).order("created_at",{ascending:!1});if(!k&&y)D=y,console.log(" Loaded bookings using session ID:",D.length);else throw console.log(" Session ID method failed for bookings, trying fallback method"),new Error("Session method failed")}catch(g){console.log(" Falling back to name/email matching:",g);const d=[];e.email&&d.push(`customer_email.ilike.%${e.email.toLowerCase().trim()}%`),e.name&&d.push(`customer_name.ilike.%${e.name.toLowerCase().trim()}%`);const y=[];if(e.email&&y.push(`customer_email.ilike.%${e.email.toLowerCase().trim()}%`),e.name&&y.push(`customer_name.ilike.%${e.name.toLowerCase().trim()}%`),d.length>0){const{data:k,error:z}=await oe.from("booking_requests").select("*").or(d.join(",")).order("created_at",{ascending:!1});z||(E=k||[],console.log(" Loaded requests using fallback method:",E.length))}if(y.length>0){const{data:k,error:z}=await oe.from("bookings").select("*").or(y.join(",")).order("created_at",{ascending:!1});z||(D=k||[],console.log(" Loaded bookings using fallback method:",D.length))}}const q={requests:E,bookings:D,session:f,lastSync:new Date().toISOString()};console.log(" Final tracking data:",{requests:E.length,bookings:D.length,session:f.id}),a(q)}catch(f){console.error(" Error loading tracking data:",f);const E=f instanceof Error?f.message:"Failed to load tracking data";E.includes("customer session")?(console.log(" Session creation failed, but continuing with fallback method"),i(null)):i(E)}finally{n(!1)}},[e,c]);_.useEffect(()=>{if(!e||!t)return;console.log(" Setting up real-time subscriptions for session:",t.session.id);const f=e.email||e.name,E=`customer-requests-${f}`,D=`customer-bookings-${f}`;console.log(" Creating real-time subscriptions:",{requestsChannel:E,bookingsChannel:D,user:{name:e.name,email:e.email}});const q=oe.channel(E).on("postgres_changes",{event:"*",schema:"public",table:"booking_requests"},d=>{console.log(" Real-time request update received:",{eventType:d.eventType,record:d.new||d.old,user:{name:e.name,email:e.email}});const y=d.new||d.old;if(y&&typeof y=="object"){const k=Y=>Y.toLowerCase().trim(),z=e.email?k(e.email):"",U=e.name?k(e.name):"",B=y.customer_email||"",H=y.customer_name||"";z&&B&&k(B).includes(z)||U&&H&&k(H).includes(U)?(console.log(" Real-time update is for current user, reloading data"),x()):console.log(" Real-time update is for different user, ignoring")}}).subscribe(d=>{console.log(" Requests subscription status:",d)}),g=oe.channel(D).on("postgres_changes",{event:"*",schema:"public",table:"bookings"},d=>{console.log(" Real-time booking update received:",{eventType:d.eventType,record:d.new||d.old,user:{name:e.name,email:e.email}});const y=d.new||d.old;if(y&&typeof y=="object"){const k=Y=>Y.toLowerCase().trim(),z=e.email?k(e.email):"",U=e.name?k(e.name):"",B=y.customer_email||"",H=y.customer_name||"";z&&B&&k(B).includes(z)||U&&H&&k(H).includes(U)?(console.log(" Real-time booking update is for current user, reloading data"),x()):console.log(" Real-time booking update is for different user, ignoring")}}).subscribe(d=>{console.log(" Bookings subscription status:",d)});return()=>{console.log(" Cleaning up real-time subscriptions"),oe.removeChannel(q),oe.removeChannel(g)}},[e,t,x]),_.useEffect(()=>{x()},[x]);const h=_.useCallback(()=>{if(!t)return[];const f=t.requests.map(D=>({...D,isRequest:!0})),E=t.bookings.map(D=>({...D,isRequest:!1}));return[...f,...E].sort((D,q)=>{const g=new Date(D.date).getTime();return new Date(q.date).getTime()-g})},[t]),b=_.useCallback(f=>{const E=h();return f?E.filter(D=>{var q,g,d;return((q=D.request_number)==null?void 0:q.toLowerCase().includes(f.toLowerCase()))||((g=D.event_type)==null?void 0:g.toLowerCase().includes(f.toLowerCase()))||((d=D.customer_name)==null?void 0:d.toLowerCase().includes(f.toLowerCase()))||D.date.includes(f)}):E},[h]),m=_.useCallback(()=>{const f=h();return{total:f.length,pending:f.filter(E=>E.status==="pending").length,approved:f.filter(E=>E.status==="approved").length,confirmed:f.filter(E=>E.status==="confirmed").length,rejected:f.filter(E=>E.status==="rejected").length,requests:(t==null?void 0:t.requests.length)||0,bookings:(t==null?void 0:t.bookings.length)||0}},[h,t]);return{trackingData:t,isLoading:s,error:r,loadTrackingData:x,getAllItems:h,getFilteredItems:b,getStats:m,session:(t==null?void 0:t.session)||null}},vb=e=>{const[t,a,s]=e.split("-").map(Number);return new Date(t,a-1,s)},Nb=({booking:e})=>{var i;const t=e.payment_status===$e.PAID;e.status,W.PENDING;const a=e.isRequest,n=(()=>{if(a)switch(e.status){case W.PENDING:return{status:"Under Review",description:"Your booking request is being reviewed by our team",color:"yellow",icon:""};case W.APPROVED:return{status:"Approved",description:"Your booking request has been approved! Please complete payment to confirm.",color:"blue",icon:""};case W.REJECTED:return{status:"Not Approved",description:"Unfortunately, your booking request could not be accommodated at this time.",color:"red",icon:""};case W.CONFIRMED:return{status:"Confirmed",description:"Your booking is confirmed and active! This slot is now reserved for you.",color:"green",icon:""};default:return{status:"Unknown",description:"Status update pending",color:"gray",icon:""}}else switch(e.status){case W.CONFIRMED:return{status:"Confirmed Booking",description:"Your booking is confirmed and the slot is reserved for you",color:"green",icon:""};case W.APPROVED:return{status:"Payment Pending",description:"Your booking is approved. Please complete payment to confirm.",color:"blue",icon:""};default:return{status:"Booking Status",description:"Booking status update",color:"gray",icon:""}}})(),r=()=>{switch(e.status){case W.PENDING:return"border-yellow-400 bg-yellow-50 dark:bg-yellow-900/20";case W.APPROVED:return"border-blue-400 bg-blue-50 dark:bg-blue-900/20";case W.CONFIRMED:return"border-green-400 bg-green-50 dark:bg-green-900/20";default:return"border-red-400 bg-red-50 dark:bg-red-900/20"}};return l.jsxs("div",{className:`p-4 rounded-lg shadow-sm border-l-4 ${r()} transition-all duration-200 hover:shadow-md`,children:[l.jsx("div",{className:"flex justify-between items-start mb-3",children:l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx("h3",{className:"font-semibold text-gray-800 dark:text-gray-200 truncate text-base",children:e.event_type||(Array.isArray(e.net_number)?e.net_number.map(o=>`Net ${o}`).join(", "):`Net ${e.net_number}`)}),a&&l.jsx("span",{className:"px-2 py-1 text-xs font-semibold rounded-full bg-yellow-100 text-yellow-700 dark:bg-yellow-900/50 dark:text-yellow-300",children:"REQUEST"})]}),e.request_number&&l.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-2 mb-2",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400 font-medium",children:"TRACKING TOKEN"}),l.jsxs("p",{className:"text-sm font-mono font-bold text-blue-800 dark:text-blue-300",children:["#",e.request_number]})]}),l.jsx("div",{className:"text-right",children:l.jsxs("div",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-semibold ${n.color==="yellow"?"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/50 dark:text-yellow-300":n.color==="blue"?"bg-blue-100 text-blue-700 dark:bg-blue-900/50 dark:text-blue-300":n.color==="green"?"bg-green-100 text-green-700 dark:bg-green-900/50 dark:text-green-300":"bg-gray-100 text-gray-700 dark:bg-gray-900/50 dark:text-gray-300"}`,children:[l.jsx("span",{children:n.icon}),n.status]})})]})})]})}),l.jsx("div",{className:"bg-gray-50 dark:bg-gray-800/50 rounded-lg p-3 mb-3",children:l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx("span",{className:"text-lg",children:n.icon}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h4",{className:"font-semibold text-gray-800 dark:text-gray-200 text-sm",children:n.status}),l.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:n.description})]})]})}),l.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(lt,{size:14,className:"text-gray-500"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Date"}),l.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200",children:vb(e.date).toLocaleDateString("en-GB")})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Lm,{size:14,className:"text-gray-500"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Time"}),l.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200",children:e.booking_type==="full_day"?"Full Day":(i=e.slots)==null?void 0:i.join(", ")})]})]})]}),l.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200 dark:border-gray-700",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Amount:"}),l.jsxs("span",{className:"text-lg font-bold text-gray-800 dark:text-gray-200",children:["",e.payment_amount.toLocaleString()]})]}),l.jsxs("div",{className:"flex items-center justify-between mt-1",children:[l.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Payment Status:"}),l.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${t?"bg-green-100 text-green-700 dark:bg-green-900/50 dark:text-green-300":"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/50 dark:text-yellow-300"}`,children:e.payment_status})]})]}),l.jsx("div",{className:"mt-3 flex items-center justify-center",children:l.jsxs("div",{className:"flex items-center gap-2 text-xs text-green-600 dark:text-green-400",children:[l.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),l.jsx("span",{className:"font-medium",children:"Live Tracking Active"})]})})]})},jb=()=>{const{user:e}=_.useContext(Ht),[t,a]=_.useState(new Date),{trackingData:s,isLoading:n,error:r,loadTrackingData:i,getAllItems:o,getStats:c}=pb(e),x=o(),h=c();return _.useEffect(()=>{s&&a(new Date)},[s]),e?n?l.jsxs("div",{className:"space-y-4 animate-slideInUp",children:[l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-200",children:" Advanced Booking Tracker"}),l.jsxs("div",{className:"flex items-center gap-1 bg-green-100 dark:bg-green-900/30 px-2 py-1 rounded-full",children:[l.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),l.jsx("span",{className:"text-xs text-green-700 dark:text-green-400 font-semibold",children:"LIVE"})]})]}),l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Loading your booking requests with real-time tracking..."})]}),l.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-3",children:l.jsxs("div",{className:"flex items-center justify-center gap-2",children:[l.jsx(Dh,{size:14,className:"animate-spin"}),l.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"Loading your bookings..."})]})})]}):r&&!r.includes("customer session")?l.jsxs("div",{className:"space-y-4 animate-slideInUp",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-200 mb-2",children:"Advanced Booking Tracker"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Track your booking requests in real-time"})]}),l.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(La,{size:16,className:"text-red-500"}),l.jsx("p",{className:"text-red-700 dark:text-red-300 font-medium",children:"Error Loading Data"})]}),l.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:r}),l.jsx("button",{onClick:i,className:"mt-2 px-3 py-1 bg-red-600 text-white text-sm rounded hover:bg-red-700",children:"Try Again"})]})]}):l.jsxs("div",{className:"space-y-4 animate-slideInUp",children:[l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-gray-200",children:"Advanced Booking Tracker"}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),l.jsx("span",{className:"text-xs text-green-600 dark:text-green-400 font-medium",children:"Live"})]})]}),l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Monitor your booking requests with real-time updates"}),l.jsx("div",{className:"mt-2 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:l.jsxs("div",{className:"text-sm text-blue-800 dark:text-blue-300",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Customer:"})," ",e.name]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Email:"})," ",e.email]})]})})]}),l.jsxs("div",{className:"grid grid-cols-5 gap-2",children:[l.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/20 border border-gray-200 dark:border-gray-700 rounded-lg p-2 text-center",children:[l.jsx("p",{className:"text-lg font-bold text-gray-700 dark:text-gray-300",children:h.total}),l.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Total"})]}),l.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-2 text-center",children:[l.jsx("p",{className:"text-lg font-bold text-yellow-700 dark:text-yellow-300",children:h.pending}),l.jsx("p",{className:"text-xs text-yellow-600 dark:text-yellow-400",children:"Pending"})]}),l.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-2 text-center",children:[l.jsx("p",{className:"text-lg font-bold text-blue-700 dark:text-blue-300",children:h.approved}),l.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400",children:"Approved"})]}),l.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-2 text-center",children:[l.jsx("p",{className:"text-lg font-bold text-green-700 dark:text-green-300",children:h.confirmed}),l.jsx("p",{className:"text-xs text-green-600 dark:text-green-400",children:"Confirmed"})]}),l.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-2 text-center",children:[l.jsx("p",{className:"text-lg font-bold text-red-700 dark:text-red-300",children:h.rejected}),l.jsx("p",{className:"text-xs text-red-600 dark:text-red-400",children:"Rejected"})]})]}),l.jsx("div",{className:"space-y-3",children:x.length>0?x.map(b=>l.jsx(Nb,{booking:b},b.id)):l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"w-12 h-12 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-3",children:l.jsx(lt,{size:18,className:"text-gray-400"})}),l.jsx("h3",{className:"text-base font-semibold text-gray-700 dark:text-gray-300 mb-1",children:"No Bookings Yet"}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-3",children:"You haven't made any booking requests yet. Use the 'Book Now' tab to submit a request and get your tracking token!"})]})}),l.jsxs("div",{className:"text-center text-xs text-gray-500 dark:text-gray-400",children:["Last updated: ",t.toLocaleTimeString()]})]}):l.jsxs("div",{className:"space-y-6 animate-slideInUp",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-200 mb-2",children:"Advanced Booking Tracker"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Track the status of all your booking requests with real-time updates"})]}),l.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:l.jsx("p",{className:"text-red-700 dark:text-red-300",children:" Please log in to view your bookings."})})]})},No=({className:e="",size:t=24})=>l.jsxs("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:[l.jsx("circle",{cx:"12",cy:"12",r:"11",fill:"#86efac",stroke:"#16a34a",strokeWidth:"1"}),l.jsxs("g",{transform:"translate(12, 12)",children:[l.jsx("rect",{x:"-3",y:"-6",width:"1.5",height:"12",fill:"#f59e0b",stroke:"#d97706",strokeWidth:"0.5"}),l.jsx("rect",{x:"-0.75",y:"-6",width:"1.5",height:"12",fill:"#f59e0b",stroke:"#d97706",strokeWidth:"0.5"}),l.jsx("rect",{x:"1.5",y:"-6",width:"1.5",height:"12",fill:"#f59e0b",stroke:"#d97706",strokeWidth:"0.5"}),l.jsx("rect",{x:"-3.5",y:"-6",width:"7",height:"0.8",fill:"#f59e0b",stroke:"#d97706",strokeWidth:"0.3"})]})]}),jo=({className:e="",size:t=24})=>l.jsxs("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:[l.jsx("path",{d:"M12 2 L22 12 L12 22 L2 12 Z",fill:"#fbbf24",stroke:"#f59e0b",strokeWidth:"0.5"}),l.jsx("path",{d:"M4 4 L20 20 M6 2 L22 18 M8 0 L24 16 M10 2 L20 12",stroke:"#f59e0b",strokeWidth:"0.3",opacity:"0.6"}),l.jsxs("g",{transform:"translate(12, 8)",children:[l.jsx("rect",{x:"-2",y:"-3",width:"1",height:"6",fill:"#1f2937",stroke:"#111827",strokeWidth:"0.3"}),l.jsx("rect",{x:"-0.5",y:"-3",width:"1",height:"6",fill:"#1f2937",stroke:"#111827",strokeWidth:"0.3"}),l.jsx("rect",{x:"1",y:"-3",width:"1",height:"6",fill:"#1f2937",stroke:"#111827",strokeWidth:"0.3"}),l.jsx("rect",{x:"-2.5",y:"-3",width:"5",height:"0.5",fill:"#1f2937",stroke:"#111827",strokeWidth:"0.2"})]}),l.jsx("rect",{x:"2",y:"20",width:"20",height:"1",fill:"#f59e0b",opacity:"0.8"})]}),wb=({onSelectSystem:e,customerName:t})=>l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900 flex items-center justify-center p-4 relative overflow-hidden",children:[l.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[l.jsx("div",{className:"absolute -top-20 -right-20 w-40 h-40 bg-gradient-to-br from-orange-500/15 to-red-600/15 rounded-full blur-2xl animate-pulse"}),l.jsx("div",{className:"absolute -bottom-20 -left-20 w-40 h-40 bg-gradient-to-br from-blue-500/15 to-purple-600/15 rounded-full blur-2xl animate-pulse delay-1000"})]}),l.jsxs("div",{className:"w-full max-w-[95vw] sm:max-w-3xl bg-white/95 dark:bg-gray-800/95 backdrop-blur-sm rounded-2xl shadow-2xl p-3 sm:p-4 md:p-6 space-y-3 sm:space-y-4 md:space-y-6 border border-white/20 animate-slideInUp",children:[l.jsxs("div",{className:"text-center space-y-1 sm:space-y-2",children:[l.jsx("div",{className:"relative",children:l.jsx("img",{src:"logo.png",alt:"Harvard House Sports Logo",className:"h-16 w-16 sm:h-20 sm:w-20 md:h-24 md:w-24 mx-auto"})}),l.jsx("h1",{className:"text-lg sm:text-2xl md:text-3xl font-display font-bold text-gray-800 dark:text-white",children:"Harvard House Sports"}),l.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[l.jsxs("p",{className:"text-gray-600 dark:text-gray-300 text-sm sm:text-base font-medium",children:["Welcome back, ",l.jsx("span",{className:"text-orange-600 dark:text-orange-400 font-semibold",children:t}),"!"]}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-xs sm:text-sm",children:"Customer Portal"})]})]}),l.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[l.jsx("h2",{className:"text-lg sm:text-xl md:text-2xl font-bold text-center text-gray-800 dark:text-white",children:"Choose Booking System"}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4 md:gap-6 mt-2 sm:mt-4",children:[l.jsxs("div",{onClick:()=>e("ground"),className:"group relative bg-gradient-to-br from-orange-50 to-red-50 dark:from-orange-900/20 dark:to-red-900/20 rounded-xl p-3 sm:p-4 md:p-5 cursor-pointer transition-all duration-300 transform hover:scale-105 hover:shadow-xl border-2 border-orange-200 dark:border-orange-800 hover:border-orange-300 dark:hover:border-orange-700",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-orange-400/5 to-red-500/5 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),l.jsxs("div",{className:"relative z-10 text-center space-y-2 sm:space-y-3",children:[l.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 md:w-14 md:h-14 bg-gradient-to-br from-orange-500 to-red-500 rounded-xl flex items-center justify-center mx-auto shadow-lg group-hover:shadow-xl transition-all duration-300",children:l.jsx(No,{className:"w-5 h-5 sm:w-6 sm:h-6 md:w-7 md:h-7 text-white"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-base sm:text-lg md:text-xl font-bold text-gray-800 dark:text-white mb-0.5 sm:mb-1",children:"Ground Booking"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-xs sm:text-sm leading-tight",children:"Outdoor facilities for matches, training & events"})]}),l.jsxs("div",{className:"flex items-center justify-center space-x-2 text-orange-600 dark:text-orange-400 group-hover:text-orange-700 dark:group-hover:text-orange-300 transition-colors",children:[l.jsx("span",{className:"font-semibold text-xs sm:text-sm",children:"Select"}),l.jsx(Ns,{className:"w-3 h-3 sm:w-4 sm:h-4 group-hover:translate-x-1 transition-transform duration-200 flex-shrink-0"})]})]})]}),l.jsxs("div",{onClick:()=>e("net"),className:"group relative bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-xl p-3 sm:p-4 md:p-5 cursor-pointer transition-all duration-300 transform hover:scale-105 hover:shadow-xl border-2 border-blue-200 dark:border-blue-800 hover:border-blue-300 dark:hover:border-blue-700",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-400/5 to-indigo-500/5 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),l.jsxs("div",{className:"relative z-10 text-center space-y-2 sm:space-y-3",children:[l.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 md:w-14 md:h-14 bg-gradient-to-br from-blue-500 to-indigo-500 rounded-xl flex items-center justify-center mx-auto shadow-lg group-hover:shadow-xl transition-all duration-300",children:l.jsx(jo,{className:"w-5 h-5 sm:w-6 sm:h-6 md:w-7 md:h-7 text-white"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-base sm:text-lg md:text-xl font-bold text-gray-800 dark:text-white mb-0.5 sm:mb-1",children:"Indoor Net Booking"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-xs sm:text-sm leading-tight",children:"Indoor nets for practice & small group activities"})]}),l.jsxs("div",{className:"flex items-center justify-center space-x-2 text-blue-600 dark:text-blue-400 group-hover:text-blue-700 dark:group-hover:text-blue-300 transition-colors",children:[l.jsx("span",{className:"font-semibold text-xs sm:text-sm",children:"Select"}),l.jsx(Ns,{className:"w-3 h-3 sm:w-4 sm:h-4 group-hover:translate-x-1 transition-transform duration-200 flex-shrink-0"})]})]})]})]})]}),l.jsx("div",{className:"text-center pt-1 sm:pt-2 border-t border-gray-200 dark:border-gray-700",children:l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Select your preferred booking system"})})]})]}),kb=({deferredPrompt:e,onInstallClick:t,userRole:a})=>{const[s,n]=_.useState(!1),[r,i]=_.useState(!1),[o,c]=_.useState("HHS Booking"),[x,h]=_.useState(!1);_.useEffect(()=>{if(c(a==="customer"?"HHS Booking":a==="admin"||a==="management"?"Booking Management":"HHS Booking"),sessionStorage.getItem(`installPromptDismissed-${a||"default"}`)){n(!1);return}const D=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,q="standalone"in window.navigator&&window.navigator.standalone===!0||window.matchMedia("(display-mode: standalone)").matches;e&&!q?(n(!0),i(!1)):D&&!q&&(n(!0),i(!0))},[e,a]),_.useEffect(()=>{if(s){const E=setTimeout(()=>h(!0),500);return()=>clearTimeout(E)}},[s]);const b=()=>{sessionStorage.setItem(`installPromptDismissed-${a||"default"}`,"true"),n(!1)},m=()=>{t()};if(!s)return null;const f=a==="customer";return l.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[1000] flex items-center justify-center p-4 animate-fadeIn",children:l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-2xl max-w-md w-full mx-auto overflow-hidden animate-bounce-in border border-gray-200 dark:border-gray-700",children:[l.jsxs("div",{className:`relative ${f?"bg-gradient-to-br from-orange-500 to-red-500":"bg-gradient-to-br from-blue-600 to-indigo-600"} p-6 text-white overflow-hidden`,children:[l.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -translate-y-16 translate-x-16 animate-float"}),l.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-white/10 rounded-full translate-y-12 -translate-x-12 animate-float delay-1000"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent animate-shimmer"}),l.jsxs("div",{className:"relative z-10",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsxs("div",{className:"relative",children:[l.jsx("img",{src:"logo.png",alt:"App Logo",className:"h-12 w-12 rounded-xl shadow-lg"}),l.jsx("div",{className:"absolute -bottom-1 -right-1 w-5 h-5 bg-green-400 rounded-full border-2 border-white flex items-center justify-center",children:l.jsx(Um,{className:"w-3 h-3 text-white"})})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-bold",children:o}),l.jsx("p",{className:"text-white/90 text-sm",children:"Progressive Web App"})]})]}),l.jsx("button",{onClick:b,className:"text-white/80 hover:text-white transition-colors p-2 hover:bg-white/10 rounded-full","aria-label":"Dismiss install prompt",children:l.jsx(ht,{size:24})})]}),l.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[l.jsx(Oh,{className:"w-5 h-5"}),l.jsx("span",{className:"text-sm font-medium",children:"Install for the best experience"})]})]})]}),l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("h4",{className:"text-lg font-bold text-gray-800 dark:text-white mb-2",children:f?" Book Facilities Faster":" Manage Bookings Efficiently"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm leading-relaxed",children:f?"Get instant access to book sports facilities, track your reservations, and receive real-time updates - all from your home screen!":"Streamline your workflow with powerful management tools, real-time analytics, and instant notifications - right at your fingertips!"})]}),l.jsx("div",{className:`space-y-3 mb-6 transition-all duration-500 ${x?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:f?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg bg-orange-50 dark:bg-orange-900/20 hover:bg-orange-100 dark:hover:bg-orange-900/30 transition-colors duration-200 animate-slide-up-fade delay-200",children:[l.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-400 to-orange-600 rounded-full flex items-center justify-center shadow-lg",children:l.jsx(ab,{className:"w-5 h-5 text-white"})}),l.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Instant booking confirmations"})]}),l.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg bg-blue-50 dark:bg-blue-900/20 hover:bg-blue-100 dark:hover:bg-blue-900/30 transition-colors duration-200 animate-slide-up-fade delay-300",children:[l.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-400 to-blue-600 rounded-full flex items-center justify-center shadow-lg",children:l.jsx(lt,{className:"w-5 h-5 text-white"})}),l.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Real-time availability updates"})]}),l.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg bg-green-50 dark:bg-green-900/20 hover:bg-green-100 dark:hover:bg-green-900/30 transition-colors duration-200 animate-slide-up-fade delay-400",children:[l.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-green-400 to-green-600 rounded-full flex items-center justify-center shadow-lg",children:l.jsx(Lh,{className:"w-5 h-5 text-white"})}),l.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Offline access & push notifications"})]})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg bg-blue-50 dark:bg-blue-900/20 hover:bg-blue-100 dark:hover:bg-blue-900/30 transition-colors duration-200 animate-slide-up-fade delay-200",children:[l.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-400 to-blue-600 rounded-full flex items-center justify-center shadow-lg",children:l.jsx(Jx,{className:"w-5 h-5 text-white"})}),l.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Advanced analytics & reporting"})]}),l.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg bg-indigo-50 dark:bg-indigo-900/20 hover:bg-indigo-100 dark:hover:bg-indigo-900/30 transition-colors duration-200 animate-slide-up-fade delay-300",children:[l.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-indigo-400 to-indigo-600 rounded-full flex items-center justify-center shadow-lg",children:l.jsx(Mn,{className:"w-5 h-5 text-white"})}),l.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Comprehensive customer management"})]}),l.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg bg-purple-50 dark:bg-purple-900/20 hover:bg-purple-100 dark:hover:bg-purple-900/30 transition-colors duration-200 animate-slide-up-fade delay-400",children:[l.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-400 to-purple-600 rounded-full flex items-center justify-center shadow-lg",children:l.jsx(yo,{className:"w-5 h-5 text-white"})}),l.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Enterprise-grade security"})]})]})}),r&&l.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 border border-blue-200 dark:border-blue-800 rounded-xl p-4 mb-4 animate-slide-up-fade delay-500",children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[l.jsx("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-800 rounded-full flex items-center justify-center",children:l.jsx(Xd,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})}),l.jsx("span",{className:"font-semibold text-blue-800 dark:text-blue-200 text-sm",children:"iPhone/iPad Installation Guide"})]}),l.jsxs("div",{className:"space-y-2 text-sm text-blue-700 dark:text-blue-300 leading-relaxed",children:[l.jsxs("div",{className:"flex items-start space-x-2",children:[l.jsx("span",{className:"text-blue-500 dark:text-blue-400 font-bold",children:"1."}),l.jsxs("span",{children:["Tap the share button ",l.jsx(Xd,{size:14,className:"inline-block mx-1"})," in Safari's toolbar (square with arrow pointing up)"]})]}),l.jsxs("div",{className:"flex items-start space-x-2",children:[l.jsx("span",{className:"text-blue-500 dark:text-blue-400 font-bold",children:"2."}),l.jsx("span",{children:'Scroll down and tap "Add to Home Screen"'})]}),l.jsxs("div",{className:"flex items-start space-x-2",children:[l.jsx("span",{className:"text-blue-500 dark:text-blue-400 font-bold",children:"3."}),l.jsx("span",{children:'Tap "Add" in the top-right corner to install'})]}),l.jsx("div",{className:"mt-3 p-2 bg-blue-100 dark:bg-blue-800/50 rounded-lg",children:l.jsxs("p",{className:"text-xs text-blue-600 dark:text-blue-300",children:[" ",l.jsx("strong",{children:"Tip:"})," Look for the app icon on your home screen after installation!"]})})]})]}),l.jsxs("div",{className:"flex space-x-3",children:[!r&&e&&l.jsxs("button",{onClick:m,className:`flex-1 ${f?"bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600":"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700"} text-white py-3 px-4 rounded-xl font-semibold transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl flex items-center justify-center space-x-2 animate-pulse-glow`,children:[l.jsx(bc,{className:"w-5 h-5"}),l.jsx("span",{children:"Install App"})]}),l.jsx("button",{onClick:b,className:"px-4 py-3 border-2 border-gray-300 dark:border-gray-600 text-gray-600 dark:text-gray-400 rounded-xl font-medium hover:bg-gray-50 dark:hover:bg-gray-700 transition-all duration-200 hover:border-gray-400 dark:hover:border-gray-500",children:"Maybe Later"})]})]})]})})},Sb=()=>{const[e,t]=_.useState({isOnline:navigator.onLine,isSlowConnection:!1,connectionType:"unknown",lastOnline:null});return _.useEffect(()=>{const a=()=>{const i=navigator.onLine,o=navigator.connection||navigator.mozConnection||navigator.webkitConnection;t(c=>({isOnline:i,isSlowConnection:o?o.effectiveType==="slow-2g"||o.effectiveType==="2g"||o.rtt>300:!1,connectionType:(o==null?void 0:o.effectiveType)||"unknown",lastOnline:i?new Date:c.lastOnline}))},s=()=>{a()},n=()=>{a()};a(),window.addEventListener("online",s),window.addEventListener("offline",n);const r=navigator.connection;return r&&r.addEventListener("change",a),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",n),r&&r.removeEventListener("change",a)}},[]),e},_b=({className:e="",showDetails:t=!1})=>{const{isOnline:a,isSlowConnection:s,connectionType:n,lastOnline:r}=Sb();if(a&&!s)return null;const i=()=>a?s?l.jsx(po,{className:"w-4 h-4"}):l.jsx(Ph,{className:"w-4 h-4"}):l.jsx(Wh,{className:"w-4 h-4"}),o=()=>a?s?"text-yellow-500 bg-yellow-50 border-yellow-200":"text-green-500 bg-green-50 border-green-200":"text-red-500 bg-red-50 border-red-200",c=()=>a?s?"Slow Connection":"Online":"Offline",x=h=>{if(!h)return"";const m=Math.floor((new Date().getTime()-h.getTime())/(1e3*60));if(m<1)return"just now";if(m<60)return`${m}m ago`;const f=Math.floor(m/60);return f<24?`${f}h ago`:`${Math.floor(f/24)}d ago`};return l.jsxs("div",{className:`fixed top-4 right-4 z-50 border rounded-lg px-3 py-2 shadow-lg backdrop-blur-sm ${o()} ${e}`,children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[i(),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"text-sm font-medium",children:c()}),t&&l.jsx("div",{className:"text-xs text-gray-600",children:a?l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("span",{children:n}),s&&l.jsx(Lm,{className:"w-3 h-3"})]}):l.jsxs("span",{children:["Last online: ",x(r)]})})]})]}),!a&&l.jsx("div",{className:"mt-2 text-xs text-gray-600 bg-white/50 rounded px-2 py-1",children:l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx(po,{className:"w-3 h-3"}),l.jsx("span",{children:"Changes will sync when online"})]})})]})},Eb=({isOpen:e,onConfirm:t,onCancel:a,canGoBack:s,exitType:n="back-button"})=>e?l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-fadeIn",children:l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl p-6 w-full max-w-sm mx-auto animate-scaleIn",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Exit App"}),l.jsx("button",{onClick:a,className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:l.jsx(ht,{size:20})})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-red-100 dark:bg-red-900/20 rounded-full mx-auto mb-4",children:l.jsx($m,{className:"w-8 h-8 text-red-600 dark:text-red-400"})}),l.jsx("p",{className:"text-center text-gray-600 dark:text-gray-400",children:n==="exit-button"?s?"You're about to exit the app. Would you like to go back instead?":"Are you sure you want to exit the Harvard House Sports app?":s?"Would you like to go back to the previous screen or exit the app?":"Are you sure you want to exit the app?"})]}),l.jsxs("div",{className:"space-y-3",children:[s&&l.jsxs("button",{onClick:a,className:"w-full flex items-center justify-center space-x-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 px-4 py-3 rounded-xl hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors font-medium",children:[l.jsx(Hx,{size:18}),l.jsx("span",{children:"Go Back"})]}),l.jsx("button",{onClick:t,className:"w-full bg-red-500 text-white px-4 py-3 rounded-xl hover:bg-red-600 transition-colors font-medium",children:"Exit App"}),l.jsx("button",{onClick:a,className:"w-full text-gray-500 dark:text-gray-400 text-sm hover:text-gray-700 dark:hover:text-gray-300 transition-colors",children:"Cancel"})]}),l.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:l.jsx("p",{className:"text-xs text-center text-gray-500 dark:text-gray-400",children:"You can also close the app using your device's app switcher"})})]})}):null,Db=e=>{const[t,a]=_.useState("default"),[s,n]=_.useState(!1),r="Notification"in window;_.useEffect(()=>{const x=()=>{a(at.getPermissionStatus())};x();const h=()=>x();return window.addEventListener("notificationpermissionchange",h),()=>{window.removeEventListener("notificationpermissionchange",h)}},[]),_.useEffect(()=>{e&&r&&(async()=>{n(!0);try{await at.initialize(),a(at.getPermissionStatus())}catch(h){console.error("Failed to initialize notifications:",h)}finally{n(!1)}})()},[e,r]);const i=_.useCallback(async()=>{if(!r)throw new Error("Notifications are not supported in this browser");n(!0);try{const x=await at.requestPermission();return a(x),x}catch(x){throw console.error("Failed to request notification permission:",x),x}finally{n(!1)}},[r]),o=_.useCallback(async()=>{if(!at.canNotify())throw new Error("Notification permission not granted");await at.showNotification({title:"Test Notification",body:"Notifications are working correctly!",tag:"test-notification"})},[]),c=_.useCallback(()=>{at.resetPermission(),a("default")},[]);return{isSupported:r,permission:t,isLoading:s,requestPermission:i,showTestNotification:o,resetPermission:c}},Tb=({user:e,isOpen:t,onClose:a})=>{const{isSupported:s,permission:n,isLoading:r,requestPermission:i,showTestNotification:o,resetPermission:c}=Db(e),[x,h]=_.useState(!1),b=async()=>{try{await i()}catch(E){console.error("Failed to request permission:",E)}},m=async()=>{h(!0);try{await o()}catch(E){console.error("Failed to show test notification:",E)}finally{h(!1)}},f=()=>{c()};return t?l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center",children:[l.jsx(al,{className:"w-5 h-5 mr-2"}),"Notification Settings"]}),l.jsx("button",{onClick:a,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:""})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[l.jsxs("div",{className:"flex items-center",children:[s?l.jsx(al,{className:"w-5 h-5 text-green-500 mr-3"}):l.jsx(Yd,{className:"w-5 h-5 text-red-500 mr-3"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Browser Support"}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:s?"Notifications are supported":"Notifications are not supported in this browser"})]})]}),l.jsx("div",{className:`w-3 h-3 rounded-full ${s?"bg-green-500":"bg-red-500"}`})]}),s&&l.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[l.jsxs("div",{className:"flex items-center",children:[n==="granted"?l.jsx(al,{className:"w-5 h-5 text-green-500 mr-3"}):n==="denied"?l.jsx(Yd,{className:"w-5 h-5 text-red-500 mr-3"}):l.jsx(al,{className:"w-5 h-5 text-yellow-500 mr-3"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Permission Status"}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:n==="granted"?"Notifications are enabled":n==="denied"?"Notifications are blocked":"Permission not requested yet"})]})]}),l.jsx("div",{className:`w-3 h-3 rounded-full ${n==="granted"?"bg-green-500":n==="denied"?"bg-red-500":"bg-yellow-500"}`})]}),s&&l.jsxs("div",{className:"space-y-3",children:[n!=="granted"&&l.jsx("button",{onClick:b,disabled:r||n==="denied",className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white font-medium py-3 px-4 rounded-lg transition-colors duration-200 flex items-center justify-center",children:r?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Requesting..."]}):n==="denied"?"Permission Denied":l.jsxs(l.Fragment,{children:[l.jsx(al,{className:"w-4 h-4 mr-2"}),"Enable Notifications"]})}),n==="granted"&&l.jsx("button",{onClick:m,disabled:x,className:"w-full bg-green-600 hover:bg-green-700 disabled:bg-gray-400 text-white font-medium py-3 px-4 rounded-lg transition-colors duration-200 flex items-center justify-center",children:x?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Sending..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Yh,{className:"w-4 h-4 mr-2"}),"Send Test Notification"]})}),l.jsxs("button",{onClick:f,className:"w-full bg-gray-600 hover:bg-gray-700 text-white font-medium py-3 px-4 rounded-lg transition-colors duration-200 flex items-center justify-center",children:[l.jsx(Ah,{className:"w-4 h-4 mr-2"}),"Reset Permission"]})]}),l.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:[l.jsx("h3",{className:"font-medium text-blue-900 dark:text-blue-100 mb-2",children:"About Notifications"}),l.jsxs("ul",{className:"text-sm text-blue-800 dark:text-blue-200 space-y-1",children:[l.jsx("li",{children:" Get instant alerts for booking requests and approvals"}),l.jsx("li",{children:" Stay updated on your booking status in real-time"}),l.jsx("li",{children:" Notifications work even when the app is in the background"}),l.jsx("li",{children:" You can change these settings anytime"})]})]})]}),l.jsx("div",{className:"flex justify-end mt-6",children:l.jsx("button",{onClick:a,className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200",children:"Close"})})]})}):null},Ab=({isOpen:e,onClose:t})=>{const{specialDates:a,addSpecialDate:s,removeSpecialDate:n,user:r}=_.useContext(Ht),[i,o]=_.useState("single"),[c,x]=_.useState(""),[h,b]=_.useState(""),[m,f]=_.useState(""),[E,D]=_.useState(""),[q,g]=_.useState(!1),[d,y]=_.useState(null),[k,z]=_.useState(null),[U,B]=_.useState(null),H=S=>{if(!S)return"Date is required";const N=new Date(S),j=new Date;return j.setHours(0,0,0,0),N<j?"Cannot select past dates":a.some(v=>{if(v.date===S)return!0;if(v.start_date&&v.end_date){const T=new Date(v.start_date),M=new Date(v.end_date);return N>=T&&N<=M}return!1})?"This date is already marked as special":null},Z=(S,N)=>{if(!S)return"Start date is required";if(!N)return"End date is required";const j=new Date(S),p=new Date(N),v=new Date;if(v.setHours(0,0,0,0),j<v)return"Cannot select past start dates";if(p<v)return"Cannot select past end dates";if(p<j)return"End date cannot be before start date";const T=Math.abs(p.getTime()-j.getTime());return Math.ceil(T/(1e3*60*60*24))>365?"Date range cannot exceed 365 days":a.some(F=>{if(F.start_date&&F.end_date){const ee=new Date(F.start_date),re=new Date(F.end_date);return j<=re&&p>=ee}else if(F.date){const ee=new Date(F.date);return ee>=j&&ee<=p}return!1})?"This date range overlaps with an existing special date or range":null},Y=(S,N)=>{y({type:S,text:N}),setTimeout(()=>y(null),5e3)},P=async()=>{if(!r)return;let S=null;if(i==="single"){if(!c)return;S=H(c)}else{if(!h||!m)return;S=Z(h,m)}if(S){Y("error",S);return}g(!0);try{if(i==="single")await s(c,E.trim()||void 0,!1),x(""),D(""),Y("success",`Special date added successfully for ${new Date(c).toLocaleDateString("en-GB",{weekday:"long",day:"numeric",month:"long"})}`);else{await s(h,m,!0),b(""),f(""),D("");const N=new Date(h).toLocaleDateString("en-GB",{day:"numeric",month:"long"}),j=new Date(m).toLocaleDateString("en-GB",{day:"numeric",month:"long",year:"numeric"});Y("success",`Special date range added successfully from ${N} to ${j}`)}}catch(N){console.error("Error adding special date:",N);const j=N instanceof Error?N.message:"Failed to add special date. Please try again.";Y("error",j)}finally{g(!1)}},Q=async S=>{r&&z(S)},V=async()=>{if(!(!k||!r))try{await n(k),Y("success","Special date removed successfully"),z(null)}catch(S){console.error("Error removing special date:",S);const N=S instanceof Error?S.message:"Failed to remove special date. Please try again.";Y("error",N)}},G=()=>{z(null)},I=async()=>{if(!(!U||!r))try{await n(U.start,U.end),Y("success","Special date range removed successfully"),B(null)}catch(S){console.error("Error removing special date range:",S);const N=S instanceof Error?S.message:"Failed to remove special date range. Please try again.";Y("error",N)}},O=()=>{B(null)},X=S=>{S.key==="Enter"&&!q&&P()},w=()=>i==="single"?!!(c&&!H(c)&&!q):!!(h&&m&&!Z(h,m)&&!q),C=S=>new Date(S).toLocaleDateString("en-GB",{weekday:"long",day:"numeric",month:"long",year:"numeric"}),u=S=>{if(S.start_date&&S.end_date){const N=new Date(S.start_date),j=new Date(S.end_date),p=N.toLocaleDateString("en-GB",{day:"numeric",month:"short"}),v=j.toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"});return`${p} - ${v}`}else if(S.date)return C(S.date);return"Invalid Date"};return e?l.jsxs("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-2 animate-fadeIn",children:[l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col",children:[l.jsxs("div",{className:"flex justify-between items-center p-4 border-b dark:border-gray-700 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-lg font-bold text-brand-dark dark:text-white flex items-center gap-2",children:[l.jsx("div",{className:"p-1.5 bg-brand-orange/10 dark:bg-brand-orange/20 rounded-lg",children:l.jsx(lt,{size:20,className:"text-brand-orange"})}),"Manage Special Dates"]}),l.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-0.5",children:"Add dates for full availability like weekends"})]}),l.jsx("button",{onClick:t,className:"p-2 rounded-full text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 transition-all transform hover:scale-110 active:scale-95",children:l.jsx(ht,{size:18})})]}),l.jsxs("div",{className:"p-3 flex-grow overflow-y-auto",children:[d&&l.jsxs("div",{className:`mb-4 p-3 rounded-lg flex items-center gap-2 ${d.type==="success"?"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800":d.type==="error"?"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800":"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800"}`,children:[d.type==="success"?l.jsx(Um,{size:16,className:"text-green-600 dark:text-green-400"}):d.type==="error"?l.jsx(La,{size:16,className:"text-red-600 dark:text-red-400"}):l.jsx(La,{size:16,className:"text-blue-600 dark:text-blue-400"}),l.jsx("span",{className:`text-sm ${d.type==="success"?"text-green-700 dark:text-green-300":d.type==="error"?"text-red-700 dark:text-red-300":"text-blue-700 dark:text-blue-300"}`,children:d.text})]}),l.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-700/50 dark:to-gray-600/50 rounded-lg p-4 mb-4 border border-gray-200 dark:border-gray-600",children:[l.jsxs("h3",{className:"font-semibold text-gray-800 dark:text-gray-200 mb-3 flex items-center gap-2",children:[l.jsx(Sa,{size:16,className:"text-brand-orange"}),"Add Special Date"]}),l.jsx("div",{className:"mb-4",children:l.jsxs("div",{className:"flex bg-gray-200 dark:bg-gray-700 rounded-lg p-1",children:[l.jsx("button",{type:"button",onClick:()=>o("single"),className:`flex-1 py-2 px-3 text-sm rounded-md transition-all ${i==="single"?"bg-white dark:bg-gray-600 text-brand-orange shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200"}`,children:"Single Date"}),l.jsx("button",{type:"button",onClick:()=>o("range"),className:`flex-1 py-2 px-3 text-sm rounded-md transition-all ${i==="range"?"bg-white dark:bg-gray-600 text-brand-orange shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200"}`,children:"Date Range"})]})}),l.jsxs("div",{className:"space-y-3",children:[i==="single"?l.jsxs("div",{children:[l.jsxs("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Date * ",l.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"(Future dates only)"})]}),l.jsx("input",{type:"date",value:c,onChange:S=>x(S.target.value),onKeyPress:X,className:`w-full p-2 border rounded-lg bg-white dark:bg-gray-700 dark:border-gray-600 focus:outline-none focus:ring-2 focus:ring-brand-orange focus:border-transparent text-sm transition-colors ${c&&H(c)?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-500"}`,min:new Date().toISOString().split("T")[0],required:!0}),c&&H(c)&&l.jsxs("p",{className:"text-red-500 text-xs mt-1 flex items-center gap-1",children:[l.jsx(La,{size:12}),H(c)]})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Start Date *"}),l.jsx("input",{type:"date",value:h,onChange:S=>b(S.target.value),onKeyPress:X,className:`w-full p-2 border rounded-lg bg-white dark:bg-gray-700 dark:border-gray-600 focus:outline-none focus:ring-2 focus:ring-brand-orange focus:border-transparent text-sm transition-colors ${h&&Z(h,m)?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-500"}`,min:new Date().toISOString().split("T")[0],required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:"End Date *"}),l.jsx("input",{type:"date",value:m,onChange:S=>f(S.target.value),onKeyPress:X,className:`w-full p-2 border rounded-lg bg-white dark:bg-gray-700 dark:border-gray-600 focus:outline-none focus:ring-2 focus:ring-brand-orange focus:border-transparent text-sm transition-colors ${m&&Z(h,m)?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-500"}`,min:h||new Date().toISOString().split("T")[0],required:!0})]})]}),h&&m&&Z(h,m)&&l.jsxs("p",{className:"text-red-500 text-xs mt-1 flex items-center gap-1",children:[l.jsx(La,{size:12}),Z(h,m)]}),h&&m&&!Z(h,m)&&l.jsxs("p",{className:"text-blue-600 dark:text-blue-400 text-xs mt-1 flex items-center gap-1",children:[l.jsx(lt,{size:12}),"Range: ",Math.ceil((new Date(m).getTime()-new Date(h).getTime())/(1e3*60*60*24))," days"]})]}),i==="single"&&l.jsxs("div",{children:[l.jsxs("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Description ",l.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"(Optional)"})]}),l.jsx("input",{type:"text",value:E,onChange:S=>D(S.target.value),onKeyPress:X,placeholder:"e.g., Company event, Holiday, etc.",className:"w-full p-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-white dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-brand-orange focus:border-transparent text-sm transition-colors"})]})]}),l.jsx("button",{onClick:P,disabled:!w(),className:"mt-3 w-full bg-brand-orange text-white py-2.5 px-4 rounded-lg text-sm hover:bg-orange-600 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 transition-all transform hover:scale-[1.02] active:scale-[0.98]",children:q?l.jsxs(l.Fragment,{children:[l.jsx(Ol,{size:14,className:"animate-spin"}),i==="single"?"Adding Special Date...":"Adding Date Range..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Sa,{size:14}),i==="single"?"Add Special Date":"Add Date Range"]})}),l.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2 text-center",children:[" ",i==="single"?"Special dates":"Date ranges"," will be treated like weekends with all slots available"]})]}),l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border dark:border-gray-700 shadow-sm",children:[l.jsxs("div",{className:"p-4 border-b dark:border-gray-700 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20",children:[l.jsxs("h3",{className:"font-semibold text-gray-800 dark:text-gray-200 flex items-center gap-2",children:[l.jsx(lt,{size:16,className:"text-brand-orange"}),"Current Special Dates (",a.length,")"]}),l.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:"These dates will be treated like weekends with all slots available for full day bookings"})]}),l.jsx("div",{className:"max-h-96 overflow-y-auto",children:a.length===0?l.jsxs("div",{className:"p-8 text-center",children:[l.jsx(lt,{size:32,className:"text-gray-300 dark:text-gray-600 mx-auto mb-3"}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"No special dates configured"}),l.jsx("p",{className:"text-gray-400 dark:text-gray-500 text-xs mt-1",children:"Add your first special date above"})]}):l.jsx("div",{className:"divide-y dark:divide-gray-700",children:a.sort((S,N)=>{const j=S.start_date||S.date||"",p=N.start_date||N.date||"";return j.localeCompare(p)}).map(S=>{const N=!!(S.start_date&&S.end_date);return l.jsx("div",{className:"p-4 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors group",children:l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{className:"flex-grow",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("div",{className:"font-semibold text-gray-800 dark:text-gray-200",children:u(S)}),l.jsx("span",{className:`px-2 py-0.5 text-xs rounded-full font-medium ${N?"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300":"bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-300"}`,children:N?"Date Range":"Special Day"})]}),S.description&&l.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1 flex items-center gap-1",children:[l.jsx("span",{className:"text-xs",children:""}),S.description]}),l.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 flex items-center gap-1",children:l.jsxs("span",{children:["Added: ",new Date(S.created_at).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})]})})]}),l.jsx("button",{onClick:()=>{N&&S.start_date&&S.end_date?B({start:S.start_date,end:S.end_date}):S.date&&Q(S.date)},className:"p-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-all transform hover:scale-110 active:scale-95 opacity-0 group-hover:opacity-100",title:`Remove special ${N?"date range":"date"}`,children:l.jsx(Tr,{size:14})})]})},S.id)})})})]})]}),l.jsx("div",{className:"p-4 border-t dark:border-gray-700 bg-gray-50 dark:bg-gray-700/50",children:l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:t,className:"flex-1 bg-gray-200 text-gray-800 dark:bg-gray-600 dark:text-gray-200 py-2.5 px-4 rounded-lg text-sm hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors font-medium",children:"Close"}),a.length>0&&l.jsx("button",{onClick:()=>Y("info",`Total special dates: ${a.length}. These dates provide full availability like weekends.`),className:"flex-1 bg-blue-500 text-white py-2.5 px-4 rounded-lg text-sm hover:bg-blue-600 transition-colors font-medium",children:"View Summary"})]})})]}),k&&l.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-[60] p-2 animate-fadeIn",children:l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-2xl w-full max-w-sm",children:[l.jsx("div",{className:"p-4 border-b dark:border-gray-700",children:l.jsxs("h3",{className:"font-bold text-gray-800 dark:text-gray-200 flex items-center gap-2",children:[l.jsx(La,{size:18,className:"text-red-500"}),"Confirm Deletion"]})}),l.jsxs("div",{className:"p-4",children:[l.jsxs("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-4",children:["Are you sure you want to remove this special date?",l.jsx("br",{}),l.jsx("span",{className:"font-medium text-gray-800 dark:text-gray-200",children:k&&C(k)}),l.jsx("br",{}),"This action cannot be undone."]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:G,className:"flex-1 bg-gray-200 text-gray-800 dark:bg-gray-600 dark:text-gray-200 py-2 px-3 rounded text-sm hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors",children:"Cancel"}),l.jsx("button",{onClick:V,className:"flex-1 bg-red-500 text-white py-2 px-3 rounded text-sm hover:bg-red-600 transition-colors",children:"Remove"})]})]})]})}),U&&l.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-[60] p-2 animate-fadeIn",children:l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-2xl w-full max-w-sm",children:[l.jsx("div",{className:"p-4 border-b dark:border-gray-700",children:l.jsxs("h3",{className:"font-bold text-gray-800 dark:text-gray-200 flex items-center gap-2",children:[l.jsx(La,{size:18,className:"text-red-500"}),"Confirm Deletion"]})}),l.jsxs("div",{className:"p-4",children:[l.jsxs("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-4",children:["Are you sure you want to remove this special date range?",l.jsx("br",{}),l.jsx("span",{className:"font-medium text-gray-800 dark:text-gray-200",children:U&&`${C(U.start)} - ${C(U.end)}`}),l.jsx("br",{}),"This action cannot be undone."]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:O,className:"flex-1 bg-gray-200 text-gray-800 dark:bg-gray-600 dark:text-gray-200 py-2 px-3 rounded text-sm hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors",children:"Cancel"}),l.jsx("button",{onClick:I,className:"flex-1 bg-red-500 text-white py-2 px-3 rounded text-sm hover:bg-red-600 transition-colors",children:"Remove"})]})]})]})})]}):null},Cb=e=>{const{onExit:t,onNavigateBack:a,isMobile:s}=e,[n,r]=_.useState({viewHistory:[],canGoBack:!1}),[i,o]=_.useState(!1),[c,x]=_.useState("back-button"),h=_.useCallback(g=>{r(d=>{const y=[...d.viewHistory,g];return{viewHistory:y,canGoBack:y.length>1}})},[]),b=_.useCallback(()=>{r(g=>{if(g.viewHistory.length<=1)return s&&(x("back-button"),o(!0)),g;const d=g.viewHistory.slice(0,-1),y=d[d.length-1];return y&&a(y),{viewHistory:d,canGoBack:d.length>1}})},[a,s]);_.useEffect(()=>{if(!s)return;const g=y=>{y.preventDefault(),b()},d=y=>{if(s&&n.canGoBack)return y.preventDefault(),y.returnValue="",""};return window.addEventListener("popstate",g),window.addEventListener("beforeunload",d),()=>{window.removeEventListener("popstate",g),window.removeEventListener("beforeunload",d)}},[s,b,n.canGoBack]);const m=_.useCallback(g=>{if(typeof window<"u"&&s){const d={view:g,timestamp:Date.now()};window.history.pushState(d,"",`#${g}`)}},[s]);_.useEffect(()=>{typeof window<"u"&&s&&window.history.replaceState({view:"initial",timestamp:Date.now()},"",window.location.pathname)},[s]);const f=_.useCallback(()=>{o(!1),E().then(()=>{t()}).catch(g=>{console.error("Error during cleanup:",g),t()})},[t]),E=_.useCallback(async()=>{try{if(console.log(" Performing cleanup before exit..."),["customerName","customerEmail","customerRememberMe","customerLastLoginTime","customerSelectedSystem","customerLogout"].forEach(d=>{localStorage.removeItem(d)}),sessionStorage.clear(),"serviceWorker"in navigator&&"controller"in navigator.serviceWorker){const d=await navigator.serviceWorker.ready;d&&d.active&&(d.active.postMessage({type:"EXIT_APP",timestamp:Date.now()}),console.log(" Sent exit message to service worker"))}await new Promise(d=>setTimeout(d,100)),console.log(" Cleanup completed")}catch(g){throw console.error(" Error during cleanup:",g),g}},[]),D=_.useCallback(()=>{o(!1)},[]),q=_.useCallback(()=>{s?(x("exit-button"),o(!0)):t()},[s,t]);return{navigationState:n,showExitDialog:i,exitDialogType:c,addToHistory:h,navigateBack:b,updateBrowserHistory:m,confirmExit:f,cancelExit:D,triggerExit:q}};class Mb extends _.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,a){console.error("Error Boundary caught an error:",t,a)}render(){var t;return this.state.hasError?l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-gray-50 to-blue-50 dark:from-gray-900 dark:via-slate-900 dark:to-gray-900 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-2xl p-8 max-w-md w-full text-center",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900/20 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(ht,{className:"w-8 h-8 text-red-600 dark:text-red-400"})}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Something went wrong"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"The application encountered an unexpected error. Please refresh the page to continue."})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-brand-orange text-white px-4 py-2 rounded-lg hover:bg-orange-600 transition-colors",children:l.jsx("span",{children:"Refresh Page"})}),l.jsxs("details",{className:"text-left",children:[l.jsx("summary",{className:"cursor-pointer text-sm text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300",children:"Technical Details"}),l.jsx("pre",{className:"mt-2 p-3 bg-gray-100 dark:bg-gray-700 rounded text-xs text-gray-600 dark:text-gray-400 overflow-auto",children:(t=this.state.error)==null?void 0:t.message})]})]})]})}):this.props.children}}const qb=()=>{const{user:e,logout:t,theme:a,toggleTheme:s,bookings:n,bookingRequests:r,pendingRequestCount:i,isLoading:o,addBookingRequest:c,approveBookingRequest:x,rejectBookingRequest:h,deleteBookingRequest:b,refreshData:m,refreshDataSilent:f}=_.useContext(Ht),E=()=>{localStorage.removeItem("customerName"),localStorage.removeItem("customerEmail"),localStorage.removeItem("customerRememberMe"),localStorage.removeItem("customerLastLoginTime"),localStorage.removeItem("customerSelectedSystem"),localStorage.setItem("customerLogout","true"),setTimeout(()=>{localStorage.removeItem("customerLogout")},1e3),V(!1),console.log(" Cleared customer remember me data and system preference on logout"),t()},D=L=>{z(L),V(!1),localStorage.setItem("customerSelectedSystem",L),console.log(` Saved customer system preference: ${L}`),g("dashboard")},[q,g]=_.useState("dashboard"),[d,y]=_.useState({});_.useEffect(()=>{if(e)if(e.role==="customer"){const L=localStorage.getItem("customerSelectedSystem");L&&(L==="ground"||L==="net")?(z(L),V(!1),g("dashboard")):V(!0)}else g("dashboard")},[e]);const[k,z]=_.useState("ground"),[U,B]=_.useState(!1),[H,Z]=_.useState("animate-fadeIn"),[Y,P]=_.useState("landing"),[Q,V]=_.useState(!1),[G,I]=_.useState(null),[O,X]=_.useState("/manifest.json"),[w,C]=_.useState(null),[u,S]=_.useState(!1);_.useEffect(()=>{const L=()=>{S(window.innerWidth<=768||"ontouchstart"in window||navigator.maxTouchPoints>0)};return L(),window.addEventListener("resize",L),()=>window.removeEventListener("resize",L)},[]);const{navigationState:N,showExitDialog:j,exitDialogType:p,addToHistory:v,updateBrowserHistory:T,confirmExit:M,cancelExit:$,triggerExit:F}=Cb({onExit:async()=>{console.log(" Initiating PWA exit process...");try{if("serviceWorker"in navigator)try{const L=await navigator.serviceWorker.ready;L&&L.active&&(console.log(" Sending exit command to service worker..."),L.active.postMessage({type:"EXIT_APP",timestamp:Date.now(),url:window.location.href}),await new Promise(le=>setTimeout(le,200)))}catch(L){console.log("Service worker exit failed:",L)}if(window.ReactNativeWebView){console.log(" React Native WebView detected, sending exit message..."),window.ReactNativeWebView.postMessage(JSON.stringify({type:"EXIT_APP",timestamp:Date.now()}));return}if(window.twaExitApp){console.log(" Trusted Web Activity detected, using TWA exit..."),window.twaExitApp();return}if(window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches){console.log(" Standalone PWA detected, attempting native exit...");const L=[()=>window.close(),()=>{throw new Error("close failed")}];for(const le of L)try{le(),console.log(" Exit method successful");return}catch(ue){console.log(" Exit method failed:",ue)}}console.log(" Using fallback exit method..."),window.location.href="about:blank"}catch(L){console.error(" Exit process failed:",L),window.location.href="about:blank"}},onNavigateBack:L=>{g(L)},isMobile:u});_.useEffect(()=>{u&&e&&q&&(v(q),T(q))},[u,e,q,v,T]),_.useEffect(()=>{e&&(async()=>{try{console.log(" Initializing notification service for user:",e.name),await at.initialize(),console.log(" Notification service initialized successfully")}catch(le){console.error(" Failed to initialize notification service:",le)}})()},[e]),_.useEffect(()=>{const L=ue=>{const{type:Me}=ue.detail||{};switch(Me){case"booking_request":((e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="management")&&Mt("bookings");break;case"booking_approval":case"booking_rejection":(e==null?void 0:e.role)==="customer"&&Mt("bookings");break;default:console.log("Unknown notification navigation type:",Me)}},le=["navigateToBookings","navigateToBookingsTracker"];return le.forEach(ue=>{window.addEventListener(ue,L)}),()=>{le.forEach(ue=>{window.removeEventListener(ue,L)})}},[e]),_.useEffect(()=>{(e==null?void 0:e.role)==="customer"?X("/manifest-customer.json"):X("/manifest.json");const L=Dt=>{Dt.preventDefault(),I(Dt)};window.addEventListener("beforeinstallprompt",L);const le=Dt=>{},ue=Dt=>{},Me=()=>{document.hidden},ts=()=>{},en=history.pushState,tn=history.replaceState;history.pushState=function(...Dt){return en.apply(history,Dt)},history.replaceState=function(...Dt){return tn.apply(history,Dt)},window.addEventListener("beforeunload",le),window.addEventListener("pagehide",ue),window.addEventListener("visibilitychange",Me),window.addEventListener("unload",ts);const an=()=>{};return window.addEventListener("popstate",an),(()=>{if("serviceWorker"in navigator){let Dt=!1;navigator.serviceWorker.addEventListener("controllerchange",()=>{Dt||(Dt=!0,window.location.reload())}),navigator.serviceWorker.register("/service-worker.js").then(qa=>{qa.waiting&&qa.waiting.postMessage({type:"SKIP_WAITING"}),qa.addEventListener("updatefound",()=>{const zr=qa.installing;zr&&zr.addEventListener("statechange",()=>{var vc;zr.state==="installed"&&navigator.serviceWorker.controller&&((vc=qa.waiting)==null||vc.postMessage({type:"SKIP_WAITING"}))})}),qa.active&&qa.active.postMessage({type:"SUPABASE_CREDENTIALS",supabaseUrl:"your_production_supabase_url_here",supabaseKey:"your_production_supabase_anon_key_here"})}).catch(()=>{})}})(),()=>{window.removeEventListener("beforeinstallprompt",L),window.removeEventListener("beforeunload",le),window.removeEventListener("pagehide",ue),window.removeEventListener("visibilitychange",Me),window.removeEventListener("unload",ts),window.removeEventListener("popstate",an),history.pushState=en,history.replaceState=tn}},[]);const ee=async()=>{G&&(G.prompt(),await G.userChoice)};_.useEffect(()=>{const L=document.querySelector('link[rel="manifest"]');L&&L.setAttribute("href",O)},[O,e==null?void 0:e.role]);const[re,ie]=_.useState({isOpen:!1,date:null,booking:null}),[te,_e]=_.useState({isOpen:!1,date:null}),[We,bt]=_.useState(!1),A=(L,le=null)=>{ie({isOpen:!0,date:L,booking:le})},K=()=>ie({isOpen:!1,date:null,booking:null}),J=(L,le,ue)=>{_e({isOpen:!0,date:L,booking:le}),z(ue)},se=()=>_e({isOpen:!1,date:null,booking:void 0}),de=async L=>{try{return await c({...L,status:W.PENDING,created_at:new Date().toISOString()})}catch(le){throw console.error("Failed to submit booking request:",le),alert("Failed to submit booking request. Please try again."),le}},[ke,Re]=_.useState(!1),Et=()=>{Re(!0)},Ca=()=>{Re(!1)};if(!e)switch(Y){case"landing":return l.jsx(Zd,{onCustomerLogin:()=>P("customer"),onAdminLogin:()=>P("admin")});case"customer":return l.jsx(sb,{onBack:()=>P("landing")});case"admin":return l.jsx(zx,{isManagementPortal:!0});default:return l.jsx(Zd,{onCustomerLogin:()=>P("customer"),onAdminLogin:()=>P("admin")})}if(e&&e.role==="customer"&&Q)return l.jsx(wb,{onSelectSystem:D,customerName:e.name});if(o)return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-gray-50 to-blue-50 dark:from-gray-900 dark:via-slate-900 dark:to-gray-900 flex items-center justify-center p-4",children:l.jsxs("div",{className:"flex flex-col items-center space-y-6 sm:space-y-8",children:[l.jsx("div",{className:"relative",children:l.jsx("img",{src:"logo.png",alt:"Harvard House Sports Logo",className:"h-32 w-32 sm:h-36 sm:w-36"})}),l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-lg sm:text-xl font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Loading System..."}),l.jsxs("div",{className:"flex justify-center space-x-1",children:[l.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce"}),l.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full animate-bounce delay-100"}),l.jsx("div",{className:"w-2 h-2 bg-indigo-500 rounded-full animate-bounce delay-200"})]})]})]})});const Mt=async L=>{q!==L&&(B(!0),u&&q&&(v(q),T(q)),y(le=>({...le,[L]:!0})),setTimeout(()=>{g(L),B(!1),u&&(v(L),T(L))},150),e&&(e.role==="admin"||e.role==="management")?setTimeout(()=>{f().then(()=>{console.log(` Data refreshed successfully for ${L} tab`),y(le=>({...le,[L]:!1}))}).catch(le=>{console.error(` Error refreshing data during tab switch to ${L}:`,le),y(ue=>({...ue,[L]:!1}))})},200):setTimeout(()=>{y(le=>({...le,[L]:!1}))},300))},Zs=L=>{const le=["ground","net"],ue=le.indexOf(k),Me=le.indexOf(L);ue!==Me&&(Me>ue?Z("animate-slideInFromRight"):Z("animate-slideInFromLeft"),z(L))},Mr=()=>{const L=new Date,le=new Date(L.getFullYear(),L.getMonth(),1),ue=new Date(L.getFullYear(),L.getMonth()+1,0),Me=ts=>{const en=ts.getFullYear(),tn=(ts.getMonth()+1).toString().padStart(2,"0"),an=ts.getDate().toString().padStart(2,"0");return`${en}-${tn}-${an}`};C({start:Me(le),end:Me(ue)}),Mt("bookings")},Pl=()=>{C(null),Mt("customers")},Ma=e?(L=>[{view:"dashboard",label:L==="customer"?"Home":"Dashboard",icon:xi},{view:"calendar",label:"Calendar",icon:lt},{view:"bookings",label:L==="customer"?"Track Bookings":"Bookings",icon:yn},{view:"customers",label:"Customers",icon:Mn},{view:"my-requests",label:"My Requests",icon:yn}])(e.role):[{view:"dashboard",label:"Dashboard",icon:xi},{view:"calendar",label:"Calendar",icon:lt},{view:"bookings",label:"Bookings",icon:yn},{view:"customers",label:"Customers",icon:Mn}],Vm=e?(L=>{switch(L){case"admin":return Ma.slice(0,5);case"management":return Ma.slice(0,3);case"customer":return[Ma[1],Ma[2]];default:return Ma.slice(0,3)}})(e.role):Ma.slice(0,3),qr=e?(L=>{const le=[{view:"dashboard",label:L==="customer"?"Home":"Dashboard",icon:xi},{view:"calendar",label:"Calendar",icon:lt},{view:"bookings",label:L==="customer"?"Track Bookings":"Bookings",icon:yn},{view:"customers",label:"Customers",icon:Mn}];return L==="customer"?[le[1],le[2]]:L==="management"?le.slice(0,3):le})(e.role):Ma.slice(0,3);console.log("Bottom navigation items for role:",e==null?void 0:e.role,qr.length,"items");const Qm=({view:L,label:le,icon:ue})=>l.jsxs("button",{onClick:()=>Mt(L),className:`group w-full flex items-center justify-center space-x-3 px-4 py-3 rounded-xl text-sm font-medium transition-all duration-300 touch-manipulation transform hover:scale-105 ${q===L?"bg-gradient-to-r from-orange-500 to-red-500 text-white shadow-lg":"text-gray-600 dark:text-gray-400 hover:bg-white/50 dark:hover:bg-gray-700/50 hover:text-gray-800 dark:hover:text-white"}`,children:[l.jsx("div",{className:`p-2 rounded-lg transition-all duration-300 flex-shrink-0 flex items-center justify-center ${q===L?"bg-white/20":"bg-gray-100 dark:bg-gray-700 group-hover:bg-orange-100 dark:group-hover:bg-orange-900/30"}`,children:l.jsx(ue,{size:18})}),l.jsx("span",{className:"truncate flex-1 text-left",children:le}),L==="bookings"&&i>0&&((e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="management")&&l.jsx("div",{className:"bg-red-500 text-white text-xs font-bold px-1.5 py-0.5 rounded-full min-w-[20px] h-5 flex items-center justify-center flex-shrink-0","aria-label":`${i} pending requests`,children:i})]}),Xm=({view:L,label:le,icon:ue})=>l.jsxs("button",{onClick:()=>Mt(L),className:`group flex flex-col items-center justify-center w-full h-full text-xs transition-all duration-300 touch-manipulation py-2 relative transform active:scale-95 ${q===L?"text-orange-500":"text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200"}`,children:[l.jsx("div",{className:`p-2 sm:p-2.5 rounded-xl transition-all duration-300 flex-shrink-0 flex items-center justify-center ${q===L?"bg-orange-100 dark:bg-orange-900/30":"bg-gray-100 dark:bg-gray-700 group-hover:bg-orange-50 dark:group-hover:bg-orange-900/20"}`,children:l.jsx(ue,{size:20,className:"sm:w-[22px] sm:h-[22px]"})}),l.jsx("span",{className:"text-xs leading-tight font-medium mt-1 text-center",children:le}),L==="bookings"&&i>0&&((e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="management")&&l.jsx("div",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs font-bold px-1.5 py-0.5 rounded-full min-w-[18px] h-4 flex items-center justify-center z-10","aria-label":`${i} pending requests`,children:i})]}),pc=({system:L,label:le})=>{const ue=k===L,Me=L==="ground";return l.jsxs("button",{onClick:()=>Zs(L),className:`group relative px-4 sm:px-6 py-3 sm:py-4 rounded-2xl font-bold transition-all duration-500 text-sm sm:text-base touch-manipulation transform hover:scale-105 ${ue?Me?"bg-gradient-to-r from-orange-500 to-red-500 text-white shadow-2xl shadow-orange-500/30 animate-tab-glow":"bg-gradient-to-r from-blue-600 to-indigo-600 text-white shadow-2xl shadow-blue-500/30 animate-tab-glow-blue":"bg-white/80 dark:bg-gray-700/80 text-gray-700 dark:text-gray-300 hover:bg-white dark:hover:bg-gray-700 border-2 border-transparent hover:border-gray-200 dark:hover:border-gray-600"}`,children:[ue&&l.jsx("div",{className:`absolute inset-0 rounded-2xl opacity-50 blur-xl ${Me?"bg-gradient-to-r from-orange-400 to-red-400":"bg-gradient-to-r from-blue-500 to-indigo-500"}`}),l.jsxs("div",{className:`absolute inset-0 rounded-2xl overflow-hidden ${ue?"opacity-100":"opacity-0"} transition-opacity duration-500`,children:[l.jsx("div",{className:`absolute top-1 left-2 w-1 h-1 rounded-full ${Me?"bg-orange-200":"bg-blue-200"} animate-particle-float`}),l.jsx("div",{className:`absolute top-2 right-3 w-0.5 h-0.5 rounded-full ${Me?"bg-red-200":"bg-indigo-200"} animate-particle-float delay-1000`}),l.jsx("div",{className:`absolute bottom-2 left-4 w-1 h-1 rounded-full ${Me?"bg-orange-300":"bg-blue-300"} animate-particle-float delay-500`})]}),l.jsxs("span",{className:"relative z-10 flex items-center justify-center space-x-2",children:[l.jsx("div",{className:`p-1.5 rounded-lg transition-all duration-300 flex-shrink-0 flex items-center justify-center ${ue?"bg-white/20":"bg-gray-100 dark:bg-gray-600 group-hover:bg-orange-100 dark:group-hover:bg-orange-900/30"}`,children:Me?l.jsx(No,{className:`w-4 h-4 sm:w-5 sm:h-5 transition-transform duration-300 ${ue?"scale-110":"group-hover:scale-110"}`}):l.jsx(jo,{className:`w-4 h-4 sm:w-5 sm:h-5 transition-transform duration-300 ${ue?"scale-110":"group-hover:scale-110"}`})}),l.jsx("span",{className:"font-bold",children:le}),ue&&l.jsxs("div",{className:"flex space-x-1 flex-shrink-0",children:[l.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full animate-pulse"}),l.jsx("div",{className:"w-1.5 h-1.5 bg-white/70 rounded-full animate-pulse delay-100"}),l.jsx("div",{className:"w-1.5 h-1.5 bg-white/50 rounded-full animate-pulse delay-200"})]})]}),l.jsx("div",{className:`absolute inset-0 rounded-2xl transition-opacity duration-300 ${ue?"opacity-0":"opacity-0 group-hover:opacity-100"} bg-gradient-to-r ${Me?"from-orange-500/10 to-red-500/10":"from-blue-500/10 to-indigo-500/10"}`})]})},Zm=()=>{const L=n[k],le=d[q]||!1,ue=()=>l.jsxs("div",{className:"space-y-4 animate-pulse",children:[l.jsx("div",{className:"h-8 bg-gray-200 dark:bg-gray-700 rounded w-1/3"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3].map(Me=>l.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow",children:[l.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4 mb-2"}),l.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-1/2"})]},Me))})]});switch(q){case"dashboard":return(e==null?void 0:e.role)==="customer"?l.jsxs("div",{className:"text-center py-12 relative",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-200 mb-4",children:"Welcome to Harvard House Sports"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-8",children:"Please use the calendar to check availability. Contact management directly for booking inquiries."}),l.jsxs("div",{className:"relative inline-block",children:[l.jsx("div",{className:"absolute inset-0 rounded-full animate-ping bg-gradient-to-r from-orange-400 via-red-400 to-pink-400 opacity-20 blur-xl"}),l.jsx("div",{className:"absolute inset-0 rounded-full animate-pulse bg-gradient-to-r from-blue-400 via-purple-400 to-orange-400 opacity-30 blur-lg"}),l.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-orange-500 via-red-500 to-pink-500 opacity-40 blur-md"}),l.jsxs("button",{onClick:()=>{Mt("calendar")},className:"group relative bg-gradient-to-r from-orange-500 via-red-500 to-pink-500 text-white font-bold text-lg px-8 py-4 rounded-full shadow-2xl transform transition-all duration-300 hover:scale-110 hover:shadow-3xl focus:outline-none focus:ring-4 focus:ring-orange-300/50 active:scale-95 border-2 border-white/20",children:[l.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-orange-400 to-red-400 opacity-50 blur-sm group-hover:opacity-75 transition-opacity duration-300"}),l.jsxs("div",{className:"relative flex items-center justify-center space-x-3",children:[l.jsx("div",{className:"p-2 bg-white/20 rounded-full group-hover:bg-white/30 transition-colors duration-300",children:l.jsx(lt,{className:"w-6 h-6"})}),l.jsx("span",{className:"text-xl font-bold",children:"Book Now"}),l.jsx("div",{className:"absolute -top-2 -right-2 w-3 h-3 bg-yellow-300 rounded-full animate-pulse opacity-80"}),l.jsx("div",{className:"absolute -bottom-2 -left-2 w-2 h-2 bg-blue-300 rounded-full animate-pulse opacity-60 delay-300"}),l.jsx("div",{className:"absolute top-1 -right-4 w-1.5 h-1.5 bg-pink-300 rounded-full animate-pulse opacity-70 delay-500"})]}),l.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-white/0 via-white/10 to-white/0 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),l.jsx("div",{className:"absolute inset-x-0 -bottom-4 h-4 bg-gradient-to-t from-white/10 to-transparent rounded-full blur-sm opacity-50"})]}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-8",children:"Click the button above to start booking instantly"})]}):le?ue():l.jsx(Jd,{bookings:L,openModal:A,onBookingsCardClick:Mr,onRevenueCardClick:Pl});case"calendar":return(e==null?void 0:e.role)==="customer"?le?ue():l.jsx(ob,{bookings:L,bookingRequests:r[k],system:k,onBookingRequest:de}):le?ue():l.jsx(ib,{bookings:L,bookingRequests:r[k],openModal:A,system:k,onApproveRequest:x,onRejectRequest:h,onManageSpecialDates:Et});case"bookings":return(e==null?void 0:e.role)==="customer"?le?ue():l.jsx(jb,{}):le?ue():l.jsx(fb,{bookings:L,bookingRequests:r[k],openModal:A,initialDateFilter:w,clearInitialFilter:()=>C(null),onApproveRequest:x,onRejectRequest:h,onDeleteRequest:b,onEditRequest:J,onDataRefresh:()=>f(),system:k});case"customers":return(e==null?void 0:e.role)==="customer"?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-200 mb-4",children:"Access Restricted"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"You don't have permission to access this page."})]}):le?ue():l.jsx(xb,{bookings:L});case"my-requests":return l.jsxs("div",{className:"text-center py-12",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-200 mb-4",children:"Access Restricted"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"You don't have permission to access this page."})]});default:return(e==null?void 0:e.role)==="customer"?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-200 mb-4",children:"Welcome to Harvard House Sports"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Please use the calendar to check availability. Contact management directly for booking inquiries."})]}):l.jsx(Jd,{bookings:L,openModal:A,onBookingsCardClick:Mr,onRevenueCardClick:Pl})}};return l.jsxs(Mb,{children:[l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-gray-50 to-blue-50 dark:from-gray-900 dark:via-slate-900 dark:to-gray-900 font-sans animate-fadeIn",children:[l.jsx(_b,{showDetails:!0}),l.jsxs("aside",{className:"w-60 lg:w-64 bg-white/95 dark:bg-gray-800/95 backdrop-blur-sm shadow-xl border-r border-gray-200/50 dark:border-gray-700/50 hidden lg:flex flex-col fixed h-full z-20 animate-slideInLeft",children:[l.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("img",{src:"logo.png",alt:"Logo",className:"h-12 w-12"}),l.jsxs("div",{children:[l.jsx("h2",{className:"font-bold text-gray-800 dark:text-white text-sm",children:"HHS Sports"}),l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Management"})]})]})}),l.jsx("nav",{className:"flex-grow p-3 sm:p-4",children:l.jsx("ul",{className:"space-y-1 sm:space-y-2",children:Vm.map(L=>l.jsx("li",{children:l.jsx(Qm,{...L})},L.view))})})]}),l.jsxs("div",{className:"flex-1 flex flex-col md:ml-64 min-h-screen",children:[l.jsx("header",{className:"bg-white/95 dark:bg-gray-800/95 backdrop-blur-sm sticky top-0 z-10 border-b border-gray-200/50 dark:border-gray-700/50 shadow-sm animate-slideInUp",children:l.jsx("div",{className:"container mx-auto px-3 sm:px-4 lg:px-6",children:l.jsxs("div",{className:"flex items-center justify-between h-16 sm:h-18 md:h-20",children:[l.jsx("div",{className:"flex items-center min-w-0 flex-1",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("img",{src:"logo.png",alt:"Harvard House Sports Logo",className:"h-10 w-10 sm:h-12 sm:w-12 md:h-14 md:w-14 mr-2 sm:mr-3"}),l.jsxs("div",{className:"ml-1 sm:ml-2 md:ml-3 min-w-0",children:[l.jsx("h1",{className:"text-lg sm:text-xl md:text-2xl lg:text-3xl xl:text-4xl 2xl:text-5xl font-display font-bold text-gray-800 dark:text-white leading-tight truncate",children:"Harvard House Sports"}),l.jsx("div",{className:"flex flex-col",children:l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:(e==null?void 0:e.role)==="customer"?"Customer Portal":"Booking Management System"})})]})]})}),l.jsxs("div",{className:"flex items-center space-x-0.5 sm:space-x-0.5 md:space-x-1",children:[Object.values(d).some(L=>L)&&l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse"}),l.jsx("div",{className:"absolute inset-0 w-2 h-2 bg-blue-400 rounded-full animate-ping opacity-75"})]}),l.jsx("button",{onClick:s,className:"p-2 sm:p-2 md:p-2.5 rounded-xl text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-all duration-300 touch-manipulation transform hover:scale-110 flex items-center justify-center min-w-[44px] min-h-[44px]",children:l.jsx("div",{className:"flex items-center justify-center",children:a==="light"?l.jsx(jh,{size:20}):l.jsx(Hh,{size:20})})}),l.jsxs("div",{className:"flex flex-col items-center justify-center",children:[l.jsx("button",{onClick:E,className:"p-2 sm:p-2 md:p-2.5 rounded-xl text-gray-600 dark:text-gray-300 hover:bg-red-50 dark:hover:bg-red-900/20 transition-all duration-300 touch-manipulation transform hover:scale-110 flex items-center justify-center min-w-[44px] min-h-[44px]",children:l.jsx("div",{className:"flex items-center justify-center",children:l.jsx($m,{size:20})})}),e&&l.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5 text-center leading-tight",children:e.name.substring(0,4)})]})]})]})})}),l.jsxs("main",{className:"flex-1 container mx-auto p-3 sm:p-4 lg:p-6",children:[e&&(e.role==="admin"||e.role==="management")&&l.jsxs("div",{className:"relative flex justify-center mb-6 sm:mb-8",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-orange-500/5 via-transparent to-blue-500/5 rounded-3xl blur-xl"}),l.jsxs("div",{className:"relative bg-white/80 dark:bg-gray-800/80 backdrop-blur-lg rounded-3xl p-2 shadow-xl border border-gray-200/50 dark:border-gray-700/50",children:[l.jsx("div",{className:"absolute top-0 left-0 w-20 h-20 bg-gradient-to-br from-orange-400/20 to-red-500/20 rounded-full blur-2xl animate-pulse"}),l.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-gradient-to-br from-blue-400/20 to-indigo-500/20 rounded-full blur-2xl animate-pulse delay-1000"}),l.jsxs("div",{className:"relative flex space-x-2 sm:space-x-3",children:[l.jsx(pc,{system:"ground",label:"Ground Booking"}),l.jsx(pc,{system:"net",label:"Indoor Net Booking"})]}),l.jsx("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 w-32 h-1 bg-gradient-to-r from-orange-400 via-red-400 to-transparent rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})]}),e&&e.role==="customer"&&l.jsx("div",{className:"flex justify-center mb-6 sm:mb-8",children:l.jsx("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-lg rounded-2xl px-6 py-3 shadow-lg border border-gray-200/50 dark:border-gray-700/50",children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:`p-2 rounded-lg flex items-center justify-center ${k==="ground"?"bg-gradient-to-br from-orange-500 to-red-500 text-white":"bg-gradient-to-br from-blue-500 to-indigo-500 text-white"}`,children:k==="ground"?l.jsx(No,{className:"w-5 h-5"}):l.jsx(jo,{className:"w-5 h-5"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Current System"}),l.jsx("p",{className:"font-bold text-gray-800 dark:text-white",children:k==="ground"?"Ground Booking":"Indoor Net Booking"})]}),l.jsx("button",{onClick:()=>{localStorage.removeItem("customerSelectedSystem"),console.log(" Cleared customer system preference for switching"),V(!0)},className:"ml-4 px-3 py-1.5 text-xs font-medium text-orange-600 dark:text-orange-400 bg-orange-50 dark:bg-orange-900/20 rounded-lg hover:bg-orange-100 dark:hover:bg-orange-900/30 transition-colors duration-200 border border-orange-200 dark:border-orange-800 flex items-center justify-center",children:"Switch System"})]})})}),l.jsx("div",{className:` ${U?"animate-fadeOut":""}`,children:l.jsx("div",{className:H,children:Zm()},k)})]}),e&&qr.length>0&&l.jsx("footer",{className:"sticky bottom-0 left-0 right-0 bg-white dark:bg-gray-800 border-t border-gray-200/50 dark:border-gray-700/50 z-40 lg:hidden shadow-2xl pb-safe",children:l.jsxs("nav",{className:"flex justify-around h-16 sm:h-18 md:h-20",children:[qr.map(L=>l.jsx(Xm,{...L},L.view)),u&&l.jsxs("button",{onClick:F,className:"group flex flex-col items-center justify-center w-full h-full text-xs transition-all duration-300 touch-manipulation py-2 relative transform active:scale-95 text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300","aria-label":"Exit App",children:[l.jsx("div",{className:"p-2 sm:p-2.5 rounded-xl transition-all duration-300 flex-shrink-0 bg-red-50 dark:bg-red-900/20 group-hover:bg-red-100 dark:group-hover:bg-red-900/30 flex items-center justify-center",children:l.jsx(_h,{size:20,className:"sm:w-[22px] sm:h-[22px]"})}),l.jsx("span",{className:"text-xs leading-tight font-medium mt-1 text-center",children:"Exit"})]})]})})]})]}),l.jsx(kb,{deferredPrompt:G,onInstallClick:ee,userRole:e==null?void 0:e.role}),l.jsx(hb,{isOpen:re.isOpen,onClose:K,date:re.date,booking:re.booking,system:k,onBookingUpdate:f}),(e==null?void 0:e.role)==="admin"&&l.jsx(bb,{isOpen:te.isOpen,onClose:se,date:te.date,system:k,onSubmitRequest:de,userRole:e.role,onBookingUpdate:f,booking:te.booking}),(e==null?void 0:e.role)==="customer"&&l.jsx(yb,{isOpen:te.isOpen,onClose:se,date:te.date,system:k,onSubmitRequest:de,user:e,bookings:n[k],onBookingUpdate:f}),u&&l.jsx(Eb,{isOpen:j,onConfirm:M,onCancel:$,canGoBack:N.canGoBack,exitType:p}),l.jsx(Tb,{isOpen:We,onClose:()=>bt(!1),user:e}),(e==null?void 0:e.role)==="admin"&&l.jsx(Ab,{isOpen:ke,onClose:Ca})]})},zb=()=>l.jsx(qb,{}),Ym=document.getElementById("root");if(!Ym)throw new Error("Could not find root element to mount to");const Rb=Ax.createRoot(Ym);Rb.render(l.jsx(Fm.StrictMode,{children:l.jsx(qx,{children:l.jsx(zb,{})})}));
